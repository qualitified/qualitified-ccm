function register(e){function t(e){var t=this;"@traceur"==e.name&&(p=System);var r,n=e.source.lastIndexOf("\n");-1!=n&&"//# sourceMappingURL="==e.source.substr(n+1,21)&&(r=e.source.substr(n+22,e.source.length-n-22),"undefined"!=typeof toAbsoluteURL&&(r=toAbsoluteURL(e.address,r))),__eval(e.source,e.address,r),"@traceur"==e.name&&(t.global.traceurSystem=t.global.System,t.global.System=p)}function r(e){for(var t=[],r=0,n=e.length;n>r;r++)-1==indexOf.call(t,e[r])&&t.push(e[r]);return t}function n(t,r,n,i){"string"!=typeof t&&(i=n,n=r,r=t,t=null),d=!0;var o;if("boolean"==typeof n)o={declarative:!1,deps:r,execute:i,executingRequire:n};else{if(r.length>0&&1!=n.length)throw"Invalid System.register form for "+t+". Declare function must take one argument.";o={declarative:!0,deps:r,declare:n}}if(t)o.name=t,e.defined[t]||(e.defined[t]=o);else if(o.declarative){if(f)throw"Multiple anonymous System.register calls in the same module file.";f=o}}function i(e){if(!e.register){e.register=n,e.defined||(e.defined={});var t=e.onScriptLoad;e.onScriptLoad=function(e){t(e),f&&(e.metadata.entry=f),d&&(e.metadata.format=e.metadata.format||"register",e.metadata.registered=!0)}}}function o(e,t,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==indexOf.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var n=0,i=e.normalizedDeps.length;i>n;n++){var s=e.normalizedDeps[n],a=t.defined[s];if(a&&!a.evaluated){var c=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<c){if(a.groupIndex&&(r[a.groupIndex].splice(indexOf.call(r[a.groupIndex],a),1),0==r[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=c}o(a,t,r)}}}}function s(e,t){var r=t.defined[e];r.groupIndex=0;var n=[];o(r,t,n);for(var i=!!r.declarative==n.length%2,s=n.length-1;s>=0;s--){for(var a=n[s],u=0;u<a.length;u++){var h=a[u];i?c(h,t):l(h,t)}i=!i}}function a(e){return m[e]||(m[e]={name:e,dependencies:[],exports:{},importers:[]})}function c(e,t){if(!e.module){var r=e.module=a(e.name),n=e.module.exports,i=e.declare.call(t.global,function(e,t){r.locked=!0,n[e]=t;for(var i=0,o=r.importers.length;o>i;i++){var s=r.importers[i];if(!s.locked){var a=indexOf.call(s.dependencies,r);s.setters[a](n)}}return r.locked=!1,t});if(r.setters=i.setters,r.execute=i.execute,!r.setters||!r.execute)throw"Invalid System.register form for "+e.name;for(var o=0,s=e.normalizedDeps.length;s>o;o++){var u,l=e.normalizedDeps[o],h=t.defined[l],p=m[l];p?u=p.exports:h&&!h.declarative?u={"default":h.module.exports,__useDefault:!0}:h?(c(h,t),p=h.module,u=p.exports):u=t.get(l),p&&p.importers?(p.importers.push(r),r.dependencies.push(p)):r.dependencies.push(null),r.setters[o]&&r.setters[o](u)}}}function u(e,t){var r,n=t.defined[e];if(n)n.declarative?h(e,[],t):n.evaluated||l(n,t),r=n.module.exports;else if(r=t.get(e),!r)throw"Unable to load dependency "+e+".";return(!n||n.declarative)&&r&&r.__useDefault?r["default"]:r}function l(e,t){if(!e.module){var r={},n=e.module={exports:r,id:e.name};if(!e.executingRequire)for(var i=0,o=e.normalizedDeps.length;o>i;i++){var s=e.normalizedDeps[i],a=t.defined[s];a&&l(a,t)}e.evaluated=!0;var c=e.execute.call(t.global,function(r){for(var n=0,i=e.deps.length;i>n;n++)if(e.deps[n]==r)return u(e.normalizedDeps[n],t);throw"Module "+r+" not declared as a dependency."},r,n);c&&(n.exports=c)}}function h(e,t,r){var n=r.defined[e];if(!n.evaluated&&n.declarative){t.push(e);for(var i=0,o=n.normalizedDeps.length;o>i;i++){var s=n.normalizedDeps[i];-1==indexOf.call(t,s)&&(r.defined[s]?h(s,t,r):r.get(s))}n.evaluated||(n.evaluated=!0,n.module.execute.call(r.global))}}"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf),"undefined"==typeof __eval&&(__eval=eval);var p;e.__exec=t;var f,d;i(e);var m={},g=/System\.register/,y=e.fetch;e.fetch=function(e){var t=this;return i(t),t.defined[e.name]?(e.metadata.format="defined",""):(f=null,d=!1,y.call(t,e))};var v=e.translate;e.translate=function(e){return this.register=n,this.__exec=t,e.metadata.deps=e.metadata.deps||[],Promise.resolve(v.call(this,e)).then(function(t){return(e.metadata.init||e.metadata.exports)&&(e.metadata.format=e.metadata.format||"global"),("register"==e.metadata.format||!e.metadata.format&&e.source.match(g))&&(e.metadata.format="register"),t})};var b=e.instantiate;e.instantiate=function(e){var t,i=this;if(i.defined[e.name])t=i.defined[e.name];else if(e.metadata.entry)t=e.metadata.entry;else if(e.metadata.execute)t={declarative:!1,deps:e.metadata.deps||[],execute:e.metadata.execute,executingRequire:e.metadata.executingRequire};else if("register"==e.metadata.format){f=null,d=!1;var o=i.global.System=i.global.System||i,a=o.register;if(o.register=n,i.__exec(e),o.register=a,f&&(t=f),!t&&o.defined[e.name]&&(t=o.defined[e.name]),!d&&!e.metadata.registered)throw e.name+" detected as System.register but didn't execute."}if(!t&&"es6"!=e.metadata.format)return{deps:[],execute:function(){return i.newModule({})}};if(!t)return b.call(this,e);i.defined[e.name]=t,t.deps=r(t.deps),t.name=e.name;for(var c=[],u=0,l=t.deps.length;l>u;u++)c.push(Promise.resolve(i.normalize(t.deps[u],e.name)));return Promise.all(c).then(function(r){return t.normalizedDeps=r,{deps:t.deps,execute:function(){s(e.name,i),h(e.name,[],i),i.defined[e.name]=void 0;var r=i.newModule(t.declarative?t.module.exports:{"default":t.module.exports,__useDefault:!0});return r}}})}}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function r(e,t,r){t=t||se;var n,i=t.createElement("script");if(i.text=e,r)for(n in Se)r[n]&&(i[n]=r[n]);t.head.appendChild(i).parentNode.removeChild(i)}function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[fe.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,r=n(e);return ve(e)||be(e)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,r){return ve(t)?_e.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?_e.grep(e,function(e){return e===t!==r}):"string"!=typeof t?_e.grep(e,function(e){return he.call(t,e)>-1!==r}):_e.filter(t,e,r)}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return _e.each(e.match(Le)||[],function(e,r){t[r]=!0}),t}function u(e){return e}function l(e){throw e}function h(e,t,r,n){var i;try{e&&ve(i=e.promise)?i.call(e).done(t).fail(r):e&&ve(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}function p(){se.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),_e.ready()}function f(e,t){return t.toUpperCase()}function d(e){return e.replace(Fe,"ms-").replace(Be,f)}function m(){this.expando=_e.expando+m.uid++}function g(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:Ue.test(e)?JSON.parse(e):e}function y(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(ze,"-$&").toLowerCase(),r=e.getAttribute(n),"string"==typeof r){try{r=g(r)}catch(i){}Ve.set(e,t,r)}else r=void 0;return r}function v(e,t,r,n){var i,o,s=20,a=n?function(){return n.cur()}:function(){return _e.css(e,t,"")},c=a(),u=r&&r[3]||(_e.cssNumber[t]?"":"px"),l=(_e.cssNumber[t]||"px"!==u&&+c)&&Ge.exec(_e.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;s--;)_e.style(e,t,l+u),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),l/=o;l=2*l,_e.style(e,t,l+u),r=r||[]}return r&&(l=+l||+c||0,i=r[1]?l+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=l,n.end=i)),i}function b(e){var t,r=e.ownerDocument,n=e.nodeName,i=Ke[n];return i?i:(t=r.body.appendChild(r.createElement(n)),i=_e.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ke[n]=i,i)}function S(e,t){for(var r,n,i=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(r=n.style.display,t?("none"===r&&(i[o]=$e.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&Ye(n)&&(i[o]=b(n))):"none"!==r&&(i[o]="none",$e.set(n,"display",r)));for(o=0;s>o;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var r;return r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?_e.merge([e],r):r}function _(e,t){for(var r=0,n=e.length;n>r;r++)$e.set(e[r],"globalEval",!t||$e.get(t[r],"globalEval"))}function T(e,t,r,i,o){for(var s,a,c,u,l,h,p=t.createDocumentFragment(),f=[],d=0,m=e.length;m>d;d++)if(s=e[d],s||0===s)if("object"===n(s))_e.merge(f,s.nodeType?[s]:s);else if(tt.test(s)){for(a=a||p.appendChild(t.createElement("div")),c=(Je.exec(s)||["",""])[1].toLowerCase(),u=et[c]||et._default,a.innerHTML=u[1]+_e.htmlPrefilter(s)+u[2],h=u[0];h--;)a=a.lastChild;_e.merge(f,a.childNodes),a=p.firstChild,a.textContent=""}else f.push(t.createTextNode(s));for(p.textContent="",d=0;s=f[d++];)if(i&&_e.inArray(s,i)>-1)o&&o.push(s);else if(l=_e.contains(s.ownerDocument,s),a=w(p.appendChild(s),"script"),l&&_(a),r)for(h=0;s=a[h++];)Ze.test(s.type||"")&&r.push(s);return p}function E(){return!0}function C(){return!1}function x(){try{return se.activeElement}catch(e){}}function R(e,t,r,n,i,o){var s,a;if("object"==typeof t){"string"!=typeof r&&(n=n||r,r=void 0);for(a in t)R(e,a,r,n,t[a],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),i===!1)i=C;else if(!i)return e;return 1===o&&(s=i,i=function(e){return _e().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=_e.guid++)),e.each(function(){_e.event.add(this,t,i,n,r)})}function A(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?_e(e).children("tbody")[0]||e:e}function O(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function j(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function k(e,t){var r,n,i,o,s,a,c,u;if(1===t.nodeType){if($e.hasData(e)&&(o=$e.access(e),s=$e.set(t,o),u=o.events)){delete s.handle,s.events={};for(i in u)for(r=0,n=u[i].length;n>r;r++)_e.event.add(t,i,u[i][r])}Ve.hasData(e)&&(a=Ve.access(e),c=_e.extend({},a),Ve.set(t,c))}}function P(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Qe.test(e.type)?t.checked=e.checked:("input"===r||"textarea"===r)&&(t.defaultValue=e.defaultValue)}function I(e,t,n,i){t=ue.apply([],t);var o,s,a,c,u,l,h=0,p=e.length,f=p-1,d=t[0],m=ve(d);if(m||p>1&&"string"==typeof d&&!ye.checkClone&&ct.test(d))return e.each(function(r){var o=e.eq(r);m&&(t[0]=d.call(this,r,o.html())),I(o,t,n,i)});if(p&&(o=T(t,e[0].ownerDocument,!1,e,i),s=o.firstChild,1===o.childNodes.length&&(o=s),s||i)){for(a=_e.map(w(o,"script"),O),c=a.length;p>h;h++)u=o,h!==f&&(u=_e.clone(u,!0,!0),c&&_e.merge(a,w(u,"script"))),n.call(e[h],u,h);if(c)for(l=a[a.length-1].ownerDocument,_e.map(a,j),h=0;c>h;h++)u=a[h],Ze.test(u.type||"")&&!$e.access(u,"globalEval")&&_e.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?_e._evalUrl&&_e._evalUrl(u.src):r(u.textContent.replace(ut,""),l,u))}return e}function L(e,t,r){for(var n,i=t?_e.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||_e.cleanData(w(n)),n.parentNode&&(r&&_e.contains(n.ownerDocument,n)&&_(w(n,"script")),n.parentNode.removeChild(n));return e}function N(e,t,r){var n,i,o,s,a=e.style;return r=r||ht(e),r&&(s=r.getPropertyValue(t)||r[t],""!==s||_e.contains(e.ownerDocument,e)||(s=_e.style(e,t)),!ye.pixelBoxStyles()&&lt.test(s)&&pt.test(t)&&(n=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=r.width,a.width=n,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=yt.length;r--;)if(e=yt[r]+t,e in vt)return e}function F(e){var t=_e.cssProps[e];return t||(t=_e.cssProps[e]=M(e)||e),t}function B(e,t,r){var n=Ge.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function H(e,t,r,n,i,o){var s="width"===t?1:0,a=0,c=0;if(r===(n?"border":"content"))return 0;for(;4>s;s+=2)"margin"===r&&(c+=_e.css(e,r+qe[s],!0,i)),n?("content"===r&&(c-=_e.css(e,"padding"+qe[s],!0,i)),"margin"!==r&&(c-=_e.css(e,"border"+qe[s]+"Width",!0,i))):(c+=_e.css(e,"padding"+qe[s],!0,i),"padding"!==r?c+=_e.css(e,"border"+qe[s]+"Width",!0,i):a+=_e.css(e,"border"+qe[s]+"Width",!0,i));return!n&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-a-.5))),c}function $(e,t,r){var n=ht(e),i=N(e,t,n),o="border-box"===_e.css(e,"boxSizing",!1,n),s=o;if(lt.test(i)){if(!r)return i;i="auto"}return s=s&&(ye.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===_e.css(e,"display",!1,n))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),i=parseFloat(i)||0,i+H(e,t,r||(o?"border":"content"),s,n,i)+"px"}function V(e,t,r,n,i){return new V.prototype.init(e,t,r,n,i)}function U(){St&&(se.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(U):e.setTimeout(U,_e.fx.interval),_e.fx.tick())}function z(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function W(e,t){var r,n=0,i={height:e};for(t=t?1:0;4>n;n+=2-t)r=qe[n],i["margin"+r]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function G(e,t,r){for(var n,i=(X.tweeners[t]||[]).concat(X.tweeners["*"]),o=0,s=i.length;s>o;o++)if(n=i[o].call(r,t,e))return n}function q(e,t,r){var n,i,o,s,a,c,u,l,h="width"in t||"height"in t,p=this,f={},d=e.style,m=e.nodeType&&Ye(e),g=$e.get(e,"fxshow");r.queue||(s=_e._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,_e.queue(e,"fx").length||s.empty.fire()})}));for(n in t)if(i=t[n],wt.test(i)){if(delete t[n],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;m=!0}f[n]=g&&g[n]||_e.style(e,n)}if(c=!_e.isEmptyObject(t),c||!_e.isEmptyObject(f)){h&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],u=g&&g.display,null==u&&(u=$e.get(e,"display")),l=_e.css(e,"display"),"none"===l&&(u?l=u:(S([e],!0),u=e.style.display||u,l=_e.css(e,"display"),S([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===_e.css(e,"float")&&(c||(p.done(function(){d.display=u}),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),c=!1;for(n in f)c||(g?"hidden"in g&&(m=g.hidden):g=$e.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&S([e],!0),p.done(function(){m||S([e]),$e.remove(e,"fxshow");for(n in f)_e.style(e,n,f[n])})),c=G(m?g[n]:0,n,p),n in g||(g[n]=c.start,m&&(c.end=c.start,c.start=0))}}function Y(e,t){var r,n,i,o,s;for(r in e)if(n=d(r),i=t[n],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),s=_e.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete e[n];for(r in o)r in e||(e[r]=o[r],t[r]=i)}else t[n]=i}function X(e,t,r){var n,i,o=0,s=X.prefilters.length,a=_e.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=bt||z(),r=Math.max(0,u.startTime+u.duration-t),n=r/u.duration||0,o=1-n,s=0,c=u.tweens.length;c>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,r]),1>o&&c?r:(c||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:_e.extend({},t),opts:_e.extend(!0,{specialEasing:{},easing:_e.easing._default},r),originalProperties:t,originalOptions:r,startTime:bt||z(),duration:r.duration,tweens:[],createTween:function(t,r){var n=_e.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(i)return this;for(i=!0;n>r;r++)u.tweens[r].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),l=u.props;for(Y(l,u.opts.specialEasing);s>o;o++)if(n=X.prefilters[o].call(u,e,l,u.opts))return ve(n.stop)&&(_e._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return _e.map(l,G,u),ve(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),_e.fx.timer(_e.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}function K(e){var t=e.match(Le)||[];return t.join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function J(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Le)||[]:[]}function Z(e,t,r,i){var o;if(Array.isArray(t))_e.each(t,function(t,n){r||It.test(e)?i(e,n):Z(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,i)});else if(r||"object"!==n(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],r,i)}function ee(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(Le)||[];if(ve(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function te(e,t,r,n){function i(a){var c;return o[a]=!0,_e.each(e[a]||[],function(e,a){var u=a(t,r,n);return"string"!=typeof u||s||o[u]?s?!(c=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),c}var o={},s=e===Wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function re(e,t){var r,n,i=_e.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&_e.extend(!0,e,n),e}function ne(e,t,r){for(var n,i,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){c.unshift(i);break}if(c[0]in r)o=c[0];else{for(i in r){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==c[0]&&c.unshift(o),r[o]):void 0}function ie(e,t,r,n){var i,o,s,a,c,u={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=l.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!c&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=u[c+" "+o]||u["* "+o],!s)for(i in u)if(a=i.split(" "),a[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[i]:u[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}var oe=[],se=e.document,ae=Object.getPrototypeOf,ce=oe.slice,ue=oe.concat,le=oe.push,he=oe.indexOf,pe={},fe=pe.toString,de=pe.hasOwnProperty,me=de.toString,ge=me.call(Object),ye={},ve=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},be=function(e){return null!=e&&e===e.window},Se={type:!0,src:!0,noModule:!0},we="3.3.1",_e=function(e,t){return new _e.fn.init(e,t)},Te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_e.fn=_e.prototype={jquery:we,constructor:_e,length:0,toArray:function(){return ce.call(this)},get:function(e){return null==e?ce.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=_e.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _e.each(this,e)},map:function(e){return this.pushStack(_e.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(0>e?t:0);return this.pushStack(r>=0&&t>r?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:le,sort:oe.sort,splice:oe.splice},_e.extend=_e.fn.extend=function(){var e,t,r,n,i,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ve(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(e=arguments[a]))for(t in e)r=s[t],n=e[t],s!==n&&(u&&n&&(_e.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,o=r&&Array.isArray(r)?r:[]):o=r&&_e.isPlainObject(r)?r:{},s[t]=_e.extend(u,o,n)):void 0!==n&&(s[t]=n));return s},_e.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return e&&"[object Object]"===fe.call(e)?(t=ae(e))?(r=de.call(t,"constructor")&&t.constructor,"function"==typeof r&&me.call(r)===ge):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){r(e)},each:function(e,t){var r,n=0;if(i(e))for(r=e.length;r>n&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Te,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(i(Object(e))?_e.merge(r,"string"==typeof e?[e]:e):le.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:he.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;r>n;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n,i=[],o=0,s=e.length,a=!r;s>o;o++)n=!t(e[o],o),n!==a&&i.push(e[o]);return i},map:function(e,t,r){var n,o,s=0,a=[];if(i(e))for(n=e.length;n>s;s++)o=t(e[s],s,r),null!=o&&a.push(o);else for(s in e)o=t(e[s],s,r),null!=o&&a.push(o);return ue.apply([],a)},guid:1,support:ye}),"function"==typeof Symbol&&(_e.fn[Symbol.iterator]=oe[Symbol.iterator]),_e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,r,n){var i,o,s,a,c,u,l,p=t&&t.ownerDocument,d=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return r;if(!n&&((t?t.ownerDocument||t:$)!==I&&P(t),t=t||I,N)){if(11!==d&&(c=ye.exec(e)))if(i=c[1]){if(9===d){if(!(s=t.getElementById(i)))return r;if(s.id===i)return r.push(s),r}else if(p&&(s=p.getElementById(i))&&B(t,s)&&s.id===i)return r.push(s),r}else{if(c[2])return J.apply(r,t.getElementsByTagName(e)),r;if((i=c[3])&&_.getElementsByClassName&&t.getElementsByClassName)return J.apply(r,t.getElementsByClassName(i)),r}if(_.qsa&&!G[e+" "]&&(!D||!D.test(e))){if(1!==d)p=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(we,_e):t.setAttribute("id",a=H),u=x(e),o=u.length;o--;)u[o]="#"+a+" "+f(u[o]);l=u.join(","),p=ve.test(e)&&h(t.parentNode)||t}if(l)try{return J.apply(r,p.querySelectorAll(l)),r}catch(m){}finally{a===H&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>T.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function i(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),n=r.length;n--;)T.attrHandle[r[n]]=t}function s(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function a(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function c(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function l(e){return n(function(t){return t=+t,n(function(r,n){for(var i,o=e([],r.length,t),s=o.length;s--;)r[i=o[s]]&&(r[i]=!(n[i]=r[i]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function f(e){for(var t=0,r=e.length,n="";r>t;t++)n+=e[t].value;return n}function d(e,t,r){var n=t.dir,i=t.next,o=i||n,s=r&&"parentNode"===o,a=U++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||s)return e(t,r,i);return!1}:function(t,r,c){var u,l,h,p=[V,a];if(c){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,r,c))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(h=t[H]||(t[H]={}),l=h[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=l[o])&&u[0]===V&&u[1]===a)return p[2]=u[2];if(l[o]=p,p[2]=e(t,r,c))return!0}return!1}}function m(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function g(e,r,n){for(var i=0,o=r.length;o>i;i++)t(e,r[i],n);return n}function y(e,t,r,n,i){for(var o,s=[],a=0,c=e.length,u=null!=t;c>a;a++)(o=e[a])&&(!r||r(o,n,i))&&(s.push(o),u&&t.push(a));return s}function v(e,t,r,i,o,s){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,s)),n(function(n,s,a,c){var u,l,h,p=[],f=[],d=s.length,m=n||g(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?m:y(m,p,e,a,c),b=r?o||(n?e:d||i)?[]:s:v;if(r&&r(v,b,a,c),i)for(u=y(b,f),i(u,[],a,c),l=u.length;l--;)(h=u[l])&&(b[f[l]]=!(v[f[l]]=h));if(n){if(o||e){if(o){for(u=[],l=b.length;l--;)(h=b[l])&&u.push(v[l]=h);o(null,b=[],u,c)}for(l=b.length;l--;)(h=b[l])&&(u=o?ee(n,h):p[l])>-1&&(n[u]=!(s[u]=h))}}else b=y(b===s?b.splice(d,b.length):b),o?o(null,s,b,c):J.apply(s,b)})}function b(e){for(var t,r,n,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,c=d(function(e){return e===t},s,!0),u=d(function(e){return ee(t,e)>-1},s,!0),l=[function(e,r,n){var i=!o&&(n||r!==O)||((t=r).nodeType?c(e,r,n):u(e,r,n));return t=null,i}];i>a;a++)if(r=T.relative[e[a].type])l=[d(m(l),r)];else{if(r=T.filter[e[a].type].apply(null,e[a].matches),r[H]){for(n=++a;i>n&&!T.relative[e[n].type];n++);return v(a>1&&m(l),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),r,n>a&&b(e.slice(a,n)),i>n&&b(e=e.slice(n)),i>n&&f(e))}l.push(r)}return m(l)}function S(e,r){var i=r.length>0,o=e.length>0,s=function(n,s,a,c,u){var l,h,p,f=0,d="0",m=n&&[],g=[],v=O,b=n||o&&T.find.TAG("*",u),S=V+=null==v?1:Math.random()||.1,w=b.length;for(u&&(O=s===I||s||u);d!==w&&null!=(l=b[d]);d++){if(o&&l){for(h=0,s||l.ownerDocument===I||(P(l),a=!N);p=e[h++];)if(p(l,s||I,a)){c.push(l);break}u&&(V=S)}i&&((l=!p&&l)&&f--,n&&m.push(l))}if(f+=d,i&&d!==f){for(h=0;p=r[h++];)p(m,g,s,a);if(n){if(f>0)for(;d--;)m[d]||g[d]||(g[d]=K.call(c));g=y(g)}J.apply(c,g),u&&!n&&g.length>0&&f+r.length>1&&t.uniqueSort(c)}return u&&(V=S,O=v),m};return i?n(s):s}var w,_,T,E,C,x,R,A,O,j,k,P,I,L,N,D,M,F,B,H="sizzle"+1*new Date,$=e.document,V=0,U=0,z=r(),W=r(),G=r(),q=function(e,t){return e===t&&(k=!0),0},Y={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,J=X.push,Z=X.slice,ee=function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ie="\\["+re+"*("+ne+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+re+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ae=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),ue=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),le=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),he=new RegExp(oe),pe=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Se=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_e=function(e,t){return t?"\x00"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){P()},Ee=d(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(X=Z.call($.childNodes),$.childNodes),X[$.childNodes.length].nodeType}catch(Ce){J={apply:X.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}_=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:$;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,L=I.documentElement,N=!C(I),$!==I&&(r=I.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Te,!1):r.attachEvent&&r.attachEvent("onunload",Te)),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ge.test(I.getElementsByClassName),_.getById=i(function(e){return L.appendChild(e).id=H,!I.getElementsByName||!I.getElementsByName(H).length}),_.getById?(T.filter.ID=function(e){var t=e.replace(be,Se);return function(e){return e.getAttribute("id")===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var r=t.getElementById(e);return r?[r]:[]}}):(T.filter.ID=function(e){var t=e.replace(be,Se);return function(e){var r="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var r,n,i,o=t.getElementById(e);if(o){if(r=o.getAttributeNode("id"),r&&r.value===e)return[o];for(i=t.getElementsByName(e),n=0;o=i[n++];)if(r=o.getAttributeNode("id"),r&&r.value===e)return[o]}return[]}}),T.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},T.find.CLASS=_.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&N?t.getElementsByClassName(e):void 0},M=[],D=[],(_.qsa=ge.test(I.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+re+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||D.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(_.matchesSelector=ge.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){_.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),M.push("!=",oe)}),D=D.length&&new RegExp(D.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(L.compareDocumentPosition),B=t||ge.test(L.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return k=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,
1&r||!_.sortDetached&&t.compareDocumentPosition(e)===r?e===I||e.ownerDocument===$&&B($,e)?-1:t===I||t.ownerDocument===$&&B($,t)?1:j?ee(j,e)-ee(j,t):0:4&r?-1:1)}:function(e,t){if(e===t)return k=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],c=[t];if(!i||!o)return e===I?-1:t===I?1:i?-1:o?1:j?ee(j,e)-ee(j,t):0;if(i===o)return s(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;a[n]===c[n];)n++;return n?s(a[n],c[n]):a[n]===$?-1:c[n]===$?1:0},I):I},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==I&&P(e),r=r.replace(le,"='$1']"),_.matchesSelector&&N&&!G[r+" "]&&(!M||!M.test(r))&&(!D||!D.test(r)))try{var n=F.call(e,r);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return t(r,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&P(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&P(e);var r=T.attrHandle[t.toLowerCase()],n=r&&Y.call(T.attrHandle,t.toLowerCase())?r(e,t,!N):void 0;return void 0!==n?n:_.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(we,_e)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,i=0;if(k=!_.detectDuplicates,j=!_.sortStable&&e.slice(0),e.sort(q),k){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return j=null,e},E=t.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=E(t);return r},T=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(be,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&he.test(r)&&(t=x(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(i){var o=t.attr(i,e);return null==o?"!="===r:r?(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(se," ")+" ").indexOf(n)>-1:"|="===r?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,c){var u,l,h,p,f,d,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!c&&!a,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&v){for(p=g,h=p[H]||(p[H]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),u=l[e]||[],f=u[0]===V&&u[1],b=f&&u[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||d.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[V,f,b];break}}else if(v&&(p=t,h=p[H]||(p[H]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),u=l[e]||[],f=u[0]===V&&u[1],b=f),b===!1)for(;(p=++f&&p&&p[m]||(b=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(h=p[H]||(p[H]={}),l=h[p.uniqueID]||(h[p.uniqueID]={}),l[e]=[V,b]),p!==t)););return b-=i,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,r){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(r):o.length>1?(i=[e,e,"",r],T.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),s=i.length;s--;)n=ee(e,i[s]),e[n]=!(t[n]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=R(e.replace(ae,"$1"));return i[H]?n(function(e,t,r,n){for(var o,s=i(e,null,n,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(be,Se),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,Se).toLowerCase(),function(t){var r;do if(r=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,r){return[0>r?r+t:r]}),even:l(function(e,t){for(var r=0;t>r;r+=2)e.push(r);return e}),odd:l(function(e,t){for(var r=1;t>r;r+=2)e.push(r);return e}),lt:l(function(e,t,r){for(var n=0>r?r+t:r;--n>=0;)e.push(n);return e}),gt:l(function(e,t,r){for(var n=0>r?r+t:r;++n<t;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=c(w);return p.prototype=T.filters=T.pseudos,T.setFilters=new p,x=t.tokenize=function(e,r){var n,i,o,s,a,c,u,l=W[e+" "];if(l)return r?0:l.slice(0);for(a=e,c=[],u=T.preFilter;a;){(!n||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),c.push(o=[])),n=!1,(i=ue.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ae," ")}),a=a.slice(n.length));for(s in T.filter)!(i=fe[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return r?a.length:a?t.error(e):W(e,c).slice(0)},R=t.compile=function(e,t){var r,n=[],i=[],o=G[e+" "];if(!o){for(t||(t=x(e)),r=t.length;r--;)o=b(t[r]),o[H]?n.push(o):i.push(o);o=G(e,S(i,n)),o.selector=e}return o},A=t.select=function(e,t,r,n){var i,o,s,a,c,u="function"==typeof e&&e,l=!n&&x(e=u.selector||e);if(r=r||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&N&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(be,Se),t)||[])[0],!t)return r;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((c=T.find[a])&&(n=c(s.matches[0].replace(be,Se),ve.test(o[0].type)&&h(t.parentNode)||t))){if(o.splice(i,1),e=n.length&&f(o),!e)return J.apply(r,n),r;break}}return(u||R(e,l))(n,t,!N,r,!t||ve.test(e)&&h(t.parentNode)||t),r},_.sortStable=H.split("").sort(q).join("")===H,_.detectDuplicates=!!k,P(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){return r?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){return r||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,r){var n;return r?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);_e.find=Ee,_e.expr=Ee.selectors,_e.expr[":"]=_e.expr.pseudos,_e.uniqueSort=_e.unique=Ee.uniqueSort,_e.text=Ee.getText,_e.isXMLDoc=Ee.isXML,_e.contains=Ee.contains,_e.escapeSelector=Ee.escape;var Ce=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&_e(e).is(r))break;n.push(e)}return n},xe=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},Re=_e.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;_e.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_e.find.matchesSelector(n,e)?[n]:[]:_e.find.matches(e,_e.grep(t,function(e){return 1===e.nodeType}))},_e.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(_e(e).filter(function(){for(t=0;n>t;t++)if(_e.contains(i[t],this))return!0}));for(r=this.pushStack([]),t=0;n>t;t++)_e.find(e,i[t],r);return n>1?_e.uniqueSort(r):r},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&Re.test(e)?_e(e):e||[],!1).length}});var Oe,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ke=_e.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||Oe,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof _e?t[0]:t,_e.merge(this,_e.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),Ae.test(n[1])&&_e.isPlainObject(t))for(n in t)ve(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=se.getElementById(n[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ve(e)?void 0!==r.ready?r.ready(e):e(_e):_e.makeArray(e,this)};ke.prototype=_e.fn,Oe=_e(se);var Pe=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};_e.fn.extend({has:function(e){var t=_e(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(_e.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,i=this.length,o=[],s="string"!=typeof e&&_e(e);if(!Re.test(e))for(;i>n;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&_e.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?_e.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.call(_e(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_e.uniqueSort(_e.merge(this.get(),_e(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_e.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,r){return Ce(e,"parentNode",r)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,r){return Ce(e,"nextSibling",r)},prevUntil:function(e,t,r){return Ce(e,"previousSibling",r)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),_e.merge([],e.childNodes))}},function(e,t){_e.fn[e]=function(r,n){var i=_e.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=_e.filter(n,i)),this.length>1&&(Ie[e]||_e.uniqueSort(i),Pe.test(e)&&i.reverse()),this.pushStack(i)}});var Le=/[^\x20\t\r\n\f]+/g;_e.Callbacks=function(e){e="string"==typeof e?c(e):_e.extend({},e);var t,r,i,o,s=[],a=[],u=-1,l=function(){for(o=o||e.once,i=t=!0;a.length;u=-1)for(r=a.shift();++u<s.length;)s[u].apply(r[0],r[1])===!1&&e.stopOnFalse&&(u=s.length,r=!1);e.memory||(r=!1),t=!1,o&&(s=r?[]:"")},h={add:function(){return s&&(r&&!t&&(u=s.length-1,a.push(r)),function i(t){_e.each(t,function(t,r){ve(r)?e.unique&&h.has(r)||s.push(r):r&&r.length&&"string"!==n(r)&&i(r)})}(arguments),r&&!t&&l()),this},remove:function(){return _e.each(arguments,function(e,t){for(var r;(r=_e.inArray(t,s,r))>-1;)s.splice(r,1),u>=r&&u--}),this},has:function(e){return e?_e.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=r="",this},disabled:function(){return!s},lock:function(){return o=a=[],r||t||(s=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},_e.extend({Deferred:function(t){var r=[["notify","progress",_e.Callbacks("memory"),_e.Callbacks("memory"),2],["resolve","done",_e.Callbacks("once memory"),_e.Callbacks("once memory"),0,"resolved"],["reject","fail",_e.Callbacks("once memory"),_e.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return _e.Deferred(function(t){_e.each(r,function(r,n){var i=ve(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=i&&i.apply(this,arguments);e&&ve(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,n,i){function o(t,r,n,i){return function(){var a=this,c=arguments,h=function(){var e,h;if(!(s>t)){if(e=n.apply(a,c),e===r.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,ve(h)?i?h.call(e,o(s,r,u,i),o(s,r,l,i)):(s++,h.call(e,o(s,r,u,i),o(s,r,l,i),o(s,r,u,r.notifyWith))):(n!==u&&(a=void 0,c=[e]),(i||r.resolveWith)(a,c))}},p=i?h:function(){try{h()}catch(e){_e.Deferred.exceptionHook&&_e.Deferred.exceptionHook(e,p.stackTrace),t+1>=s&&(n!==l&&(a=void 0,c=[e]),r.rejectWith(a,c))}};t?p():(_e.Deferred.getStackHook&&(p.stackTrace=_e.Deferred.getStackHook()),e.setTimeout(p))}}var s=0;return _e.Deferred(function(e){r[0][3].add(o(0,e,ve(i)?i:u,e.notifyWith)),r[1][3].add(o(0,e,ve(t)?t:u)),r[2][3].add(o(0,e,ve(n)?n:l))}).promise()},promise:function(e){return null!=e?_e.extend(e,i):i}},o={};return _e.each(r,function(e,t){var s=t[2],a=t[5];i[t[1]]=s.add,a&&s.add(function(){n=a},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=ce.call(arguments),o=_e.Deferred(),s=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?ce.call(arguments):r,--t||o.resolveWith(n,i)}};if(1>=t&&(h(e,o.done(s(r)).resolve,o.reject,!t),"pending"===o.state()||ve(i[r]&&i[r].then)))return o.then();for(;r--;)h(i[r],s(r),o.reject);return o.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_e.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&Ne.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},_e.readyException=function(t){e.setTimeout(function(){throw t})};var De=_e.Deferred();_e.fn.ready=function(e){return De.then(e)["catch"](function(e){_e.readyException(e)}),this},_e.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--_e.readyWait:_e.isReady)||(_e.isReady=!0,e!==!0&&--_e.readyWait>0||De.resolveWith(se,[_e]))}}),_e.ready.then=De.then,"complete"===se.readyState||"loading"!==se.readyState&&!se.documentElement.doScroll?e.setTimeout(_e.ready):(se.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Me=function(e,t,r,i,o,s,a){var c=0,u=e.length,l=null==r;if("object"===n(r)){o=!0;for(c in r)Me(e,t,c,r[c],!0,s,a)}else if(void 0!==i&&(o=!0,ve(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(_e(e),r)})),t))for(;u>c;c++)t(e[c],r,a?i:i.call(e[c],c,t(e[c],r)));return o?e:l?t.call(e):u?t(e[0],r):s},Fe=/^-ms-/,Be=/-([a-z])/g,He=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},He(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[d(t)]=r;else for(n in t)i[d(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][d(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(d):(t=d(t),t=t in n?[t]:t.match(Le)||[]),r=t.length;for(;r--;)delete n[t[r]]}(void 0===t||_e.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_e.isEmptyObject(t)}};var $e=new m,Ve=new m,Ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;_e.extend({hasData:function(e){return Ve.hasData(e)||$e.hasData(e)},data:function(e,t,r){return Ve.access(e,t,r)},removeData:function(e,t){Ve.remove(e,t)},_data:function(e,t,r){return $e.access(e,t,r)},_removeData:function(e,t){$e.remove(e,t)}}),_e.fn.extend({data:function(e,t){var r,n,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ve.get(o),1===o.nodeType&&!$e.get(o,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&(n=s[r].name,0===n.indexOf("data-")&&(n=d(n.slice(5)),y(o,n,i[n])));$e.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ve.set(this,e)}):Me(this,function(t){var r;if(o&&void 0===t){if(r=Ve.get(o,e),void 0!==r)return r;if(r=y(o,e),void 0!==r)return r}else this.each(function(){Ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ve.remove(this,e)})}}),_e.extend({queue:function(e,t,r){var n;return e?(t=(t||"fx")+"queue",n=$e.get(e,t),r&&(!n||Array.isArray(r)?n=$e.access(e,t,_e.makeArray(r)):n.push(r)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=_e.queue(e,t),n=r.length,i=r.shift(),o=_e._queueHooks(e,t),s=function(){_e.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $e.get(e,r)||$e.access(e,r,{empty:_e.Callbacks("once memory").add(function(){$e.remove(e,[t+"queue",r])})})}}),_e.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?_e.queue(this[0],e):void 0===t?this:this.each(function(){var r=_e.queue(this,e,t);_e._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&_e.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_e.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=_e.Deferred(),o=this,s=this.length,a=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)r=$e.get(o[s],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(t)}});var We=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ge=new RegExp("^(?:([+-])=|)("+We+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&_e.contains(e.ownerDocument,e)&&"none"===_e.css(e,"display")},Xe=function(e,t,r,n){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=r.apply(e,n||[]);for(o in t)e.style[o]=s[o];return i},Ke={};_e.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?_e(this).show():_e(this).hide()})}});var Qe=/^(?:checkbox|radio)$/i,Je=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i,et={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.optgroup=et.option,et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td;var tt=/<|&#?\w+;/;!function(){var e=se.createDocumentFragment(),t=e.appendChild(se.createElement("div")),r=se.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var rt=se.documentElement,nt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;_e.event={global:{},add:function(e,t,r,n,i){var o,s,a,c,u,l,h,p,f,d,m,g=$e.get(e);if(g)for(r.handler&&(o=r,r=o.handler,i=o.selector),i&&_e.find.matchesSelector(rt,i),r.guid||(r.guid=_e.guid++),(c=g.events)||(c=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof _e&&_e.event.triggered!==t.type?_e.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Le)||[""],u=t.length;u--;)a=ot.exec(t[u])||[],f=m=a[1],d=(a[2]||"").split(".").sort(),f&&(h=_e.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=_e.event.special[f]||{},l=_e.extend({type:f,origType:m,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&_e.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=c[f])||(p=c[f]=[],p.delegateCount=0,h.setup&&h.setup.call(e,n,d,s)!==!1||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),_e.event.global[f]=!0)},remove:function(e,t,r,n,i){var o,s,a,c,u,l,h,p,f,d,m,g=$e.hasData(e)&&$e.get(e);if(g&&(c=g.events)){for(t=(t||"").match(Le)||[""],u=t.length;u--;)if(a=ot.exec(t[u])||[],f=m=a[1],d=(a[2]||"").split(".").sort(),f){for(h=_e.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,p=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&m!==l.origType||r&&r.guid!==l.guid||a&&!a.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(e,l));s&&!p.length&&(h.teardown&&h.teardown.call(e,d,g.handle)!==!1||_e.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)_e.event.remove(e,f+t[u],r,n,!0);_e.isEmptyObject(c)&&$e.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,s,a=_e.event.fix(e),c=new Array(arguments.length),u=($e.get(this,"events")||{})[a.type]||[],l=_e.event.special[a.type]||{};for(c[0]=a,t=1;t<arguments.length;t++)c[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=_e.event.handlers.call(this,a,u),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(o.namespace))&&(a.handleObj=o,a.data=o.data,n=((_e.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var r,n,i,o,s,a=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||u.disabled!==!0)){for(o=[],s={},r=0;c>r;r++)n=t[r],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?_e(i,this).index(u)>-1:_e.find(i,this,null,[u]).length),s[i]&&o.push(n);o.length&&a.push({elem:u,handlers:o})}return u=this,c<t.length&&a.push({elem:u,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(_e.Event.prototype,e,{enumerable:!0,configurable:!0,get:ve(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_e.expando]?e:new _e.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==x()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o(this,"input")?(this.click(),!1):void 0},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_e.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},_e.Event=function(e,t){return this instanceof _e.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_e.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[_e.expando]=!0)):new _e.Event(e,t)},_e.Event.prototype={constructor:_e.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&nt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&it.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_e.event.addProp),_e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_e.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==n&&!_e.contains(n,i))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),_e.fn.extend({on:function(e,t,r,n){return R(this,e,t,r,n)},one:function(e,t,r,n){return R(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_e(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=C),this.each(function(){_e.event.remove(this,e,r,t)})}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,at=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_e.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,r){var n,i,o,s,a=e.cloneNode(!0),c=_e.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_e.isXMLDoc(e)))for(s=w(a),o=w(e),n=0,i=o.length;i>n;n++)P(o[n],s[n]);if(t)if(r)for(o=o||w(e),s=s||w(a),n=0,i=o.length;i>n;n++)k(o[n],s[n]);else k(e,a);return s=w(a,"script"),s.length>0&&_(s,!c&&w(e,"script")),a},cleanData:function(e){for(var t,r,n,i=_e.event.special,o=0;void 0!==(r=e[o]);o++)if(He(r)){if(t=r[$e.expando]){if(t.events)for(n in t.events)i[n]?_e.event.remove(r,n):_e.removeEvent(r,n,t.handle);r[$e.expando]=void 0}r[Ve.expando]&&(r[Ve.expando]=void 0)}}}),_e.fn.extend({detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(e){return Me(this,function(e){return void 0===e?_e.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.appendChild(e)}})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_e.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return _e.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!et[(Je.exec(e)||["",""])[1].toLowerCase()]){e=_e.htmlPrefilter(e);try{for(;n>r;r++)t=this[r]||{},1===t.nodeType&&(_e.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var r=this.parentNode;_e.inArray(this,e)<0&&(_e.cleanData(w(this)),r&&r.replaceChild(t,this))},e)}}),_e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_e.fn[e]=function(e){for(var r,n=[],i=_e(e),o=i.length-1,s=0;o>=s;s++)r=s===o?this:this.clone(!0),_e(i[s])[t](r),le.apply(n,r.get());return this.pushStack(n)}});var lt=new RegExp("^("+We+")(?!px)[a-z%]+$","i"),ht=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},pt=new RegExp(qe.join("|"),"i");!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);n="1%"!==t.top,a=12===r(t.marginLeft),u.style.right="60%",s=36===r(t.right),i=36===r(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",rt.removeChild(c),u=null}}function r(e){return Math.round(parseFloat(e))}var n,i,o,s,a,c=se.createElement("div"),u=se.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===u.style.backgroundClip,_e.extend(ye,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),o}}))}();var ft=/^(none|table(?!-c[ea]).+)/,dt=/^--/,mt={
position:"absolute",visibility:"hidden",display:"block"},gt={letterSpacing:"0",fontWeight:"400"},yt=["Webkit","Moz","ms"],vt=se.createElement("div").style;_e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=N(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=d(t),c=dt.test(t),u=e.style;return c||(t=F(a)),s=_e.cssHooks[t]||_e.cssHooks[a],void 0===r?s&&"get"in s&&void 0!==(i=s.get(e,!1,n))?i:u[t]:(o=typeof r,"string"===o&&(i=Ge.exec(r))&&i[1]&&(r=v(e,t,i),o="number"),null!=r&&r===r&&("number"===o&&(r+=i&&i[3]||(_e.cssNumber[a]?"":"px")),ye.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,n))||(c?u.setProperty(t,r):u[t]=r)),void 0)}},css:function(e,t,r,n){var i,o,s,a=d(t),c=dt.test(t);return c||(t=F(a)),s=_e.cssHooks[t]||_e.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,r)),void 0===i&&(i=N(e,t,n)),"normal"===i&&t in gt&&(i=gt[t]),""===r||r?(o=parseFloat(i),r===!0||isFinite(o)?o||0:i):i}}),_e.each(["height","width"],function(e,t){_e.cssHooks[t]={get:function(e,r,n){return r?!ft.test(_e.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?$(e,t,n):Xe(e,mt,function(){return $(e,t,n)}):void 0},set:function(e,r,n){var i,o=ht(e),s="border-box"===_e.css(e,"boxSizing",!1,o),a=n&&H(e,t,n,s,o);return s&&ye.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-H(e,t,"border",!1,o)-.5)),a&&(i=Ge.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=_e.css(e,t)),B(e,r,a)}}}),_e.cssHooks.marginLeft=D(ye.reliableMarginLeft,function(e,t){return t?(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),_e.each({margin:"",padding:"",border:"Width"},function(e,t){_e.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];4>n;n++)i[e+qe[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(_e.cssHooks[e+t].set=B)}),_e.fn.extend({css:function(e,t){return Me(this,function(e,t,r){var n,i,o={},s=0;if(Array.isArray(t)){for(n=ht(e),i=t.length;i>s;s++)o[t[s]]=_e.css(e,t[s],!1,n);return o}return void 0!==r?_e.style(e,t,r):_e.css(e,t)},e,t,arguments.length>1)}}),_e.Tween=V,V.prototype={constructor:V,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||_e.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(_e.cssNumber[r]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,r=V.propHooks[this.prop];return this.options.duration?this.pos=t=_e.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_e.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){_e.fx.step[e.prop]?_e.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[_e.cssProps[e.prop]]&&!_e.cssHooks[e.prop]?e.elem[e.prop]=e.now:_e.style(e.elem,e.prop,e.now+e.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_e.fx=V.prototype.init,_e.fx.step={};var bt,St,wt=/^(?:toggle|show|hide)$/,_t=/queueHooks$/;_e.Animation=_e.extend(X,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return v(r.elem,e,Ge.exec(t),r),r}]},tweener:function(e,t){ve(e)?(t=e,e=["*"]):e=e.match(Le);for(var r,n=0,i=e.length;i>n;n++)r=e[n],X.tweeners[r]=X.tweeners[r]||[],X.tweeners[r].unshift(t)},prefilters:[q],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),_e.speed=function(e,t,r){var n=e&&"object"==typeof e?_e.extend({},e):{complete:r||!r&&t||ve(e)&&e,duration:e,easing:r&&t||t&&!ve(t)&&t};return _e.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in _e.fx.speeds?n.duration=_e.fx.speeds[n.duration]:n.duration=_e.fx.speeds._default),(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ve(n.old)&&n.old.call(this),n.queue&&_e.dequeue(this,n.queue)},n},_e.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=_e.isEmptyObject(e),o=_e.speed(t,r,n),s=function(){var t=X(this,_e.extend({},e),o);(i||$e.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=_e.timers,s=$e.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&_t.test(i)&&n(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));(t||!r)&&_e.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=$e.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=_e.timers,s=n?n.length:0;for(r.finish=!0,_e.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),_e.each(["toggle","show","hide"],function(e,t){var r=_e.fn[t];_e.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(W(t,!0),e,n,i)}}),_e.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_e.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),_e.timers=[],_e.fx.tick=function(){var e,t=0,r=_e.timers;for(bt=Date.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||_e.fx.stop(),bt=void 0},_e.fx.timer=function(e){_e.timers.push(e),_e.fx.start()},_e.fx.interval=13,_e.fx.start=function(){St||(St=!0,U())},_e.fx.stop=function(){St=null},_e.fx.speeds={slow:600,fast:200,_default:400},_e.fn.delay=function(t,r){return t=_e.fx?_e.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(r,n){var i=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(i)}})},function(){var e=se.createElement("input"),t=se.createElement("select"),r=t.appendChild(se.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=r.selected,e=se.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var Tt,Et=_e.expr.attrHandle;_e.fn.extend({attr:function(e,t){return Me(this,_e.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_e.removeAttr(this,e)})}}),_e.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?_e.prop(e,t,r):(1===o&&_e.isXMLDoc(e)||(i=_e.attrHooks[t.toLowerCase()]||(_e.expr.match.bool.test(t)?Tt:void 0)),void 0!==r?null===r?void _e.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=_e.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&o(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(Le);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),Tt={set:function(e,t,r){return t===!1?_e.removeAttr(e,r):e.setAttribute(r,r),r}},_e.each(_e.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Et[t]||_e.find.attr;Et[t]=function(e,t,n){var i,o,s=t.toLowerCase();return n||(o=Et[s],Et[s]=i,i=null!=r(e,t,n)?s:null,Et[s]=o),i}});var Ct=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;_e.fn.extend({prop:function(e,t){return Me(this,_e.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_e.propFix[e]||e]})}}),_e.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_e.isXMLDoc(e)||(t=_e.propFix[t]||t,i=_e.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_e.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ye.optSelected||(_e.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_e.propFix[this.toLowerCase()]=this}),_e.fn.extend({addClass:function(e){var t,r,n,i,o,s,a,c=0;if(ve(e))return this.each(function(t){_e(this).addClass(e.call(this,t,Q(this)))});if(t=J(e),t.length)for(;r=this[c++];)if(i=Q(r),n=1===r.nodeType&&" "+K(i)+" "){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=K(n),i!==a&&r.setAttribute("class",a)}return this},removeClass:function(e){var t,r,n,i,o,s,a,c=0;if(ve(e))return this.each(function(t){_e(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if(t=J(e),t.length)for(;r=this[c++];)if(i=Q(r),n=1===r.nodeType&&" "+K(i)+" "){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=K(n),i!==a&&r.setAttribute("class",a)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):ve(e)?this.each(function(r){_e(this).toggleClass(e.call(this,r,Q(this),t),t)}):this.each(function(){var t,i,o,s;if(n)for(i=0,o=_e(this),s=J(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===r)&&(t=Q(this),t&&$e.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":$e.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+K(Q(r))+" ").indexOf(t)>-1)return!0;return!1}});var Rt=/\r/g;_e.fn.extend({val:function(e){var t,r,n,i=this[0];{if(arguments.length)return n=ve(e),this.each(function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,_e(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=_e.map(i,function(e){return null==e?"":e+""})),t=_e.valHooks[this.type]||_e.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=_e.valHooks[i.type]||_e.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(Rt,""):null==r?"":r)}}}),_e.extend({valHooks:{option:{get:function(e){var t=_e.find.attr(e,"value");return null!=t?t:K(_e.text(e))}},select:{get:function(e){var t,r,n,i=e.options,s=e.selectedIndex,a="select-one"===e.type,c=a?null:[],u=a?s+1:i.length;for(n=0>s?u:a?s:0;u>n;n++)if(r=i[n],(r.selected||n===s)&&!r.disabled&&(!r.parentNode.disabled||!o(r.parentNode,"optgroup"))){if(t=_e(r).val(),a)return t;c.push(t)}return c},set:function(e,t){for(var r,n,i=e.options,o=_e.makeArray(t),s=i.length;s--;)n=i[s],(n.selected=_e.inArray(_e.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),_e.each(["radio","checkbox"],function(){_e.valHooks[this]={set:function(e,t){return Array.isArray(t)?e.checked=_e.inArray(_e(e).val(),t)>-1:void 0}},ye.checkOn||(_e.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var At=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};_e.extend(_e.event,{trigger:function(t,r,n,i){var o,s,a,c,u,l,h,p,f=[n||se],d=de.call(t,"type")?t.type:t,m=de.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=n=n||se,3!==n.nodeType&&8!==n.nodeType&&!At.test(d+_e.event.triggered)&&(d.indexOf(".")>-1&&(m=d.split("."),d=m.shift(),m.sort()),u=d.indexOf(":")<0&&"on"+d,t=t[_e.expando]?t:new _e.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:_e.makeArray(r,[t]),h=_e.event.special[d]||{},i||!h.trigger||h.trigger.apply(n,r)!==!1)){if(!i&&!h.noBubble&&!be(n)){for(c=h.delegateType||d,At.test(c+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||se)&&f.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?c:h.bindType||d,l=($e.get(s,"events")||{})[t.type]&&$e.get(s,"handle"),l&&l.apply(s,r),l=u&&s[u],l&&l.apply&&He(s)&&(t.result=l.apply(s,r),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),r)!==!1||!He(n)||u&&ve(n[d])&&!be(n)&&(a=n[u],a&&(n[u]=null),_e.event.triggered=d,t.isPropagationStopped()&&p.addEventListener(d,Ot),n[d](),t.isPropagationStopped()&&p.removeEventListener(d,Ot),_e.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(e,t,r){var n=_e.extend(new _e.Event,r,{type:e,isSimulated:!0});_e.event.trigger(n,null,t)}}),_e.fn.extend({trigger:function(e,t){return this.each(function(){_e.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?_e.event.trigger(e,t,r,!0):void 0}}),ye.focusin||_e.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){_e.event.simulate(t,e.target,_e.event.fix(e))};_e.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=$e.access(n,t);i||n.addEventListener(e,r,!0),$e.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=$e.access(n,t)-1;i?$e.access(n,t,i):(n.removeEventListener(e,r,!0),$e.remove(n,t))}}});var jt=e.location,kt=Date.now(),Pt=/\?/;_e.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(n){r=void 0}return(!r||r.getElementsByTagName("parsererror").length)&&_e.error("Invalid XML: "+t),r};var It=/\[\]$/,Lt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;_e.param=function(e,t){var r,n=[],i=function(e,t){var r=ve(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!_e.isPlainObject(e))_e.each(e,function(){i(this.name,this.value)});else for(r in e)Z(r,e[r],t,i);return n.join("&")},_e.fn.extend({serialize:function(){return _e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_e.prop(this,"elements");return e?_e.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_e(this).is(":disabled")&&Dt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!Qe.test(e))}).map(function(e,t){var r=_e(this).val();return null==r?null:Array.isArray(r)?_e.map(r,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:r.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Ft=/#.*$/,Bt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Ut=/^\/\//,zt={},Wt={},Gt="*/".concat("*"),qt=se.createElement("a");qt.href=jt.href,_e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:$t.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?re(re(e,_e.ajaxSettings),t):re(_e.ajaxSettings,e)},ajaxPrefilter:ee(zt),ajaxTransport:ee(Wt),ajax:function(t,r){function n(t,r,n,a){var u,p,f,S,w,_=r;l||(l=!0,c&&e.clearTimeout(c),i=void 0,s=a||"",T.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(S=ne(d,T,n)),S=ie(d,S,T,u),u?(d.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(_e.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(_e.etag[o]=w)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=S.state,p=S.data,f=S.error,u=!f)):(f=_,(t||!_)&&(_="error",0>t&&(t=0))),T.status=t,T.statusText=(r||_)+"",u?y.resolveWith(m,[p,_,T]):y.rejectWith(m,[T,_,f]),T.statusCode(b),b=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[T,d,u?p:f]),v.fireWith(m,[T,_]),h&&(g.trigger("ajaxComplete",[T,d]),--_e.active||_e.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0),r=r||{};var i,o,s,a,c,u,l,h,p,f,d=_e.ajaxSetup({},r),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?_e(m):_e.event,y=_e.Deferred(),v=_e.Callbacks("once memory"),b=d.statusCode||{},S={},w={},_="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Ht.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,S[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return i&&i.abort(t),n(0,t),this}};if(y.promise(T),d.url=((t||d.url||jt.href)+"").replace(Ut,jt.protocol+"//"),d.type=r.method||r.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Le)||[""],null==d.crossDomain){u=se.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=qt.protocol+"//"+qt.host!=u.protocol+"//"+u.host}catch(E){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_e.param(d.data,d.traditional)),te(zt,d,r,T),l)return T;h=_e.event&&d.global,h&&0===_e.active++&&_e.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Vt.test(d.type),o=d.url.replace(Ft,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Mt,"+")):(f=d.url.slice(o.length),d.data&&(d.processData||"string"==typeof d.data)&&(o+=(Pt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Bt,"$1"),f=(Pt.test(o)?"&":"?")+"_="+kt++ +f),d.url=o+f),d.ifModified&&(_e.lastModified[o]&&T.setRequestHeader("If-Modified-Since",_e.lastModified[o]),_e.etag[o]&&T.setRequestHeader("If-None-Match",_e.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||r.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gt+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)T.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(m,T,d)===!1||l))return T.abort();if(_="abort",v.add(d.complete),T.done(d.success),T.fail(d.error),i=te(Wt,d,r,T)){if(T.readyState=1,h&&g.trigger("ajaxSend",[T,d]),l)return T;d.async&&d.timeout>0&&(c=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{l=!1,i.send(S,n)}catch(E){if(l)throw E;n(-1,E)}}else n(-1,"No Transport");return T},getJSON:function(e,t,r){return _e.get(e,t,r,"json")},getScript:function(e,t){return _e.get(e,void 0,t,"script")}}),_e.each(["get","post"],function(e,t){_e[t]=function(e,r,n,i){return ve(r)&&(i=i||n,n=r,r=void 0),_e.ajax(_e.extend({url:e,type:t,dataType:i,data:r,success:n},_e.isPlainObject(e)&&e))}}),_e._evalUrl=function(e){return _e.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},_e.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve(e)&&(e=e.call(this[0])),t=_e(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ve(e)?this.each(function(t){_e(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_e(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve(e);return this.each(function(r){_e(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_e(this).replaceWith(this.childNodes)}),this}}),_e.expr.pseudos.hidden=function(e){return!_e.expr.pseudos.visible(e)},_e.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_e.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Yt={0:200,1223:204},Xt=_e.ajaxSettings.xhr();ye.cors=!!Xt&&"withCredentials"in Xt,ye.ajax=Xt=!!Xt,_e.ajaxTransport(function(t){var r,n;return ye.cors||Xt&&!t.crossDomain?{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);r=function(e){return function(){r&&(r=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Yt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=r(),n=a.onerror=a.ontimeout=r("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{a.send(t.hasContent&&t.data||null)}catch(c){if(r)throw c}},abort:function(){r&&r()}}:void 0}),_e.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _e.globalEval(e),e}}}),_e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_e.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(n,i){t=_e("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),se.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Kt=[],Qt=/(=)\?(?=&|$)|\?\?/;_e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||_e.expando+"_"+kt++;return this[e]=!0,e}}),_e.ajaxPrefilter("json jsonp",function(t,r,n){var i,o,s,a=t.jsonp!==!1&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ve(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Qt,"$1"+i):t.jsonp!==!1&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||_e.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},n.always(function(){void 0===o?_e(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=r.jsonpCallback,Kt.push(i)),s&&ve(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ye.createHTMLDocument=function(){var e=se.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),_e.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var n,i,o;return t||(ye.createHTMLDocument?(t=se.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=se.location.href,t.head.appendChild(n)):t=se),i=Ae.exec(e),o=!r&&[],i?[t.createElement(i[1])]:(i=T([e],t,o),o&&o.length&&_e(o).remove(),_e.merge([],i.childNodes))},_e.fn.load=function(e,t,r){var n,i,o,s=this,a=e.indexOf(" ");return a>-1&&(n=K(e.slice(a)),e=e.slice(0,a)),ve(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&_e.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?_e("<div>").append(_e.parseHTML(e)).find(n):e)}).always(r&&function(e,t){s.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},_e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_e.fn[t]=function(e){return this.on(t,e)}}),_e.expr.pseudos.animated=function(e){return _e.grep(_e.timers,function(t){return e===t.elem}).length},_e.offset={setOffset:function(e,t,r){var n,i,o,s,a,c,u,l=_e.css(e,"position"),h=_e(e),p={};"static"===l&&(e.style.position="relative"),a=h.offset(),o=_e.css(e,"top"),c=_e.css(e,"left"),u=("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1,u?(n=h.position(),s=n.top,i=n.left):(s=parseFloat(o)||0,i=parseFloat(c)||0),ve(t)&&(t=t.call(e,r,_e.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):h.css(p)}},_e.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_e.offset.setOffset(this,e,t)});var t,r,n=this[0];if(n)return n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===_e.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===_e.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&(i=_e(e).offset(),i.top+=_e.css(e,"borderTopWidth",!0),i.left+=_e.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-_e.css(n,"marginTop",!0),left:t.left-i.left-_e.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_e.css(e,"position");)e=e.offsetParent;return e||rt})}}),_e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;_e.fn[e]=function(n){return Me(this,function(e,n,i){var o;return be(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[n]:void(o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i)},e,n,arguments.length)}}),_e.each(["top","left"],function(e,t){_e.cssHooks[t]=D(ye.pixelPosition,function(e,r){return r?(r=N(e,t),lt.test(r)?_e(e).position()[t]+"px":r):void 0})}),_e.each({Height:"height",Width:"width"},function(e,t){_e.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){_e.fn[n]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||o===!0?"margin":"border");return Me(this,function(t,r,i){var o;return be(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?_e.css(t,r,a):_e.style(t,r,i,a)},t,s?i:void 0,s)}})}),_e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_e.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),_e.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_e.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),_e.proxy=function(e,t){var r,n,i;return"string"==typeof t&&(r=e[t],t=e,e=r),ve(e)?(n=ce.call(arguments,2),i=function(){return e.apply(t||this,n.concat(ce.call(arguments)))},i.guid=e.guid=e.guid||_e.guid++,i):void 0},_e.holdReady=function(e){e?_e.readyWait++:_e.ready(!0)},_e.isArray=Array.isArray,_e.parseJSON=JSON.parse,_e.nodeName=o,_e.isFunction=ve,_e.isWindow=be,_e.camelCase=d,_e.type=n,_e.now=Date.now,_e.isNumeric=function(e){var t=_e.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _e});var Jt=e.jQuery,Zt=e.$;return _e.noConflict=function(t){return e.$===_e&&(e.$=Zt),t&&e.jQuery===_e&&(e.jQuery=Jt),_e},t||(e.jQuery=e.$=_e),_e}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,o=i.name,t.href&&o&&"map"===i.nodeName.toLowerCase()?(s=e("img[usemap='#"+o+"']")[0],!!s&&r(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var r=this.css("position"),n="absolute"===r,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(r){return!!e.data(r,t)}}):function(t,r,n){return!!e.data(t,n[3])},focusable:function(r){return t(r,!isNaN(e.attr(r,"tabindex")))},tabbable:function(r){var n=e.attr(r,"tabindex"),i=isNaN(n);return(i||n>=0)&&t(r,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,r){function n(t,r,n,o){return e.each(i,function(){r-=parseFloat(e.css(t,"padding"+this))||0,n&&(r-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(r-=parseFloat(e.css(t,"margin"+this))||0)}),r}var i="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(t){return void 0===t?s["inner"+r].call(this):this.each(function(){e(this).css(o,n(this,t)+"px")})},e.fn["outer"+r]=function(t,i){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(o,n(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(r){return arguments.length?t.call(this,e.camelCase(r)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(r,n){return"number"==typeof r?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},r)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){
return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,n,i=e(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,r,n){var i,o=e.ui[t].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([r,n[i]])},call:function(e,t,r,n){var i,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,r)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(e){function t(e){for(var t,r;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(r=parseInt(e.css("zIndex"),10),!isNaN(r)&&0!==r))return r;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var r="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(r,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(r,"mouseover",i)}function i(){e.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,r){e.extend(t,r);for(var n in r)null==r[n]&&(t[n]=r[n]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}});var s;return e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,r){var n,i,o;n=t.nodeName.toLowerCase(),i="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),i),o.settings=e.extend({},r||{}),"input"===n?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,r){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:r,dpDiv:r?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,r){var n=e(t);r.append=e([]),r.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,r),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),e.data(t,"datepicker",r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,r){var n,i,o,s=this._get(r,"appendText"),a=this._get(r,"isRTL");r.append&&r.append.remove(),s&&(r.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](r.append)),t.unbind("focus",this._showDatepicker),r.trigger&&r.trigger.remove(),n=this._get(r,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(i=this._get(r,"buttonText"),o=this._get(r,"buttonImage"),r.trigger=e(this._get(r,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[a?"before":"after"](r.trigger),r.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,r,n,i,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(r=0,n=0,i=0;i<e.length;i++)e[i].length>r&&(r=e[i].length,n=i);return n},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,r){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(r.dpDiv),e.data(t,"datepicker",r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,n,i,s){var a,c,u,l,h,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],"datepicker",p)),o(p.settings,i||{}),r=r&&r.constructor===Date?this._formatDate(p,r):r,this._dialogInput.val(r),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",p),this},_destroyDatepicker:function(t){var r,n=e(t),i=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===r?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===r||"span"===r)&&n.removeClass(this.markerClassName).empty(),s===i&&(s=null))},_enableDatepicker:function(t){var r,n,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===r||"span"===r)&&(n=i.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var r,n,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===r||"span"===r)&&(n=i.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(r){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,r,n){var i,s,a,c,u=this._getInst(t);return 2===arguments.length&&"string"==typeof r?"defaults"===r?e.extend({},e.datepicker._defaults):u?"all"===r?e.extend({},u.settings):this._get(u,r):null:(i=r||{},"string"==typeof r&&(i={},i[r]=n),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),o(u.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==c&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,r){this._optionDatepicker(e,t,r)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var r=this._getInst(e);r&&(this._setDate(r,t),this._updateDatepicker(r),this._updateAlternate(r))},_getDateDatepicker:function(e,t){var r=this._getInst(e);return r&&!r.inline&&this._setDateFromField(r,t),r?this._getDate(r):null},_doKeyDown:function(t){var r,n,i,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),i[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),r=e.datepicker._get(o,"onSelect"),r?(n=e.datepicker._formatDate(o),r.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var r,n,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(r=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!r||r.indexOf(n)>-1):void 0},_doKeyUp:function(t){var r,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{r=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),r&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(i){}return!0},_showDatepicker:function(r){if(r=r.target||r,"input"!==r.nodeName.toLowerCase()&&(r=e("input",r.parentNode)[0]),!e.datepicker._isDisabledDatepicker(r)&&e.datepicker._lastInput!==r){var n,i,s,a,c,u,l;n=e.datepicker._getInst(r),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),s=i?i.apply(r,[r,n]):{},s!==!1&&(o(n.settings,s),n.lastVal=null,e.datepicker._lastInput=r,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(r.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(r),e.datepicker._pos[1]+=r.offsetHeight),a=!1,e(r).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),c={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),c=e.datepicker._checkOffset(n,c,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),n.inline||(u=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(r))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?n.dpDiv.show(u,e.datepicker._get(n,"showOptions"),l):n.dpDiv[u||"show"](u?l:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var r,n=this._getNumberOfMonths(t),o=n[1],a=17,c=t.dpDiv.find("."+this._dayOverClass+" a");c.length>0&&i.apply(c.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",a*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),r=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,r,n){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,c=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return r.left-=this._get(t,"isRTL")?i-s:0,r.left-=n&&r.left===t.input.offset().left?e(document).scrollLeft():0,r.top-=n&&r.top===t.input.offset().top+a?e(document).scrollTop():0,r.left-=Math.min(r.left,r.left+i>c&&c>i?Math.abs(r.left+i-c):0),r.top-=Math.min(r.top,r.top+o>u&&u>o?Math.abs(o+a):0),r},_findPos:function(t){for(var r,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return r=e(t).offset(),[r.left,r.top]},_hideDatepicker:function(t){var r,n,i,o,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(s,"showAnim"),n=this._get(s,"duration"),i=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[r]||e.effects[r])?s.dpDiv.hide(r,e.datepicker._get(s,"showOptions"),n,i):s.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?n:null,i),r||i(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var r=e(t.target),n=e.datepicker._getInst(r[0]);(r[0].id!==e.datepicker._mainDivId&&0===r.parents("#"+e.datepicker._mainDivId).length&&!r.hasClass(e.datepicker.markerClassName)&&!r.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||r.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,r,n){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,r+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var r,n=e(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,r,n){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(r.options[r.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,r,n,i){var o,s=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=r,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var r=e(t);this._selectDate(r,"")},_selectDate:function(t,r){var n,i=e(t),o=this._getInst(i[0]);r=null!=r?r:this._formatDate(o),o.input&&o.input.val(r),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[r,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var r,n,i,o=this._get(t,"altField");o&&(r=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(r,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,r=new Date(e.getTime());return r.setDate(r.getDate()+4-(r.getDay()||7)),t=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((t-r)/864e5)/7)+1},parseDate:function(t,r,n){if(null==t||null==r)throw"Invalid arguments";if(r="object"==typeof r?r.toString():r+"",""===r)return null;var i,o,s,a,c=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,d=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,y=-1,v=-1,b=!1,S=function(e){var r=i+1<t.length&&t.charAt(i+1)===e;return r&&i++,r},w=function(e){var t=S(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?n:1,o=new RegExp("^\\d{"+i+","+n+"}"),s=r.substring(c).match(o);if(!s)throw"Missing number at position "+c;return c+=s[0].length,parseInt(s[0],10)},_=function(t,n,i){var o=-1,s=e.map(S(t)?i:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var n=t[1];return r.substr(c,n.length).toLowerCase()===n.toLowerCase()?(o=t[0],c+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+c},T=function(){if(r.charAt(c)!==t.charAt(i))throw"Unexpected literal at position "+c;c++};for(i=0;i<t.length;i++)if(b)"'"!==t.charAt(i)||S("'")?T():b=!1;else switch(t.charAt(i)){case"d":y=w("d");break;case"D":_("D",h,p);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=_("M",f,d);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"'":S("'")?T():b=!0;break;default:T()}if(c<r.length&&(s=r.substr(c),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=m?0:-100)),v>-1)for(g=1,y=v;;){if(o=this._getDaysInMonth(m,g-1),o>=y)break;g++,y-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,y)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==y)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,r){if(!t)return"";var n,i=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,o=(r?r.dayNames:null)||this._defaults.dayNames,s=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,a=(r?r.monthNames:null)||this._defaults.monthNames,c=function(t){var r=n+1<e.length&&e.charAt(n+1)===t;return r&&n++,r},u=function(e,t,r){var n=""+t;if(c(e))for(;n.length<r;)n="0"+n;return n},l=function(e,t,r,n){return c(e)?n[t]:r[t]},h="",p=!1;if(t)for(n=0;n<e.length;n++)if(p)"'"!==e.charAt(n)||c("'")?h+=e.charAt(n):p=!1;else switch(e.charAt(n)){case"d":h+=u("d",t.getDate(),2);break;case"D":h+=l("D",t.getDay(),i,o);break;case"o":h+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",t.getMonth()+1,2);break;case"M":h+=l("M",t.getMonth(),s,a);break;case"y":h+=c("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?h+="'":p=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,r="",n=!1,i=function(r){var n=t+1<e.length&&e.charAt(t+1)===r;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||i("'")?r+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":r+="0123456789";break;case"D":case"M":return null;case"'":i("'")?r+="'":n=!0;break;default:r+=e.charAt(t)}return r},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var r=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,s=this._getFormatConfig(e);try{o=this.parseDate(r,n,s)||i}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,r,n){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(r){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),r,e.datepicker._getFormatConfig(t))}catch(n){}for(var i=(r.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=i.getFullYear(),s=i.getMonth(),a=i.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=c.exec(r);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":s+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(u[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,s))}u=c.exec(r)}return new Date(o,s,a)},s=null==r||""===r?n:"string"==typeof r?o(r):"number"==typeof r?isNaN(r)?n:i(r):new Date(r.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,r){var n=!t,i=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||r||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-r,"M")},next:function(){e.datepicker._adjustDate(n,+r,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,r,n,i,o,s,a,c,u,l,h,p,f,d,m,g,y,v,b,S,w,_,T,E,C,x,R,A,O,j,k,P,I,L,N,D,M,F,B,H=new Date,$=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),V=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),X=1!==G[0]||1!==G[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-q,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-G[0]*G[1]+1,J.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,0>Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,r=this._get(e,"prevText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z-Y,1)),this._getFormatConfig(e)):r,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+r+"</span></a>",i=this._get(e,"nextText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z+Y,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+i+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?K:$,s=W?this.formatDate(s,a,this._getFormatConfig(e)):s,c=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?c:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(V?"":c)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,h=this._get(e,"showWeek"),p=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),y=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),S="",_=0;_<G[0];_++){for(T="",this.maxRows=4,E=0;E<G[1];E++){if(C=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),x=" ui-corner-all",R="",X){if(R+="<div class='ui-datepicker-group",G[1]>1)switch(E){case 0:R+=" ui-datepicker-group-first",x=" ui-corner-"+(V?"right":"left");break;case G[1]-1:R+=" ui-datepicker-group-last",x=" ui-corner-"+(V?"left":"right");break;default:R+=" ui-datepicker-group-middle",x=""}R+="'>"}for(R+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===_?V?o:n:"")+(/all|right/.test(x)&&0===_?V?n:o:"")+this._generateMonthYearHeader(e,Z,ee,Q,J,_>0||E>0,d,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)O=(w+l)%7,A+="<th scope='col'"+((w+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[O]+"'>"+f[O]+"</span></th>";for(R+=A+"</tr></thead><tbody>",j=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,j)),k=(this._getFirstDayOfMonth(ee,Z)-l+7)%7,P=Math.ceil((k+j)/7),I=X&&this.maxRows>P?this.maxRows:P,this.maxRows=I,L=this._daylightSavingAdjust(new Date(ee,Z,1-k)),N=0;I>N;N++){for(R+="<tr>",D=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",w=0;7>w;w++)M=g?g.apply(e.input?e.input[0]:null,[L]):[!0,""],F=L.getMonth()!==Z,B=F&&!v||!M[0]||Q&&Q>L||J&&L>J,D+="<td class='"+((w+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===L.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!y?"":" "+M[1]+(L.getTime()===K.getTime()?" "+this._currentClass:"")+(L.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(F&&!y||!M[2]?"":" title='"+M[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!y?"&#xa0;":B?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===$.getTime()?" ui-state-highlight":"")+(L.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",
L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);R+=D+"</tr>"}Z++,Z>11&&(Z=0,ee++),R+="</tbody></table>"+(X?"</div>"+(G[0]>0&&E===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),T+=R}S+=T}return S+=u,e._keyEvent=!1,S},_generateMonthYearHeader:function(e,t,r,n,i,o,s,a){var c,u,l,h,p,f,d,m,g=this._get(e,"changeMonth"),y=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",S="";if(o||!g)S+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(c=n&&n.getFullYear()===r,u=i&&i.getFullYear()===r,S+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!c||l>=n.getMonth())&&(!u||l<=i.getMonth())&&(S+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+a[l]+"</option>");S+="</select>"}if(v||(b+=S+(!o&&g&&y?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!y)b+="<span class='ui-datepicker-year'>"+r+"</span>";else{for(h=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?r+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t},d=f(h[0]),m=Math.max(d,f(h[1]||"")),d=n?Math.max(d,n.getFullYear()):d,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===r?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),v&&(b+=(!o&&g&&y?"":"&#xa0;")+S),b+="</div>"},_adjustInstDate:function(e,t,r){var n=e.drawYear+("Y"===r?t:0),i=e.drawMonth+("M"===r?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,i))+("D"===r?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,i,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===r||"Y"===r)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var r=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),i=r&&r>t?r:t;return n&&i>n?n:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,r,n){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(r,n+(0>t?t:i[0]*i[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var r,n,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,c=this._get(e,"yearRange");return c&&(r=c.split(":"),n=(new Date).getFullYear(),s=parseInt(r[0],10),a=parseInt(r[1],10),r[0].match(/[+\-].*/)&&(s+=n),r[1].match(/[+\-].*/)&&(a+=n)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,r,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,r,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var r=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(r)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(r)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(r))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker});var Handsontable={plugins:{},helper:{}};!function(e,t,r){"use strict";function n(){this.refCounter=0,this.init()}function i(){function e(){var e=this;e._registerTimeout(setTimeout(function(){e.updateSettings({observeChanges:!0})},0))}function t(e){return function(t,r){return"string"==typeof t[1]&&(t[1]=t[1].toLowerCase()),"string"==typeof r[1]&&(r[1]=r[1].toLowerCase()),t[1]===r[1]?0:null===t[1]||""===t[1]?1:null===r[1]||""===r[1]?-1:t[1]<r[1]?e?-1:1:t[1]>r[1]?e?1:-1:0}}function n(e){return function(t,r){if(t[1]===r[1])return 0;if(null===t[1])return 1;if(null===r[1])return-1;var n=new Date(t[1]),i=new Date(r[1]);return i>n?e?-1:1:n>i?e?1:-1:0}}function i(e){return"undefined"!=typeof e.sortColumn}var o=this;this.init=function(t){var r,n,i=this,s=i.getSettings().columnSorting;if(i.sortingEnabled=!!s,i.sortingEnabled){i.sortIndex=[];var u=a.call(i);"undefined"!=typeof u?(r=u.sortColumn,n=u.sortOrder):(r=s.column,n=s.sortOrder),o.sortByColumn.call(i,r,n),i.sort=function(){var e=Array.prototype.slice.call(arguments);return o.sortByColumn.apply(i,e)},"undefined"==typeof i.getSettings().observeChanges&&e.call(i),"afterInit"==t&&(c.call(i),i.addHook("afterCreateRow",o.afterCreateRow),i.addHook("afterRemoveRow",o.afterRemoveRow),i.addHook("afterLoadData",o.init))}else delete i.sort,i.removeHook("afterCreateRow",o.afterCreateRow),i.removeHook("afterRemoveRow",o.afterRemoveRow),i.removeHook("afterLoadData",o.init)},this.setSortingColumn=function(e,t){var r=this;return"undefined"==typeof e?(delete r.sortColumn,void delete r.sortOrder):(r.sortColumn===e&&"undefined"==typeof t?r.sortOrder=!r.sortOrder:r.sortOrder="undefined"!=typeof t?t:!0,void(r.sortColumn=e))},this.sortByColumn=function(e,t){var n=this;o.setSortingColumn.call(n,e,t),"undefined"!=typeof n.sortColumn&&(r.hooks.run(n,"beforeColumnSort",n.sortColumn,n.sortOrder),o.sort.call(n),n.render(),s.call(n),r.hooks.run(n,"afterColumnSort",n.sortColumn,n.sortOrder))};var s=function(){var e=this,t={};"undefined"!=typeof e.sortColumn&&(t.sortColumn=e.sortColumn),"undefined"!=typeof e.sortOrder&&(t.sortOrder=e.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&r.hooks.run(e,"persistentStateSave","columnSorting",t)},a=function(){var e=this,t={};return r.hooks.run(e,"persistentStateLoad","columnSorting",t),t.value},c=function(){function e(){var e=n.view.TBODY.querySelector("tr").querySelectorAll("th");return e.length}function t(t){var n=r.Dom.closest(t,"TH");return r.Dom.index(n)-e()}var n=this;n.rootElement.on("click.handsontable",".columnSorting",function(e){var r=t(e.target);o.sortByColumn.call(n,r)})};this.sort=function(){var e=this;if("undefined"!=typeof e.sortOrder){e.sortingEnabled=!1,e.sortIndex.length=0;for(var r=this.colOffset(),i=0,o=this.countRows()-e.getSettings().minSpareRows;o>i;i++)this.sortIndex.push([i,e.getDataAtCell(i,this.sortColumn+r)]);var s,a=e.getCellMeta(0,e.sortColumn);switch(a.type){case"date":s=n;break;default:s=t}this.sortIndex.sort(s(e.sortOrder));for(var i=this.sortIndex.length;i<e.countRows();i++)this.sortIndex.push([i,e.getDataAtCell(i,this.sortColumn+r)]);e.sortingEnabled=!0}},this.translateRow=function(e){var t=this;return t.sortingEnabled&&t.sortIndex&&t.sortIndex.length&&t.sortIndex[e]?t.sortIndex[e][0]:e},this.untranslateRow=function(e){var t=this;if(t.sortingEnabled&&t.sortIndex&&t.sortIndex.length)for(var r=0;r<t.sortIndex.length;r++)if(t.sortIndex[r][0]==e)return r},this.getColHeader=function(e,t){this.getSettings().columnSorting&&e>=0&&r.Dom.addClass(t.querySelector(".colHeader"),"columnSorting")},this.afterCreateRow=function(e,t){var r=this;if(i(r)){for(var n=0;n<r.sortIndex.length;n++)r.sortIndex[n][0]>=e&&(r.sortIndex[n][0]+=t);for(var n=0;t>n;n++)r.sortIndex.splice(e+n,0,[e+n,r.getData()[e+n][r.sortColumn+r.colOffset()]]);s.call(r)}},this.afterRemoveRow=function(e,t){var r=this;if(i(r)){var n=o.translateRow.call(r,e);r.sortIndex.splice(e,t);for(var a=0;a<r.sortIndex.length;a++)r.sortIndex[a][0]>n&&(r.sortIndex[a][0]-=t);s.call(r)}},this.afterChangeSort=function(e){var t=this,r=!1,n={};if(e){for(var i=0;i<e.length;i++)if(e[i][1]==t.sortColumn){r=!0,n.row=o.translateRow.call(t,e[i][0]),n.col=e[i][1];break}r&&t._registerTimeout(setTimeout(function(){o.sort.call(t),t.render(),t.selectCell(o.untranslateRow.call(t,n.row),n.col)},0))}}}function o(t){var n=function(e,t,r,n){n.setCellMeta(e,t,"comment",r),n.render()},i=function(e,t,r){n(e.from.row,e.from.col,t,r)},o=function(){var e=u();e.style.display="none",e.value=""},s=function(n){function s(r){if(e(document).off("mouseover.htCommment"),"htCommentTextArea"!=r.target.className&&-1==r.target.innerHTML.indexOf("Comment")){var s=document.getElementsByClassName("htCommentTextArea")[0].value;s.trim().length>1&&i(n,s,t),a(),o()}}e(document).on("mousedown.htCommment",r.helper.proxy(s))},a=function(){e(document).off("mousedown.htCommment"),e(document).on("mouseover.htCommment",r.helper.proxy(l))},c=function(e,n){var i=t.view.wt.wtTable.getCell(e.from),o=r.Dom.offset(i),a=t.getColWidth(e.from.col);n.style.position="absolute",n.style.left=o.left+a+"px",n.style.top=o.top+"px",n.style.zIndex=2,s(e,n)},u=function(e){var t=document.getElementsByClassName("htComments")[0];if(!t){t=document.createElement("DIV");var n=document.createElement("TEXTAREA");r.Dom.addClass(n,"htCommentTextArea"),t.appendChild(n),r.Dom.addClass(t,"htComments"),document.getElementsByTagName("body")[0].appendChild(t)}return e=e||"",document.getElementsByClassName("htCommentTextArea")[0].value=e,t},l=function(e){if(-1!=e.target.className.indexOf("htCommentCell")){a();var n=t.view.wt.wtTable.getCoords(e.target),i={from:new f(n.row,n.col)};r.Comments.showComment(i)}else"htCommentTextArea"!=e.target.className&&o()};return{init:function(){e(document).on("mouseover.htCommment",r.helper.proxy(l))},showComment:function(e){var r=t.getCellMeta(e.from.row,e.from.col),n="";r.comment&&(n=r.comment);var i=u(n);i.style.display="block",c(e,i)},removeComment:function(e,r){t.removeCellMeta(e,r,"comment"),t.render()},checkSelectionCommentsConsistency:function(){var e=!1,r=t.getSelectedRange().from;return t.getCellMeta(r.row,r.col).comment&&(e=!0),e}}}function s(e){var r,n=function(){t.localStorage[e+"__persistentStateKeys"]=JSON.stringify(r)},i=function(){var n=t.localStorage[e+"__persistentStateKeys"],i="string"==typeof n?JSON.parse(n):void 0;r=i?i:[]},o=function(){r=[],n()};i(),this.saveValue=function(i,o){t.localStorage[e+"_"+i]=JSON.stringify(o),-1==r.indexOf(i)&&(r.push(i),n())},this.loadValue=function(r,n){r="undefined"!=typeof r?r:n;var i=t.localStorage[e+"_"+r];return"undefined"==typeof i?void 0:JSON.parse(i)},this.reset=function(r){t.localStorage.removeItem(e+"_"+r)},this.resetAll=function(){for(var n=0;n<r.length;n++)t.localStorage.removeItem(e+"_"+r[n]);o()}}function a(){this.boundaries=null,this.callback=null}function c(){var e=[];return e.getInfo=function(e,t){for(var r=0,n=this.length;n>r;r++)if(this[r].row<=e&&this[r].row+this[r].rowspan-1>=e&&this[r].col<=t&&this[r].col+this[r].colspan-1>=t)return this[r]},e.setInfo=function(e){for(var t=0,r=this.length;r>t;t++)if(this[t].row===e.row&&this[t].col===e.col)return void(this[t]=e);this.push(e)},e.removeInfo=function(e,t){for(var r=0,n=this.length;n>r;r++)if(this[r].row===e&&this[r].col===t){this.splice(r,1);break}},e}function u(e){if(this.mergedCellInfoCollection=new c,r.helper.isArray(e))for(var t=0,n=e.length;n>t;t++)this.mergedCellInfoCollection.setInfo(e[t])}function l(){}function h(e){this.instance=e}function p(t,r){var n;if(r){this.instance=t,this.settings=r,this.main=document.createElement("div"),n=this.main.style,n.position="absolute",n.top=0,n.left=0;for(var i=["top","left","bottom","right","corner"],o=0;5>o;o++){var s=i[o],a=document.createElement("DIV");a.className="wtBorder "+(this.settings.className||""),this.settings[s]&&this.settings[s].hide&&(a.className+=" hidden"),n=a.style,n.backgroundColor=this.settings[s]&&this.settings[s].color?this.settings[s].color:r.border.color,n.height=this.settings[s]&&this.settings[s].width?this.settings[s].width+"px":r.border.width+"px",n.width=this.settings[s]&&this.settings[s].width?this.settings[s].width+"px":r.border.width+"px",this.main.appendChild(a)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width="5px",this.cornerStyle.height="5px",this.cornerStyle.border="2px solid #FFF",this.disappear(),t.wtTable.bordersHolder||(t.wtTable.bordersHolder=document.createElement("div"),t.wtTable.bordersHolder.className="htBorders",t.wtTable.hider.appendChild(t.wtTable.bordersHolder)),t.wtTable.bordersHolder.insertBefore(this.main,t.wtTable.bordersHolder.firstChild);var c=!1,u=e(document.body);u.on("mousedown.walkontable."+t.guid,function(){c=!0}),u.on("mouseup.walkontable."+t.guid,function(){c=!1}),e(this.main.childNodes).on("mouseenter",function(r){if(c&&t.getSetting("hideBorderOnMouseDownOver")){r.preventDefault(),r.stopImmediatePropagation();var n=this.getBoundingClientRect(),i=e(this);i.hide();var o=function(e){return e.clientY<Math.floor(n.top)?!0:e.clientY>Math.ceil(n.top+n.height)?!0:e.clientX<Math.floor(n.left)?!0:e.clientX>Math.ceil(n.left+n.width)?!0:void 0};u.on("mousemove.border."+t.guid,function(e){o(e)&&(u.off("mousemove.border."+t.guid),i.show())})}})}}function f(e,t){"undefined"!=typeof e&&"undefined"!=typeof t?(this.row=e,this.col=t):(this.row=null,this.col=null)}function d(e,t,r){this.highlight=e,this.from=t,this.to=r}function m(e,t){this.total=e,this.countTH=t}function g(e,t,r,n){var i,o=0;for(h.apply(this,arguments),this.containerSizeFn=t,this.cellSizesSum=0,this.cellSizes=[],this.cellStretch=[],this.cellCount=0,this.visibleCellCount=0,this.remainingSize=0,this.strategy=n;;){if(i=r(o),void 0===i)break;this.cellSizesSum<this.getContainerSize(this.cellSizesSum+i)&&this.visibleCellCount++,this.cellSizes.push(i),this.cellSizesSum+=i,this.cellCount++,o++}var s=this.getContainerSize(this.cellSizesSum);this.remainingSize=this.cellSizesSum-s}function y(e){var t=[];if(this.guid="wt_"+S(),e.cloneSource?(this.cloneSource=e.cloneSource,this.cloneOverlay=e.cloneOverlay,this.wtSettings=e.cloneSource.wtSettings,this.wtTable=new j(this,e.table),this.wtScroll=new T(this),this.wtViewport=e.cloneSource.wtViewport,this.wtEvent=new b(this),this.selections=this.cloneSource.selections):(this.wtSettings=new O(this,e),this.wtTable=new j(this,e.table),this.wtScroll=new T(this),this.wtViewport=new P(this),this.wtEvent=new b(this),this.selections=this.getSetting("selections"),this.wtScrollbars=new R(this)),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;i>n;n++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,n){r.Dom.fastInnerText(n,t[e])}])}this.drawn=!1,this.drawInterrupted=!1}function v(t){this.instance=t,this.init(),this.clone=this.makeClone("debug"),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",this.lastTimeout=null;var n=this,i=0,o=0,s=n.clone.wtTable.holder.parentNode;e(document.body).on("mousemove."+this.instance.guid,function(e){n.instance.wtTable.holder.parentNode&&(e.clientX-i>-5&&e.clientX-i<5&&e.clientY-o>-5&&e.clientY-o<5||(i=e.clientX,o=e.clientY,r.Dom.addClass(s,"wtDebugHidden"),r.Dom.removeClass(s,"wtDebugVisible"),clearTimeout(this.lastTimeout),this.lastTimeout=setTimeout(function(){r.Dom.removeClass(s,"wtDebugHidden"),r.Dom.addClass(s,"wtDebugVisible")},1e3)))})}function b(n){var i=this;this.instance=n;var o=[null,null];this.dblClickTimeout=[null,null];var s,a=function(e){var t=i.parentCell(e.target);r.Dom.hasClass(e.target,"corner")?i.instance.getSetting("onCellCornerMouseDown",e,e.target):t.TD&&i.instance.hasSetting("onCellMouseDown")&&i.instance.getSetting("onCellMouseDown",e,t.coords,t.TD,i.instance),2!==e.button&&t.TD&&(o[0]=t.TD,clearTimeout(i.dblClickTimeout[0]),i.dblClickTimeout[0]=setTimeout(function(){o[0]=null},1e3))},c=function(e){if(i.instance.hasSetting("onCellMouseOver")){var t=i.instance.wtTable.TABLE,n=r.Dom.closest(e.target,["TD","TH"],t);n&&n!==s&&r.Dom.isChildOf(n,t)&&(s=n,i.instance.getSetting("onCellMouseOver",e,i.instance.wtTable.getCoords(n),n,i.instance))}},u=function(e){if(2!==e.button){var t=i.parentCell(e.target);t.TD===o[0]&&t.TD===o[1]?(r.Dom.hasClass(e.target,"corner")?i.instance.getSetting("onCellCornerDblClick",e,t.coords,t.TD,i.instance):i.instance.getSetting("onCellDblClick",e,t.coords,t.TD,i.instance),o[0]=null,o[1]=null):t.TD===o[0]&&(o[1]=t.TD,clearTimeout(i.dblClickTimeout[1]),i.dblClickTimeout[1]=setTimeout(function(){o[1]=null},500))}};e(this.instance.wtTable.holder).on("mousedown",a),e(this.instance.wtTable.TABLE).on("mouseover",c),e(this.instance.wtTable.holder).on("mouseup",u),e(t).on("resize."+this.instance.guid,function(){i.instance.draw()})}function S(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()}function w(e,t,r){this.offset=e,this.total=t,this.countTH=r}function _(e,t,r){h.apply(this,arguments),this.containerSizeFn=t,this.sizeAtIndex=r,this.cellSizesSum=0,this.cellSizes=[],this.cellCount=0,this.visiblCellCount=0,this.remainingSize=-(1/0),this.maxOuts=10,this.curOuts=this.maxOuts}function T(e){this.instance=e}function E(e){this.instance=e,this.type="corner",this.init(),this.clone=this.makeClone("corner")}function C(e){this.instance=e,this.type="horizontal",this.cellSize=50,this.offset=0,this.init(),this.clone=this.makeClone("left")}function x(e){this.instance=e,this.type="vertical",this.cellSize=this.instance.wtSettings.settings.defaultRowHeight,this.offset,this.total,this.init(),this.clone=this.makeClone("top")}function R(e){this.instance=e,e.update("scrollbarWidth",r.Dom.getScrollbarWidth()),e.update("scrollbarHeight",r.Dom.getScrollbarWidth()),this.vertical=new x(e),this.horizontal=new C(e),this.corner=new E(e),e.getSetting("debug")&&(this.debug=new v(e)),this.registerListeners()}function A(e,t){this.settings=e,this.cellRange=t||null,this.instanceBorders={}}function O(e,t){var n=this;this.instance=e,this.defaults={table:void 0,debug:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,offsetRow:0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,width:null,height:null,cellRenderer:function(e,t,i){var o=n.getSetting("data",e,t);r.Dom.fastInnerText(i,void 0===o||null===o?"":o)},columnWidth:50,rowHeight:function(e){return 23},defaultRowHeight:23,selections:null,hideBorderOnMouseDownOver:!1,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var i in this.defaults)if(this.defaults.hasOwnProperty(i))if(void 0!==t[i])this.settings[i]=t[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}}function j(e,t){this.instance=e,this.TABLE=t,r.Dom.removeTextNodes(this.TABLE);var n=this.TABLE.parentNode;if(!n||1!==n.nodeType||!r.Dom.hasClass(n,"wtHolder")){var i=document.createElement("DIV");i.className="wtSpreader",n&&n.insertBefore(i,this.TABLE),i.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,n=this.spreader.parentNode,!n||1!==n.nodeType||!r.Dom.hasClass(n,"wtHolder")){var o=document.createElement("DIV");o.className="wtHider",n&&n.insertBefore(o,this.spreader),o.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",n=this.hider.parentNode,!n||1!==n.nodeType||!r.Dom.hasClass(n,"wtHolder")){var s=document.createElement("DIV");s.style.position="relative",s.className="wtHolder",e.cloneSource||(s.className+=" ht_master"),n&&n.insertBefore(s,this.hider),s.appendChild(this.hider)}if(this.holder=this.hider.parentNode,this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var a=document.createElement("TR");this.THEAD.appendChild(a)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.columnWidthCache=[]}function k(e){this.wtTable=e,this.instance=e.instance,this.rowFilter=e.rowFilter,this.columnFilter=e.columnFilter,this.TABLE=e.TABLE,this.THEAD=e.THEAD,this.TBODY=e.TBODY,this.COLGROUP=e.COLGROUP,this.utils=k.utils}function P(r){this.instance=r,this.resetSettings();var n=this;e(t).on("resize.walkontable."+this.instance.guid,function(){n.clientHeight=n.getWorkspaceHeight()})}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=t);t>r;r++)if(r in this&&this[r]===e)return r;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e,t){function r(e){return/NodeList/i.test(e.item)}function n(e){for(var t=[],r=0,n=e.length;n>r;r++)t[r]=e[r];return t}if("undefined"==typeof this||null===this)throw new TypeError;if("function"!=typeof e)throw new TypeError;t=t||this,r(t)&&(t=n(t));var i,o,s=t.length,a=[];for(i=0;s>i;i+=1)t.hasOwnProperty(i)&&(o=t[i],e.call(t,o,i,t)&&a.push(o));return a}),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty;try{var r=!0;e(function(){},"foo",{})}catch(n){r=!1}var i=+new Date%1e9,o=function(){this.name="__st"+(1e9*Math.random()>>>0)+(i++ +"__"),r||(this._wmCache=[])};r?o.prototype={set:function(t,r){var n=t[this.name];n&&n[0]===t?n[1]=r:e(t,this.name,{value:[t,r],writable:!0})},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){this.set(e,void 0)}}:o.prototype={set:function(e,t){if("undefined"!=typeof e&&"undefined"!=typeof t){for(var r=0,n=this._wmCache.length;n>r;r++)if(this._wmCache[r].key==e)return void(this._wmCache[r].value=t);this._wmCache.push({key:e,value:t})}},get:function(e){if("undefined"!=typeof e)for(var t=0,r=this._wmCache.length;r>t;t++)if(this._wmCache[t].key==e)return this._wmCache[t].value},"delete":function(e){if("undefined"!=typeof e)for(var t=0,r=this._wmCache.length;r>t;t++)this._wmCache[t].key==e&&Array.prototype.slice.call(this._wmCache,t,1)}},t.WeakMap=o}(),r.activeGuid=null,r.Core=function(n,i){function o(){var e=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==e&&(e=!0,this.onQueueEmpty())}}}function s(t,n,i){function s(){var o;t.length&&(o=r.hooks.execute(S,"beforeChange",t,n),"function"==typeof o?e.when(result).then(function(){i()}):o===!1&&t.splice(0,t.length)),"function"!=typeof o&&i()}var a=new o;a.onQueueEmpty=s;for(var c=t.length-1;c>=0;c--)if(null===t[c])t.splice(c,1);else{var u=t[c][0],l=g.propToCol(t[c][1]),h=S.runHooksAndReturn("modifyCol",l),p=S.getCellMeta(u,h);if("numeric"===p.type&&"string"==typeof t[c][3]&&t[c][3].length>0&&/^-?[\d\s]*(\.|\,)?\d*$/.test(t[c][3])){var f=t[c][3].length;"undefined"==typeof p.language?numeral.language("en"):t[c][3].indexOf(".")===f-3&&-1===t[c][3].indexOf(",")?numeral.language("en"):numeral.language(p.language),t[c][3]=numeral().unformat(t[c][3]||"0")}S.getCellValidator(p)&&(a.addValidatorToQueue(),S.validateCell(t[c][3],p,function(e,r){return function(n){if("boolean"!=typeof n)throw new Error("Validation error: result is not boolean");n===!1&&r.allowInvalid===!1&&(t.splice(e,1),r.valid=!0,--e),a.removeValidatorFormQueue()}}(c,p),n))}a.checkIfQueueIsEmpty()}function a(e,t){var n=e.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==e[n]){if(null!=e[n][2]||null!=e[n][3]){if(m.settings.minSpareRows)for(;e[n][0]>S.countRows()-1;)g.createRow();if("array"===S.dataType&&m.settings.minSpareCols)for(;g.propToCol(e[n][1])>S.countCols()-1;)g.createCol();g.set(e[n][0],e[n][1],e[n][3])}}else e.splice(n,1);S.forceFullRender=!0,y.adjustRowsAndCols(),r.hooks.run(S,"beforeChangeRender",e,t),v.refreshBorders(null,!0),r.hooks.run(S,"afterChange",e,t||"edit")}}function c(t,r,n){return"object"==typeof t?t:e.isPlainObject(n)?n:[[t,r,n]]}function u(e){if(e.hasOwnProperty("type")){var t,n={};if("object"==typeof e.type)t=e.type;else if("string"==typeof e.type&&(t=r.cellTypes[e.type],void 0===t))throw new Error('You declared cell type "'+e.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(n[i]=t[i]);return n}}function l(e){return r.hooks.execute(S,"modifyRow",e)}function h(e){return r.hooks.execute(S,"modifyCol",e)}function p(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var m,g,y,v,b,S=this,w=function(){},_=e(document.documentElement),T=e(document.body);r.helper.extend(w.prototype,I.prototype),r.helper.extend(w.prototype,i),r.helper.extend(w.prototype,u(i)),this.rootElement=n,this.container=document.createElement("DIV"),this.container.className="htContainer",n.prepend(this.container),this.container=e(this.container),this.guid="ht_"+r.helper.randomString(),this.rootElement[0].id&&"ht_"!==this.rootElement[0].id.substring(0,3)||(this.rootElement[0].id=this.guid),m={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new w,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},y={alter:function(e,t,n,i,o){var s;switch(n=n||1,e){case"insert_row":s=g.createRow(t,n),s&&(v.isSelected()&&m.selRange.from.row>=t?(m.selRange.from.row=m.selRange.from.row+s,v.transformEnd(s,0)):v.refreshBorders());break;case"insert_col":if(s=g.createCol(t,n)){if(r.helper.isArray(S.getSettings().colHeaders)){var a=[t,0];a.length+=s,Array.prototype.splice.apply(S.getSettings().colHeaders,a)}v.isSelected()&&m.selRange.from.col>=t?(m.selRange.from.col=m.selRange.from.col+s,v.transformEnd(0,s)):v.refreshBorders()}break;case"remove_row":g.removeRow(t,n),m.cellSettings.splice(t,n),y.adjustRowsAndCols(),v.refreshBorders();break;case"remove_col":g.removeCol(t,n);for(var c=0,u=g.getAll().length;u>c;c++)c in m.cellSettings&&m.cellSettings[c].splice(t,n);r.helper.isArray(S.getSettings().colHeaders)&&("undefined"==typeof t&&(t=-1),S.getSettings().colHeaders.splice(t,n)),m.columnSettings.splice(t,n),y.adjustRowsAndCols(),v.refreshBorders();break;default:throw new Error('There is no such action "'+e+'"')}o||y.adjustRowsAndCols()},adjustRowsAndCols:function(){var e,t,r,n;if(t=S.countRows(),t<m.settings.minRows)for(e=0;e<m.settings.minRows-t;e++)g.createRow(S.countRows(),1,!0);if(r=S.countEmptyRows(!0),r<m.settings.minSpareRows)for(;r<m.settings.minSpareRows&&S.countRows()<m.settings.maxRows;r++)g.createRow(S.countRows(),1,!0);if(n=S.countEmptyCols(!0),!m.settings.columns&&S.countCols()<m.settings.minCols)for(;S.countCols()<m.settings.minCols;n++)g.createCol(S.countCols(),1,!0);if(!m.settings.columns&&"array"===S.dataType&&n<m.settings.minSpareCols)for(;n<m.settings.minSpareCols&&S.countCols()<m.settings.maxCols;n++)g.createCol(S.countCols(),1,!0);var i=S.countRows(),o=S.countCols();if((0===i||0===o)&&v.deselect(),v.isSelected()){var s,a=m.selRange.from.row,c=m.selRange.from.col,u=m.selRange.to.row,l=m.selRange.to.col;a>i-1?(a=i-1,s=!0,u>a&&(u=a)):u>i-1&&(u=i-1,s=!0,a>u&&(a=u)),c>o-1?(c=o-1,s=!0,l>c&&(l=c)):l>o-1&&(l=o-1,s=!0,c>l&&(c=l)),s&&S.selectCell(a,c,u,l)}},populateFromArray:function(e,t,n,i,o){var s,a,c,u,l=[],h={};if(a=t.length,0===a)return!1;var p,f,d,g;switch(o){case"shift_down":for(p=n?n.col-e.col+1:0,f=n?n.row-e.row+1:0,t=r.helper.translateRowsToColumns(t),c=0,u=t.length,d=Math.max(u,p);d>c;c++)if(u>c){for(s=0,a=t[c].length;f-a>s;s++)t[c].push(t[c][s%a]);t[c].unshift(e.col+c,e.row,0),S.spliceCol.apply(S,t[c])}else t[c%u][0]=e.col+c,S.spliceCol.apply(S,t[c%u]);break;case"shift_right":for(p=n?n.col-e.col+1:0,f=n?n.row-e.row+1:0,s=0,a=t.length,g=Math.max(a,f);g>s;s++)if(a>s){for(c=0,u=t[s].length;p-u>c;c++)t[s].push(t[s][c%u]);t[s].unshift(e.row+s,e.col,0),S.spliceRow.apply(S,t[s])}else t[s%a][0]=e.row+s,S.spliceRow.apply(S,t[s%a]);break;case"overwrite":default:for(h.row=e.row,h.col=e.col,s=0;a>s&&!(n&&h.row>n.row||!m.settings.minSpareRows&&h.row>S.countRows()-1||h.row>=m.settings.maxRows);s++){for(h.col=e.col,u=t[s]?t[s].length:0,c=0;u>c&&!(n&&h.col>n.col||!m.settings.minSpareCols&&h.col>S.countCols()-1||h.col>=m.settings.maxCols);c++)S.getCellMeta(h.row,h.col).readOnly||l.push([h.row,h.col,t[s][c]]),h.col++,n&&c===u-1&&(c=-1);h.row++,n&&s===a-1&&(s=-1)}S.setDataAtCell(l,null,null,i||"populateFromArray")}}},this.selection=v={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(e,t){S.selection.selectedHeader.rows=e,S.selection.selectedHeader.cols=t},begin:function(){S.selection.inProgress=!0},finish:function(){var e=S.getSelected();r.hooks.run(S,"afterSelectionEnd",e[0],e[1],e[2],e[3]),r.hooks.run(S,"afterSelectionEndByProp",e[0],S.colToProp(e[1]),e[2],S.colToProp(e[3])),S.selection.inProgress=!1},isInProgress:function(){return S.selection.inProgress},setRangeStart:function(e){r.hooks.run(S,"beforeSetRangeStart",e),m.selRange=new d(e,e,e),v.setRangeEnd(e)},setRangeEnd:function(e,t){r.hooks.run(S,"beforeSetRangeEnd",e),S.selection.begin(),m.selRange.to=new f(e.row,e.col),m.settings.multiSelect||(m.selRange.from=e),S.view.wt.selections.current.clear(),S.view.wt.selections.current.add(m.selRange.highlight),S.view.wt.selections.area.clear(),v.isMultiple()&&(S.view.wt.selections.area.add(m.selRange.from),S.view.wt.selections.area.add(m.selRange.to)),(m.settings.currentRowClassName||m.settings.currentColClassName)&&(S.view.wt.selections.highlight.clear(),S.view.wt.selections.highlight.add(m.selRange.from),S.view.wt.selections.highlight.add(m.selRange.to)),r.hooks.run(S,"afterSelection",m.selRange.from.row,m.selRange.from.col,m.selRange.to.row,m.selRange.to.col),r.hooks.run(S,"afterSelectionByProp",m.selRange.from.row,g.colToProp(m.selRange.from.col),m.selRange.to.row,g.colToProp(m.selRange.to.col)),
t!==!1&&S.view.mainViewIsActive()&&S.view.scrollViewport(e),v.refreshBorders()},refreshBorders:function(e,t){t||b.destroyEditor(e),S.view.render(),v.isSelected()&&!t&&b.prepareEditor()},isMultiple:function(){var e=!(m.selRange.to.col===m.selRange.from.col&&m.selRange.to.row===m.selRange.from.row),t=r.hooks.execute(S,"afterIsMultipleSelection",e);return e?t:void 0},transformStart:function(e,t,r){var n=new f(e,t);S.runHooks("modifyTransformStart",n),m.selRange.highlight.row+e>S.countRows()-1?r&&m.settings.minSpareRows>0?S.alter("insert_row",S.countRows()):m.settings.autoWrapCol&&(n.row=1-S.countRows(),n.col=m.selRange.highlight.col+n.col==S.countCols()-1?1-S.countCols():1):m.settings.autoWrapCol&&m.selRange.highlight.row+n.row<0&&m.selRange.highlight.col+n.col>=0&&(n.row=S.countRows()-1,n.col=m.selRange.highlight.col+n.col==0?S.countCols()-1:-1),m.selRange.highlight.col+n.col>S.countCols()-1?r&&m.settings.minSpareCols>0?S.alter("insert_col",S.countCols()):m.settings.autoWrapRow&&(n.row=m.selRange.highlight.row+n.row==S.countRows()-1?1-S.countRows():1,n.col=1-S.countCols()):m.settings.autoWrapRow&&m.selRange.highlight.col+n.col<0&&m.selRange.highlight.row+n.row>=0&&(n.row=m.selRange.highlight.row+n.row==0?S.countRows()-1:-1,n.col=S.countCols()-1);var i=S.countRows(),o=S.countCols(),s=new f(m.selRange.highlight.row+n.row,m.selRange.highlight.col+n.col);s.row<0?s.row=0:s.row>0&&s.row>=i&&(s.row=i-1),s.col<0?s.col=0:s.col>0&&s.col>=o&&(s.col=o-1),v.setRangeStart(s)},transformEnd:function(e,t){var r=new f(e,t);S.runHooks("modifyTransformEnd",r);var n=S.countRows(),i=S.countCols(),o=new f(m.selRange.to.row+r.row,m.selRange.to.col+r.col);o.row<0?o.row=0:o.row>0&&o.row>=n&&(o.row=n-1),o.col<0?o.col=0:o.col>0&&o.col>=i&&(o.col=i-1),v.setRangeEnd(o)},isSelected:function(){return null!==m.selRange},inInSelection:function(e){return v.isSelected()?m.selRange.includes(e):!1},deselect:function(){v.isSelected()&&(S.selection.inProgress=!1,m.selRange=null,S.view.wt.selections.current.clear(),S.view.wt.selections.area.clear(),(m.settings.currentRowClassName||m.settings.currentColClassName)&&S.view.wt.selections.highlight.clear(),b.destroyEditor(),v.refreshBorders(),r.hooks.run(S,"afterDeselect"))},selectAll:function(){m.settings.multiSelect&&(v.setRangeStart(new f(0,0)),v.setRangeEnd(new f(S.countRows()-1,S.countCols()-1),!1))},empty:function(){if(v.isSelected()){var e,t,r=m.selRange.getTopLeftCorner(),n=m.selRange.getBottomRightCorner(),i=[];for(e=r.row;e<=n.row;e++)for(t=r.col;t<=n.col;t++)S.getCellMeta(e,t).readOnly||i.push([e,t,""]);S.setDataAtCell(i)}}},this.init=function(){r.hooks.run(S,"beforeInit"),this.updateSettings(m.settings,!0),this.view=new r.TableView(this),b=new r.EditorManager(S,m,v,g),this.forceFullRender=!0,this.view.render(),"object"==typeof m.firstRun&&(r.hooks.run(S,"afterChange",m.firstRun[0],m.firstRun[1]),m.firstRun=!1),r.hooks.run(S,"afterInit")},this.validateCell=function(e,t,n,i){var o=S.getCellValidator(t);"[object RegExp]"===Object.prototype.toString.call(o)&&(o=function(e){return function(t,r){r(e.test(t))}}(o)),"function"==typeof o?(e=r.hooks.execute(S,"beforeValidate",e,t.row,t.prop,i),S._registerTimeout(setTimeout(function(){return o.call(t,e,function(o){t.valid=o,o=r.hooks.execute(S,"afterValidate",o,e,t.row,t.prop,i),n(o)}),e},0))):(t.valid=!0,n(!0))},this.setDataAtCell=function(e,t,r,n){var i,o,u,l=c(e,t,r),h=[];for(i=0,o=l.length;o>i;i++){if("object"!=typeof l[i])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof l[i][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");u=g.colToProp(l[i][1]),h.push([l[i][0],u,g.get(l[i][0],u),l[i][2]])}n||"object"!=typeof e||(n=t),s(h,n,function(){a(h,n)})},this.setDataAtRowProp=function(e,t,r,n){var i,o,u=c(e,t,r),l=[];for(i=0,o=u.length;o>i;i++)l.push([u[i][0],u[i][1],g.get(u[i][0],u[i][1]),u[i][2]]);n||"object"!=typeof e||(n=t),s(l,n,function(){a(l,n)})},this.listen=function(){r.activeGuid=S.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){r.activeGuid=null},this.isListening=function(){return r.activeGuid===S.guid},this.destroyEditor=function(e){v.refreshBorders(e)},this.populateFromArray=function(e,t,r,n,i,o,s){if("object"!=typeof r||"object"!=typeof r[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return y.populateFromArray(new f(e,t),r,"number"==typeof n?new f(n,i):null,o,s)},this.spliceCol=function(e,t,r){return g.spliceCol.apply(g,arguments)},this.spliceRow=function(e,t,r){return g.spliceRow.apply(g,arguments)},this.getSelected=function(){return v.isSelected()?[m.selRange.from.row,m.selRange.from.col,m.selRange.to.row,m.selRange.to.col]:void 0},this.getSelectedRange=function(){return v.isSelected()?m.selRange:void 0},this.render=function(){S.view&&(S.forceFullRender=!0,v.refreshBorders(null,!0))},this.loadData=function(e){function t(){m.cellSettings.length=0}if("object"==typeof e&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof e+" given)");e=[];for(var n,i=0,o=m.settings.startRows;o>i;i++){n=[];for(var s=0,a=m.settings.startCols;a>s;s++)n.push(null);e.push(n)}}m.isPopulated=!1,w.prototype.data=e,m.settings.dataSchema instanceof Array||e[0]instanceof Array?S.dataType="array":"function"==typeof m.settings.dataSchema?S.dataType="function":S.dataType="object",g=new r.DataMap(S,m,w),t(),y.adjustRowsAndCols(),r.hooks.run(S,"afterLoadData"),m.firstRun?m.firstRun=[null,"loadData"]:(r.hooks.run(S,"afterChange",null,"loadData"),S.render()),m.isPopulated=!0},this.getData=function(e,t,r,n){return"undefined"==typeof e?g.getAll():g.getRange(new f(e,t),new f(r,n),g.DESTINATION_RENDERER)},this.getCopyableData=function(e,t,r,n){return g.getCopyableText(new f(e,t),new f(r,n))},this.updateSettings=function(e,t){var n,i;if("undefined"!=typeof e.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof e.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(n in e)"data"!==n&&(void 0!==r.hooks.hooks[n]||void 0!==r.hooks.legacy[n]?("function"==typeof e[n]||r.helper.isArray(e[n]))&&S.addHook(n,e[n]):!t&&e.hasOwnProperty(n)&&(w.prototype[n]=e[n]));if(void 0===e.data&&void 0===m.settings.data?S.loadData(null):void 0!==e.data?S.loadData(e.data):void 0!==e.columns&&g.createMap(),i=S.countCols(),m.cellSettings.length=0,i>0){var o,s;for(n=0;i>n;n++)m.columnSettings[n]=r.helper.columnFactory(w,m.columnsSettingConflicts),o=m.columnSettings[n].prototype,w.prototype.columns&&(s=w.prototype.columns[n],r.helper.extend(o,s),r.helper.extend(o,u(s)))}if("undefined"!=typeof e.cell)for(n in e.cell){var a=e.cell[n];S.setCellMetaObject(a.row,a.col,a)}if(r.hooks.run(S,"afterCellMetaReset"),"undefined"!=typeof e.className&&(w.prototype.className&&S.rootElement.removeClass(w.prototype.className),e.className&&S.rootElement.addClass(e.className)),"undefined"!=typeof e.height){var c=e.height;"function"==typeof c&&(c=c()),S.rootElement[0].style.height=c+"px"}if("undefined"!=typeof e.width){var l=e.width;"function"==typeof l&&(l=l()),S.rootElement[0].style.width=l+"px"}c&&(S.rootElement[0].style.overflow="auto"),t||r.hooks.run(S,"afterUpdateSettings"),y.adjustRowsAndCols(),S.view&&!m.firstRun&&(S.forceFullRender=!0,v.refreshBorders(null,!0))},this.getValue=function(){var e=S.getSelected();if(w.prototype.getValue){if("function"==typeof w.prototype.getValue)return w.prototype.getValue.call(S);if(e)return S.getData()[e[0]][w.prototype.getValue]}else if(e)return S.getDataAtCell(e[0],e[1])},this.getSettings=function(){return m.settings},this.clear=function(){v.selectAll(),v.empty()},this.alter=function(e,t,r,n,i){y.alter(e,t,r,n,i)},this.getCell=function(e,t){return S.view.getCellAtCoords(new f(e,t))},this.colToProp=function(e){return g.colToProp(e)},this.propToCol=function(e){return g.propToCol(e)},this.getDataAtCell=function(e,t){return g.get(e,g.colToProp(t))},this.getDataAtRowProp=function(e,t){return g.get(e,t)},this.getDataAtCol=function(e){var t=[];return t.concat.apply(t,g.getRange(new f(0,e),new f(m.settings.data.length-1,e),g.DESTINATION_RENDERER))},this.getDataAtProp=function(e){var t=[];return t.concat.apply(t,g.getRange(new f(0,g.propToCol(e)),new f(m.settings.data.length-1,g.propToCol(e)),g.DESTINATION_RENDERER))},this.getSourceDataAtCol=function(e){for(var t=[],r=m.settings.data,n=0;n<r.length;n++)t.push(r[n][e]);return t},this.getSourceDataAtRow=function(e){return m.settings.data[e]},this.getDataAtRow=function(e){var t=g.getRange(new f(e,0),new f(e,this.countCols()-1),g.DESTINATION_RENDERER);return t[0]},this.removeCellMeta=function(e,t,r){var n=S.getCellMeta(e,t);void 0!=n[r]&&delete m.cellSettings[e][t][r]},this.setCellMetaObject=function(e,t,r){if("object"==typeof r)for(var n in r){var i=n,o=r[n];this.setCellMeta(e,t,i,o)}},this.setCellMeta=function(e,t,n,i){m.cellSettings[e]||(m.cellSettings[e]=[]),m.cellSettings[e][t]||(m.cellSettings[e][t]=new m.columnSettings[t]),m.cellSettings[e][t][n]=i,r.hooks.run(S,"afterSetCellMeta",e,t,n,i)},this.getCellMeta=function(e,t){var n,i=g.colToProp(t);if(e=l(e),t=h(t),m.columnSettings[t]||(m.columnSettings[t]=r.helper.columnFactory(w,m.columnsSettingConflicts)),m.cellSettings[e]||(m.cellSettings[e]=[]),m.cellSettings[e][t]||(m.cellSettings[e][t]=new m.columnSettings[t]),n=m.cellSettings[e][t],n.row=e,n.col=t,n.prop=i,n.instance=S,r.hooks.run(S,"beforeGetCellMeta",e,t,n),r.helper.extend(n,u(n)),n.cells){var o=n.cells.call(n,e,t,i);o&&(r.helper.extend(n,o),r.helper.extend(n,u(o)))}return r.hooks.run(S,"afterGetCellMeta",e,t,n),n};var E=r.helper.cellMethodLookupFactory("renderer");this.getCellRenderer=function(e,t){var n=E.call(this,e,t);return r.renderers.getRenderer(n)},this.getCellEditor=r.helper.cellMethodLookupFactory("editor"),this.getCellValidator=r.helper.cellMethodLookupFactory("validator"),this.validateCells=function(e){var t=new o;t.onQueueEmpty=e;for(var r=S.countRows()-1;r>=0;){for(var n=S.countCols()-1;n>=0;)t.addValidatorToQueue(),S.validateCell(S.getDataAtCell(r,n),S.getCellMeta(r,n),function(){t.removeValidatorFormQueue()},"validateCells"),n--;r--}t.checkIfQueueIsEmpty()},this.getRowHeader=function(e){if(void 0===e){for(var t=[],r=0,n=S.countRows();n>r;r++)t.push(S.getRowHeader(r));return t}return"[object Array]"===Object.prototype.toString.call(m.settings.rowHeaders)&&void 0!==m.settings.rowHeaders[e]?m.settings.rowHeaders[e]:"function"==typeof m.settings.rowHeaders?m.settings.rowHeaders(e):m.settings.rowHeaders&&"string"!=typeof m.settings.rowHeaders&&"number"!=typeof m.settings.rowHeaders?e+1:m.settings.rowHeaders},this.hasRowHeaders=function(){return!!m.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==m.settings.colHeaders&&null!==m.settings.colHeaders)return!!m.settings.colHeaders;for(var e=0,t=S.countCols();t>e;e++)if(S.getColHeader(e))return!0;return!1},this.getColHeader=function(e){if(void 0===e){for(var t=[],n=0,i=S.countCols();i>n;n++)t.push(S.getColHeader(n));return t}var o=e;return e=r.hooks.execute(S,"modifyCol",e),m.settings.columns&&m.settings.columns[e]&&m.settings.columns[e].title?m.settings.columns[e].title:"[object Array]"===Object.prototype.toString.call(m.settings.colHeaders)&&void 0!==m.settings.colHeaders[e]?m.settings.colHeaders[e]:"function"==typeof m.settings.colHeaders?m.settings.colHeaders(e):m.settings.colHeaders&&"string"!=typeof m.settings.colHeaders&&"number"!=typeof m.settings.colHeaders?r.helper.spreadsheetColumnLabel(o):m.settings.colHeaders},this._getColWidthFromSettings=function(e){var t=S.getCellMeta(0,e),r=t.width;if((void 0===r||r===m.settings.width)&&(r=t.colWidths),void 0!==r&&null!==r){switch(typeof r){case"object":r=r[e];break;case"function":r=r(e)}"string"==typeof r&&(r=parseInt(r,10))}return r},this.getColWidth=function(e){var t=S._getColWidthFromSettings(e);return t||(t=50),t=r.hooks.execute(S,"modifyColWidth",t,e)},this._getRowHeightFromSettings=function(e){var t=m.settings.rowHeights;if(void 0!==t&&null!==t){switch(typeof t){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=S._getRowHeightFromSettings(e),n=S.checkIfRowIsOversized(e);return t=r.hooks.execute(S,"modifyRowHeight",t,e),n&&(t=t?Math.max(t,n):n),t},this.checkIfRowIsOversized=function(e){return S.view.wt.wtTable.oversizedRows?S.view.wt.wtTable.oversizedRows[e]:void 0},this.countRows=function(){return m.settings.data.length},this.countCols=function(){return"object"===S.dataType||"function"===S.dataType?m.settings.columns&&m.settings.columns.length?m.settings.columns.length:g.colToPropCache.length:"array"===S.dataType?m.settings.columns&&m.settings.columns.length?m.settings.columns.length:m.settings.data&&m.settings.data[0]&&m.settings.data[0].length?m.settings.data[0].length:0:void 0},this.rowOffset=function(){return S.view.wt.getSetting("offsetRow")},this.colOffset=function(){return 0},this.countVisibleRows=function(){return S.view.wt.drawn?S.view.wt.wtTable.rowStrategy.countVisible():-1},this.countVisibleCols=function(){return S.view.wt.drawn?S.view.wt.wtTable.columnStrategy.countVisible():-1},this.countEmptyRows=function(e){for(var t,n=S.countRows()-1,i=0;n>=0;){if(t=r.hooks.execute(this,"modifyRow",n),S.isEmptyRow(t))i++;else if(e)break;n--}return i},this.countEmptyCols=function(e){if(S.countRows()<1)return 0;for(var t=S.countCols()-1,r=0;t>=0;){if(S.isEmptyCol(t))r++;else if(e)break;t--}return r},this.isEmptyRow=function(e){return m.settings.isEmptyRow.call(S,e)},this.isEmptyCol=function(e){return m.settings.isEmptyCol.call(S,e)},this.selectCell=function(e,t,r,n,i){if("number"!=typeof e||0>e||e>=S.countRows())return!1;if("number"!=typeof t||0>t||t>=S.countCols())return!1;if("undefined"!=typeof r){if("number"!=typeof r||0>r||r>=S.countRows())return!1;if("number"!=typeof n||0>n||n>=S.countCols())return!1}var o=new f(e,t);return m.selRange=new d(o,o,o),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),S.listen(),"undefined"==typeof r?v.setRangeEnd(m.selRange.from,i):v.setRangeEnd(new f(r,n),i),S.selection.finish(),!0},this.selectCellByProp=function(e,t,r,n,i){return arguments[1]=g.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=g.propToCol(arguments[3])),S.selectCell.apply(S,arguments)},this.deselectCell=function(){v.deselect()},this.destroy=function(){S._clearTimeouts(),S.view&&S.view.wt.destroy(),S.rootElement.empty(),S.rootElement.removeData("handsontable"),S.rootElement.off(".handsontable"),e(t).off("."+S.guid),_.off("."+S.guid),T.off("."+S.guid),r.hooks.run(S,"afterDestroy"),r.hooks.destroy(S);for(var n in S)S.hasOwnProperty(n)&&("function"==typeof S[n]?"runHooks"!==n&&"runHooksAndReturn"!==n&&(S[n]=p):"guid"!==n&&(S[n]=null));m=null,g=null,y=null,v=null,b=null,S=null,w=null,_=null,T=null},this.getActiveEditor=function(){return b.getActiveEditor()},this.getInstance=function(){return S},this.addHook=function(e,t){r.hooks.add(e,t,S)},this.addHookOnce=function(e,t){r.hooks.once(e,t,S)},this.removeHook=function(e,t){r.hooks.remove(e,t,S)},this.runHooks=function(e,t,n,i,o,s,a){r.hooks.run(S,e,t,n,i,o,s,a)},this.runHooksAndReturn=function(e,t,n,i,o,s,a){return r.hooks.execute(S,e,t,n,i,o,s,a)},this.timeouts=[],this._registerTimeout=function(e){this.timeouts.push(e)},this._clearTimeouts=function(){for(var e=0,t=this.timeouts.length;t>e;e++)clearTimeout(this.timeouts[e])},this.version="0.11.4"};var I=function(){};if(I.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",currentRowClassName:void 0,currentColClassName:void 0,stretchH:"none",isEmptyRow:function(e){for(var t,r=0,n=this.countCols();n>r;r++)if(t=this.getDataAtCell(e,r),""!==t&&null!==t&&"undefined"!=typeof t)return!1;return!0},isEmptyCol:function(e){for(var t,r=0,n=this.countRows();n>r;r++)if(t=this.getDataAtCell(r,e),""!==t&&null!==t&&"undefined"!=typeof t)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,type:"text",copyable:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,groups:void 0},r.DefaultSettings=I,e.fn.handsontable=function(e){var t,n,i,o,s,a=this.first(),c=a.data("handsontable");if("string"!=typeof e)return s=e||{},c?c.updateSettings(s):(c=new r.Core(a,s),a.data("handsontable",c),c.init()),a;if(i=[],arguments.length>1)for(t=1,n=arguments.length;n>t;t++)i.push(arguments[t]);if(c){if("undefined"==typeof c[e])throw new Error("Handsontable do not provide action: "+e);o=c[e].apply(c,i)}return o},function(e){function t(){function e(e){return null!==e&&!r(e)&&("string"==typeof e||"number"==typeof e)}function t(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function r(e){return e!==e}var n={arrayMap:[],weakMap:new WeakMap};return{get:function(r){return e(r)?n.arrayMap[r]:t(r)?n.weakMap.get(r):void 0},set:function(r,i){if(e(r))n.arrayMap[r]=i;else{if(!t(r))throw new Error("Invalid key type");n.weakMap.set(r,i)}},"delete":function(r){e(r)?delete n.arrayMap[r]:t(r)&&n.weakMap["delete"](r)}}}e.MultiMap||(e.MultiMap=t)}(t),!t.Handsontable)var r={};r.Dom={},r.Dom.closest=function(e,t,r){for(;null!=e&&e!==r;){if(1===e.nodeType&&t.indexOf(e.nodeName)>-1)return e;e=e.parentNode}return null},r.Dom.isChildOf=function(e,t){for(var r=e.parentNode;null!=r;){if(r==t)return!0;r=r.parentNode}return!1},r.Dom.index=function(e){for(var t=0;e=e.previousSibling;)++t;return t},document.documentElement.classList?(r.Dom.hasClass=function(e,t){return e.classList.contains(t)},r.Dom.addClass=function(e,t){e.classList.add(t)},r.Dom.removeClass=function(e,t){e.classList.remove(t)}):(r.Dom.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},r.Dom.addClass=function(e,t){""==e.className?e.className=t:this.hasClass(e,t)||(e.className+=" "+t)},r.Dom.removeClass=function(e,t){if(this.hasClass(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ").trim()}}),r.Dom.removeTextNodes=function(e,t){if(3===e.nodeType)t.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var r=e.childNodes,n=r.length-1;n>=0;n--)this.removeTextNodes(r[n],e)},r.Dom.empty=function(e){for(var t;t=e.lastChild;)e.removeChild(t)},r.Dom.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,r.Dom.fastInnerHTML=function(e,t){this.HTML_CHARACTERS.test(t)?e.innerHTML=t:this.fastInnerText(e,t)},document.createTextNode("test").textContent?r.Dom.fastInnerText=function(e,t){var r=e.firstChild;r&&3===r.nodeType&&null===r.nextSibling?r.textContent=t:(this.empty(e),e.appendChild(document.createTextNode(t)))}:r.Dom.fastInnerText=function(e,t){var r=e.firstChild;r&&3===r.nodeType&&null===r.nextSibling?r.data=t:(this.empty(e),e.appendChild(document.createTextNode(t)))},r.Dom.isVisible=function(e){for(var t=e;t!==document.documentElement;){if(null===t)return!1;if(11===t.nodeType){if(t.host){if(t.host.impl)return r.Dom.isVisible(t.host.impl);if(t.host)return r.Dom.isVisible(t.host);throw new Error("Lost in Web Components world")}return!1}if("none"===t.style.display)return!1;t=t.parentNode}return!0},r.Dom.offset=function(e){if(this.hasCaptionProblem()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName){var r=e.getBoundingClientRect();return{top:r.top+(t.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),left:r.left+(t.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)}}for(var n=e.offsetLeft,i=e.offsetTop,o=e;(e=e.offsetParent)&&e!==document.body;)n+=e.offsetLeft,i+=e.offsetTop,o=e;return o&&"fixed"===o.style.position&&(n+=t.pageXOffset||document.documentElement.scrollLeft,i+=t.pageYOffset||document.documentElement.scrollTop),{left:n,top:i}},r.Dom.getWindowScrollTop=function(){var e=t.scrollY;return void 0==e&&(e=document.documentElement.scrollTop),e},r.Dom.getWindowScrollLeft=function(){var e=t.scrollX;return void 0==e&&(e=document.documentElement.scrollLeft),e},r.Dom.getScrollTop=function(e){return e===t?r.Dom.getWindowScrollTop(e):e.scrollTop},r.Dom.getScrollLeft=function(e){return e===t?r.Dom.getWindowScrollLeft(e):e.scrollLeft},r.Dom.getComputedStyle=function(e){return e.currentStyle||document.defaultView.getComputedStyle(e)},r.Dom.outerWidth=function(e){return e.offsetWidth},r.Dom.outerHeight=function(e){return this.hasCaptionProblem()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight},r.Dom.innerHeight=function(e){return e.clientHeight},r.Dom.innerWidth=function(e){return e.innerWidth},function(){function e(){var e=document.createElement("TABLE");e.style.borderSpacing=0,e.style.borderWidth=0,e.style.padding=0;var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var r=document.createElement("CAPTION");r.innerHTML="c<br>c<br>c<br>c",r.style.padding=0,r.style.margin=0,e.insertBefore(r,t),document.body.appendChild(e),n=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}function t(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),(document.body||document.documentElement).appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;return r==n&&(n=t.clientWidth),(document.body||document.documentElement).removeChild(t),r-n}var n;r.Dom.hasCaptionProblem=function(){return void 0===n&&e(),n},r.Dom.getCaretPosition=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var r=e.createTextRange(),n=r.duplicate();return r.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",r),n.text.length}return 0},r.Dom.getSelectionEndPosition=function(e){if(e.selectionEnd)return e.selectionEnd;if(document.selection){var t=document.selection.createRange();if(null==t)return 0;var r=e.createTextRange();return r.text.indexOf(t.text)+t.text.length}},r.Dom.setCaretPosition=function(e,t,r){if(void 0===r&&(r=t),e.setSelectionRange)e.focus(),e.setSelectionRange(t,r);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n.select()}};var i;r.Dom.getScrollbarWidth=function(){return void 0===i&&(i=t()),i}}(),r.TableView=function(n){var i=this,o=e(document.documentElement);this.instance=n,this.settings=n.getSettings(),n.rootElement.data("originalStyle",n.rootElement[0].getAttribute("style")),n.rootElement.addClass("handsontable");var s=document.createElement("TABLE");s.className="htCore",this.THEAD=document.createElement("THEAD"),s.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),s.appendChild(this.TBODY),n.$table=e(s),n.container.prepend(n.$table),n.rootElement.on("mousedown.handsontable",function(e){i.isTextSelectionAllowed(e.target)||(c(),e.preventDefault(),t.focus())}),o.on("keyup."+n.guid,function(e){n.selection.isInProgress()&&!e.shiftKey&&n.selection.finish()});var a;this.isMouseDown=function(){return a},o.on("mouseup."+n.guid,function(e){n.selection.isInProgress()&&1===e.which&&n.selection.finish(),a=!1,r.helper.isOutsideInput(document.activeElement)&&n.unlisten()}),o.on("mousedown."+n.guid,function(e){var t=e.target;if(!a){if(t!==i.wt.wtTable.spreader)for(;t!==document.documentElement;){if(null===t)return;if(t===n.rootElement[0])return;t=t.parentNode}i.settings.outsideClickDeselects?n.deselectCell():n.destroyEditor()}}),n.$table.on("selectstart",function(e){i.settings.fragmentSelection||e.preventDefault()});var c=function(){t.getSelection?t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges():document.selection&&document.selection.empty()},u=[new A({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&!n.selection.isMultiple()}}}),new A({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&n.selection.isMultiple()}}}),new A({className:"highlight",highlightRowClassName:i.settings.currentRowClassName,highlightColumnClassName:i.settings.currentColClassName}),new A({className:"fill",border:{width:1,color:"red"}})];u.current=u[0],u.area=u[1],u.highlight=u[2],u.fill=u[3];var l={debug:function(){return i.settings.debug},table:s,stretchH:this.settings.stretchH,data:n.getDataAtCell,totalRows:n.countRows,totalColumns:n.countCols,offsetRow:0,fixedColumnsLeft:function(){return i.settings.fixedColumnsLeft},fixedRowsTop:function(){return i.settings.fixedRowsTop},renderAllRows:i.settings.renderAllRows,rowHeaders:function(){var e=[];return n.hasRowHeaders()&&e.push(function(e,t){i.appendRowHeader(e,t)}),r.hooks.run(n,"afterGetRowHeaderRenderers",e),e},columnHeaders:function(){var e=[];return n.hasColHeaders()&&e.push(function(e,t){i.appendColHeader(e,t)}),r.hooks.run(n,"afterGetColumnHeaderRenderers",e),e},columnWidth:n.getColWidth,rowHeight:n.getRowHeight,cellRenderer:function(e,t,n){var o=i.instance.colToProp(t),s=i.instance.getCellMeta(e,t),a=i.instance.getCellRenderer(s),c=i.instance.getDataAtRowProp(e,o);a(i.instance,n,e,t,o,c,s),r.hooks.run(i.instance,"afterRenderer",n,e,t,o,c,s)},selections:u,hideBorderOnMouseDownOver:function(){return i.settings.fragmentSelection},onCellMouseDown:function(e,t,o,s){n.listen(),i.activeWt=s,a=!0,r.hooks.run(n,"beforeOnCellMouseDown",e,t,o),e.isImmediatePropagationStopped()||(2===e.button&&n.selection.inInSelection(t)||(e.shiftKey?t.row>=0&&t.col>=0&&n.selection.setRangeEnd(t):t.row<0||t.col<0?(t.row<0&&(n.selectCell(0,t.col,n.countRows()-1,t.col),n.selection.setSelectedHeaders(!1,!0)),t.col<0&&(n.selectCell(t.row,0,t.row,n.countCols()-1),n.selection.setSelectedHeaders(!0,!1))):n.selection.setRangeStart(t)),r.hooks.run(n,"afterOnCellMouseDown",e,t,o),i.activeWt=i.wt)},onCellMouseOver:function(e,t,o,s){i.activeWt=s,t.row>=0&&t.col>=0?a&&n.selection.setRangeEnd(t):a&&(t.row<0&&(n.selection.setRangeEnd(new f(n.countRows()-1,t.col)),n.selection.setSelectedHeaders(!1,!0)),t.col<0&&(n.selection.setRangeEnd(new f(t.row,n.countCols()-1)),n.selection.setSelectedHeaders(!0,!1))),r.hooks.run(n,"afterOnCellMouseOver",e,t,o),i.activeWt=i.wt},onCellCornerMouseDown:function(e){e.preventDefault(),r.hooks.run(n,"afterOnCellCornerMouseDown",e)},beforeDraw:function(e){i.beforeRender(e)},onDraw:function(e){i.onDraw(e)},onScrollVertically:function(){n.runHooks("afterScrollVertically")},onScrollHorizontally:function(){n.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,t){n.runHooks("beforeDrawBorders",e,t)}};r.hooks.run(n,"beforeInitWalkontable",l),this.wt=new y(l),this.activeWt=this.wt,e(i.wt.wtTable.spreader).on("mousedown.handsontable, contextmenu.handsontable",function(e){e.target===i.wt.wtTable.spreader&&3===e.which&&e.stopPropagation()}),o.on("click."+n.guid,function(){i.settings.observeDOMVisibility&&i.wt.drawInterrupted&&(i.instance.forceFullRender=!0,i.render())})},r.TableView.prototype.isTextSelectionAllowed=function(e){return r.helper.isInput(e)?!0:this.settings.fragmentSelection&&r.Dom.isChildOf(e,this.TBODY)?!0:!1},r.TableView.prototype.isCellEdited=function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()},r.TableView.prototype.beforeRender=function(e){e&&r.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},r.TableView.prototype.onDraw=function(e){e&&r.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},r.TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.rootElement.triggerHandler("render.handsontable")},r.TableView.prototype.getCellAtCoords=function(e){var t=this.wt.wtTable.getCell(e);return 0>t?null:t},r.TableView.prototype.scrollViewport=function(e){this.wt.scrollViewport(e)},r.TableView.prototype.appendRowHeader=function(e,t){var n=document.createElement("DIV"),i=document.createElement("SPAN");n.className="relative",i.className="rowHeader",e>-1?r.Dom.fastInnerHTML(i,this.instance.getRowHeader(e)):r.Dom.fastInnerText(i,"Â "),n.appendChild(i),r.Dom.empty(t),t.appendChild(n),r.hooks.run(this.instance,"afterGetRowHeader",e,t)},r.TableView.prototype.appendColHeader=function(e,t){var n=document.createElement("DIV"),i=document.createElement("SPAN");n.className="relative",i.className="colHeader",e>-1?r.Dom.fastInnerHTML(i,this.instance.getColHeader(e)):r.Dom.fastInnerText(i,"Â "),n.appendChild(i),r.Dom.empty(t),t.appendChild(n),r.hooks.run(this.instance,"afterGetColHeader",e,t)},r.TableView.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth(),r=t-e;return r>0?r:0},r.TableView.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight(),r=t-e;return r>0?r:0},r.TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},function(e){function t(e){var t,r;r={},t=e,this.getInstance=function(e){return e.guid in r||(r[e.guid]=new t(e)),r[e.guid]}}var r={},n=new WeakMap;e.editors={registerEditor:function(e,i){var o=new t(i);"string"==typeof e&&(r[e]=o),n.set(i,o)},getEditor:function(e,t){var i;if("function"==typeof e)n.get(e)||this.registerEditor(null,e),i=n.get(e);else{if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter ');i=r[e]}if(!i)throw Error('No editor registered under name "'+e+'"');return i.getInstance(t)}}}(r),function(t){t.EditorManager=function(r,n,i){var o,s=this,a=e(document),c=t.helper.keyCode,u=!1,l=function(){function e(e){if(r.isListening()&&(t.hooks.run(r,"beforeKeyDown",e),!u&&!e.isImmediatePropagationStopped()&&(n.lastKeyCode=e.keyCode,i.isSelected()))){var a=(e.ctrlKey||e.metaKey)&&!e.altKey;if(!(o.isWaiting()||t.helper.isMetaKey(e.keyCode)||a||s.isEditorOpened()))return void s.openEditor("");var l=e.shiftKey?i.setRangeEnd:i.setRangeStart;switch(e.keyCode){case c.A:a&&(i.selectAll(),e.preventDefault(),e.stopPropagation());break;case c.ARROW_UP:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),p(e.shiftKey),e.preventDefault(),e.stopPropagation();break;case c.ARROW_DOWN:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),d(e.shiftKey),e.preventDefault(),e.stopPropagation();break;case c.ARROW_RIGHT:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),m(e.shiftKey),e.preventDefault(),e.stopPropagation();break;case c.ARROW_LEFT:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),g(e.shiftKey),e.preventDefault(),e.stopPropagation();break;case c.TAB:var y="function"==typeof n.settings.tabMoves?n.settings.tabMoves(e):n.settings.tabMoves;
e.shiftKey?i.transformStart(-y.row,-y.col):i.transformStart(y.row,y.col,!0),e.preventDefault(),e.stopPropagation();break;case c.BACKSPACE:case c.DELETE:i.empty(e),s.prepareEditor(),e.preventDefault();break;case c.F2:s.openEditor(),e.preventDefault();break;case c.ENTER:s.isEditorOpened()?(o.state!==t.EditorState.WAITING&&s.closeEditorAndSaveChanges(a),h(e.shiftKey)):r.getSettings().enterBeginsEditing?s.openEditor():h(e.shiftKey),e.preventDefault(),e.stopImmediatePropagation();break;case c.ESCAPE:s.isEditorOpened()&&s.closeEditorAndRestoreOriginalValue(a),e.preventDefault();break;case c.HOME:l(e.ctrlKey||e.metaKey?new f(0,n.selRange.from.col):new f(n.selRange.from.row,0)),e.preventDefault(),e.stopPropagation();break;case c.END:l(e.ctrlKey||e.metaKey?new f(r.countRows()-1,n.selRange.from.col):new f(n.selRange.from.row,r.countCols()-1)),e.preventDefault(),e.stopPropagation();break;case c.PAGE_UP:i.transformStart(-r.countVisibleRows(),0),r.view.wt.scrollVertical(-r.countVisibleRows()),r.view.render(),e.preventDefault(),e.stopPropagation();break;case c.PAGE_DOWN:i.transformStart(r.countVisibleRows(),0),r.view.wt.scrollVertical(r.countVisibleRows()),r.view.render(),e.preventDefault(),e.stopPropagation()}}}function l(e,t,r){"TD"==r.nodeName&&s.openEditor()}function h(e){var t="function"==typeof n.settings.enterMoves?n.settings.enterMoves(event):n.settings.enterMoves;e?i.transformStart(-t.row,-t.col):i.transformStart(t.row,t.col,!0)}function p(e){e?i.transformEnd(-1,0):i.transformStart(-1,0)}function d(e){e?i.transformEnd(1,0):i.transformStart(1,0)}function m(e){e?i.transformEnd(0,1):i.transformStart(0,1)}function g(e){e?i.transformEnd(0,-1):i.transformStart(0,-1)}r.addHook("afterDocumentKeyDown",function(t){e(t)}),a.on("keydown."+r.guid,function(e){r.runHooks("afterDocumentKeyDown",e)}),r.view.wt.update("onCellDblClick",l),r.addHook("afterDestroy",function(){u=!0})};this.destroyEditor=function(e){this.closeEditor(e)},this.getActiveEditor=function(){return o},this.prepareEditor=function(){if(o&&o.isWaiting())return void this.closeEditor(!1,!1,function(e){e&&s.prepareEditor()});var e=n.selRange.highlight.row,i=n.selRange.highlight.col,a=r.colToProp(i),c=r.getCell(e,i),u=r.getDataAtCell(e,i),l=r.getCellMeta(e,i),h=r.getCellEditor(l);o=t.editors.getEditor(h,r),o.prepare(e,i,a,c,u,l)},this.isEditorOpened=function(){return o.isOpened()},this.openEditor=function(e){o.cellProperties.readOnly||o.beginEditing(e)},this.closeEditor=function(e,t,r){o?o.finishEditing(e,t,r):r&&r(!1)},this.closeEditorAndSaveChanges=function(e){return this.closeEditor(!1,e)},this.closeEditorAndRestoreOriginalValue=function(e){return this.closeEditor(!0,e)},l()}}(r),function(e){var t={};e.renderers={registerRenderer:function(e,r){t[e]=r},getRenderer:function(e){if("function"==typeof e)return e;if("string"!=typeof e)throw Error('Only strings and functions can be passed as "renderer" parameter ');if(!(e in t))throw Error('No editor registered under name "'+e+'"');return t[e]}}}(r),r.helper.isPrintableChar=function(e){return 32==e||e>=48&&57>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e||e>=226||e>=65&&90>=e},r.helper.isMetaKey=function(e){var t=r.helper.keyCode,n=[t.ARROW_DOWN,t.ARROW_UP,t.ARROW_LEFT,t.ARROW_RIGHT,t.HOME,t.END,t.DELETE,t.BACKSPACE,t.F1,t.F2,t.F3,t.F4,t.F5,t.F6,t.F7,t.F8,t.F9,t.F10,t.F11,t.F12,t.TAB,t.PAGE_DOWN,t.PAGE_UP,t.ENTER,t.ESCAPE,t.SHIFT,t.CAPS_LOCK,t.ALT];return-1!=n.indexOf(e)},r.helper.isCtrlKey=function(e){var t=r.helper.keyCode;return-1!=[t.CONTROL_LEFT,224,t.COMMAND_LEFT,t.COMMAND_RIGHT].indexOf(e)},r.helper.stringify=function(e){switch(typeof e){case"string":case"number":return e+"";case"object":return null===e?"":e.toString();case"undefined":return"";default:return e.toString()}},r.helper.spreadsheetColumnLabel=function(e){for(var t,r=e+1,n="";r>0;)t=(r-1)%26,n=String.fromCharCode(65+t)+n,r=parseInt((r-t)/26,10);return n},r.helper.isNumeric=function(e){var t=typeof e;return"number"==t?!isNaN(e)&&isFinite(e):"string"==t?e.length?1==e.length?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e):!1:"object"==t?!(!e||"number"!=typeof e.valueOf()||e instanceof Date):!1},r.helper.isDescendant=function(e,t){for(var r=t.parentNode;null!=r;){if(r==e)return!0;r=r.parentNode}return!1},r.helper.randomString=function(){return S()},r.helper.inherit=function(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e},r.helper.extend=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},r.helper.getPrototypeOf=function(e){var t;if("object"==typeof e.__proto__)t=e.__proto__;else{var r,n=e.constructor;"function"==typeof e.constructor&&(r=n,delete e.constructor&&(n=e.constructor,e.constructor=r)),t=n?n.prototype:null}return t},r.helper.columnFactory=function(e,t){function n(){}r.helper.inherit(n,e);for(var i=0,o=t.length;o>i;i++)n.prototype[t[i]]=void 0;return n},r.helper.translateRowsToColumns=function(e){var t,r,n,i,o=[],s=0;for(t=0,r=e.length;r>t;t++)for(n=0,i=e[t].length;i>n;n++)n==s&&(o.push([]),s++),o[n].push(e[t][n]);return o},r.helper.to2dArray=function(e){for(var t=0,r=e.length;r>t;)e[t]=[e[t]],t++},r.helper.extendArray=function(e,t){for(var r=0,n=t.length;n>r;)e.push(t[r]),r++},r.helper.isInput=function(e){var t=["INPUT","SELECT","TEXTAREA"];return t.indexOf(e.nodeName)>-1},r.helper.isOutsideInput=function(e){return r.helper.isInput(e)&&-1==e.className.indexOf("handsontableInput")},r.helper.keyCode={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},r.helper.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},r.helper.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"==Object.prototype.toString.call(e)},r.helper.pivot=function(e){var t=[];if(!e||0==e.length||!e[0]||0==e[0].length)return t;for(var r=e.length,n=e[0].length,i=0;r>i;i++)for(var o=0;n>o;o++)t[o]||(t[o]=[]),t[o][i]=e[i][o];return t},r.helper.proxy=function(e,t){return function(){return e.apply(t,arguments)}},r.helper.cellMethodLookupFactory=function(e,t){function n(e){var t=r.cellTypes[e];if("undefined"==typeof t)throw new Error('You declared cell type "'+e+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return t}return t="undefined"==typeof t?!0:t,function(i,o){return function s(i){if(i){if(i.hasOwnProperty(e)&&void 0!==i[e])return i[e];if(i.hasOwnProperty("type")&&i.type){var o;if("string"!=typeof i.type)throw new Error("Cell type must be a string ");if(o=n(i.type),o.hasOwnProperty(e))return o[e];if(t)return}return s(r.helper.getPrototypeOf(i))}}("number"==typeof i?this.getCellMeta(i,o):i)}},r.helper.toString=function(e){return""+e},function(t){t.DataMap=function(e,t,r){this.instance=e,this.priv=t,this.GridSettings=r,this.dataSource=this.instance.getSettings().data,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap()},t.DataMap.prototype.DESTINATION_RENDERER=1,t.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,t.DataMap.prototype.recursiveDuckSchema=function(t){var r;if(e.isPlainObject(t)){r={};for(var n in t)t.hasOwnProperty(n)&&(e.isPlainObject(t[n])?r[n]=this.recursiveDuckSchema(t[n]):r[n]=null)}else r=[];return r},t.DataMap.prototype.recursiveDuckColumns=function(t,r,n){var i,o;if("undefined"==typeof r&&(r=0,n=""),e.isPlainObject(t))for(o in t)t.hasOwnProperty(o)&&(null===t[o]?(i=n+o,this.colToPropCache.push(i),this.propToColCache.set(i,r),r++):r=this.recursiveDuckColumns(t[o],r,o+"."));return r},t.DataMap.prototype.createMap=function(){if("undefined"==typeof this.getSchema())throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");var e,t,r=this.getSchema();this.colToPropCache=[],this.propToColCache=new MultiMap;var n=this.instance.getSettings().columns;if(n)for(e=0,t=n.length;t>e;e++)"undefined"!=typeof n[e].data&&(this.colToPropCache[e]=n[e].data,this.propToColCache.set(n[e].data,e));else this.recursiveDuckColumns(r)},t.DataMap.prototype.colToProp=function(e){return e=t.hooks.execute(this.instance,"modifyCol",e),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[e]?this.colToPropCache[e]:e},t.DataMap.prototype.propToCol=function(e){var r;return r="undefined"!=typeof this.propToColCache.get(e)?this.propToColCache.get(e):e,r=t.hooks.execute(this.instance,"modifyCol",r)},t.DataMap.prototype.getSchema=function(){var e=this.instance.getSettings().dataSchema;return e?"function"==typeof e?e():e:this.duckSchema},t.DataMap.prototype.createRow=function(r,n,i){var o,s,a=this.instance.countCols(),c=0;n||(n=1),("number"!=typeof r||r>=this.instance.countRows())&&(r=this.instance.countRows()),s=r;for(var u=this.instance.getSettings().maxRows;n>c&&this.instance.countRows()<u;){if("array"===this.instance.dataType){o=[];for(var l=0;a>l;l++)o.push(null)}else o="function"===this.instance.dataType?this.instance.getSettings().dataSchema(r):e.extend(!0,{},this.getSchema());r===this.instance.countRows()?this.dataSource.push(o):this.dataSource.splice(r,0,o),c++,s++}return t.hooks.run(this.instance,"afterCreateRow",r,c,i),this.instance.forceFullRender=!0,c},t.DataMap.prototype.createCol=function(e,r,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var i,o,s=this.instance.countRows(),a=this.dataSource,c=0;r||(r=1),o=e;for(var u=this.instance.getSettings().maxCols;r>c&&this.instance.countCols()<u;){if(i=t.helper.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){for(var l=0;s>l;l++)"undefined"==typeof a[l]&&(a[l]=[]),a[l].push(null);this.priv.columnSettings.push(i)}else{for(var l=0;s>l;l++)a[l].splice(o,0,null);this.priv.columnSettings.splice(o,0,i)}c++,o++}return t.hooks.run(this.instance,"afterCreateCol",e,c,n),this.instance.forceFullRender=!0,c},t.DataMap.prototype.removeRow=function(e,r){r||(r=1),"number"!=typeof e&&(e=-r),e=(this.instance.countRows()+e)%this.instance.countRows();var n=this.physicalRowsToLogical(e,r),i=t.hooks.execute(this.instance,"beforeRemoveRow",e,r);if(i!==!1){var o=this.dataSource,s=o.filter(function(e,t){return-1==n.indexOf(t)});o.length=0,Array.prototype.push.apply(o,s),t.hooks.run(this.instance,"afterRemoveRow",e,r),this.instance.forceFullRender=!0}},t.DataMap.prototype.removeCol=function(e,r){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");r||(r=1),"number"!=typeof e&&(e=-r),e=(this.instance.countCols()+e)%this.instance.countCols();var n=t.hooks.execute(this.instance,"beforeRemoveCol",e,r);if(n!==!1){for(var i=this.dataSource,o=0,s=this.instance.countRows();s>o;o++)i[o].splice(e,r);this.priv.columnSettings.splice(e,r),t.hooks.run(this.instance,"afterRemoveCol",e,r),this.instance.forceFullRender=!0}},t.DataMap.prototype.spliceCol=function(e,r,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getDataAtCol(e),s=o.slice(r,r+n),a=o.slice(r+n);t.helper.extendArray(i,a);for(var c=0;n>c;)i.push(null),c++;return t.helper.to2dArray(i),this.instance.populateFromArray(r,e,i,null,null,"spliceCol"),s},t.DataMap.prototype.spliceRow=function(e,r,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getSourceDataAtRow(e),s=o.slice(r,r+n),a=o.slice(r+n);t.helper.extendArray(i,a);for(var c=0;n>c;)i.push(null),c++;return this.instance.populateFromArray(e,r,[i],null,null,"spliceRow"),s},t.DataMap.prototype.get=function(e,r){if(e=t.hooks.execute(this.instance,"modifyRow",e),"string"==typeof r&&r.indexOf(".")>-1){var n=r.split("."),i=this.dataSource[e];if(!i)return null;for(var o=0,s=n.length;s>o;o++)if(i=i[n[o]],"undefined"==typeof i)return null;return i}return"function"==typeof r?r(this.dataSource.slice(e,e+1)[0]):this.dataSource[e]?this.dataSource[e][r]:null};var r=t.helper.cellMethodLookupFactory("copyable",!1);t.DataMap.prototype.getCopyable=function(e,t){return r.call(this.instance,e,this.propToCol(t))?this.get(e,t):""},t.DataMap.prototype.set=function(e,r,n,i){if(e=t.hooks.execute(this.instance,"modifyRow",e,i||"datamapGet"),"string"==typeof r&&r.indexOf(".")>-1){for(var o=r.split("."),s=this.dataSource[e],a=0,c=o.length-1;c>a;a++)"undefined"==typeof s[o[a]]&&(s[o[a]]={}),s=s[o[a]];s[o[a]]=n}else"function"==typeof r?r(this.dataSource.slice(e,e+1)[0],n):this.dataSource[e][r]=n},t.DataMap.prototype.physicalRowsToLogical=function(e,r){for(var n,i=this.instance.countRows(),o=(i+e)%i,s=[],a=r;i>o&&a;)n=t.hooks.execute(this.instance,"modifyRow",o),s.push(n),a--,o++;return s},t.DataMap.prototype.clear=function(){for(var e=0;e<this.instance.countRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")},t.DataMap.prototype.getAll=function(){return this.dataSource},t.DataMap.prototype.getRange=function(e,t,r){var n,i,o,s,a,c=[],u=r===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(i=Math.max(e.row,t.row),s=Math.max(e.col,t.col),n=Math.min(e.row,t.row);i>=n;n++){for(a=[],o=Math.min(e.col,t.col);s>=o;o++)a.push(u.call(this,n,this.colToProp(o)));c.push(a)}return c},t.DataMap.prototype.getText=function(e,t){return SheetClip.stringify(this.getRange(e,t,this.DESTINATION_RENDERER))},t.DataMap.prototype.getCopyableText=function(e,t){return SheetClip.stringify(this.getRange(e,t,this.DESTINATION_CLIPBOARD_GENERATOR))}}(r),function(e){e.renderers.cellDecorator=function(t,r,n,i,o,s,a){a.className&&(r.className?r.className=r.className+" "+a.className:r.className=a.className),a.readOnly&&e.Dom.addClass(r,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName&&e.Dom.addClass(r,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&e.Dom.addClass(r,a.noWordWrapClassName),!s&&a.placeholder&&e.Dom.addClass(r,a.placeholderCellClassName)}}(r),function(e){var t=function(t,r,n,i,o,s,a){e.renderers.cellDecorator.apply(this,arguments),!s&&a.placeholder&&(s=a.placeholder);var c=e.helper.stringify(s);if(a.rendererTemplate){e.Dom.empty(r);var u=document.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=t.getSourceDataAtRow(n),r.appendChild(u)}else e.Dom.fastInnerText(r,c)};e.renderers.TextRenderer=t,e.renderers.registerRenderer("text",t)}(r),function(e){var t=document.createElement("DIV");t.className="htAutocompleteWrapper";var r=document.createElement("DIV");r.className="htAutocompleteArrow",r.appendChild(document.createTextNode("â¼"));var n=function(n,i,o,s,a,c,u){var l=(t.cloneNode(!0),r.cloneNode(!0));e.renderers.TextRenderer(n,i,o,s,a,c,u),i.appendChild(l),e.Dom.addClass(i,"htAutocomplete"),i.firstChild||i.appendChild(document.createTextNode("Â ")),n.acArrowListener||(n.acArrowListener=function(){n.view.wt.getSetting("onCellDblClick",null,new f(o,s),i)},n.rootElement.on("mousedown.htAutocompleteArrow",".htAutocompleteArrow",n.acArrowListener),n.addHookOnce("afterDestroy",function(){this.rootElement.off("mousedown.htAutocompleteArrow")}))};e.AutocompleteRenderer=n,e.renderers.AutocompleteRenderer=n,e.renderers.registerRenderer("autocomplete",n)}(r),function(t){var r=document.createElement("INPUT");r.className="htCheckboxRendererInput",r.type="checkbox",r.setAttribute("autocomplete","off");var n=function(n,i,o,s,a,c,u){"undefined"==typeof u.checkedTemplate&&(u.checkedTemplate=!0),"undefined"==typeof u.uncheckedTemplate&&(u.uncheckedTemplate=!1),t.Dom.empty(i);var l=r.cloneNode(!1);c===u.checkedTemplate||c===t.helper.stringify(u.checkedTemplate)?(l.checked=!0,i.appendChild(l)):c===u.uncheckedTemplate||c===t.helper.stringify(u.uncheckedTemplate)?i.appendChild(l):null===c?(l.className+=" noValue",i.appendChild(l)):t.Dom.fastInnerText(i,"#bad value#");var h=e(l);u.readOnly?h.on("click",function(e){e.preventDefault()}):(h.on("mousedown",function(e){e.stopPropagation()}),h.on("mouseup",function(e){e.stopPropagation()}),h.on("change",function(){this.checked?n.setDataAtRowProp(o,a,u.checkedTemplate):n.setDataAtRowProp(o,a,u.uncheckedTemplate)})),n.CheckboxRenderer&&n.CheckboxRenderer.beforeKeyDownHookBound||(n.CheckboxRenderer={beforeKeyDownHookBound:!0},n.addHook("beforeKeyDown",function(r){if(r.keyCode==t.helper.keyCode.SPACE)for(var i,o,s,a=n.getSelectedRange(),c=a.getTopLeftCorner(),u=a.getBottomRightCorner(),l=c.row;l<=u.row;l++)for(var h=c.col;h<=u.col;h++)if(i=n.getCell(l,h),s=n.getCellMeta(l,h),o=i.querySelectorAll("input[type=checkbox]"),o.length>0&&!s.readOnly){r.isImmediatePropagationStopped()||(r.stopImmediatePropagation(),r.preventDefault());for(var p=0,f=o.length;f>p;p++)o[p].checked=!o[p].checked,e(o[p]).trigger("change")}}))};t.CheckboxRenderer=n,t.renderers.CheckboxRenderer=n,t.renderers.registerRenderer("checkbox",n)}(r),function(e){var t=function(t,r,n,i,o,s,a){e.helper.isNumeric(s)&&("undefined"!=typeof a.language&&numeral.language(a.language),s=numeral(s).format(a.format||"0"),e.Dom.addClass(r,"htNumeric")),e.renderers.TextRenderer(t,r,n,i,o,s,a)};e.NumericRenderer=t,e.renderers.NumericRenderer=t,e.renderers.registerRenderer("numeric",t)}(r),function(e){var t=function(e,t,n,i,o,s,a){r.renderers.TextRenderer.apply(this,arguments),s=t.innerHTML;var c,u=a.hashLength||s.length,l=a.hashSymbol||"*";for(c="";c.split(l).length-1<u;c+=l);r.Dom.fastInnerHTML(t,c)};e.PasswordRenderer=t,e.renderers.PasswordRenderer=t,e.renderers.registerRenderer("password",t)}(r),function(e){function t(t,r,n,i,o,s,a){e.renderers.cellDecorator.apply(this,arguments),e.Dom.fastInnerHTML(r,s)}e.renderers.registerRenderer("html",t),e.renderers.HtmlRenderer=t}(r),function(e){function t(t){this.instance=t,this.state=e.EditorState.VIRGIN,this._opened=!1,this._closeCallback=null,this.init()}e.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},t.prototype._fireCallbacks=function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)},t.prototype.init=function(){},t.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},t.prototype.setValue=function(e){throw Error("Editor setValue() method unimplemented")},t.prototype.open=function(){throw Error("Editor open() method unimplemented")},t.prototype.close=function(){throw Error("Editor close() method unimplemented")},t.prototype.prepare=function(t,r,n,i,o,s){this.TD=i,this.row=t,this.col=r,this.prop=n,this.originalValue=o,this.cellProperties=s,this.state=e.EditorState.VIRGIN},t.prototype.extend=function(){function e(){r.apply(this,arguments)}function t(e,t){function r(){}return r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e}var r=this.constructor;return t(e,r)},t.prototype.saveValue=function(e,t){if(t){var r,n=this.instance.getSelected();n[0]>n[2]&&(r=n[0],n[0]=n[2],n[2]=r),n[1]>n[3]&&(r=n[1],n[1]=n[3],n[3]=r),this.instance.populateFromArray(n[0],n[1],e,n[2],n[3],"edit")}else this.instance.populateFromArray(this.row,this.col,e,null,null,"edit")},t.prototype.beginEditing=function(t){this.state==e.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new f(this.row,this.col)),this.instance.view.render(),this.state=e.EditorState.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue(e.helper.stringify(t)),this.open(),this._opened=!0,this.focus(),this.instance.view.render())},t.prototype.finishEditing=function(t,r,n){if(n){var i=this._closeCallback;this._closeCallback=function(e){i&&i(e),n(e)}}if(!this.isWaiting()){if(this.state==e.EditorState.VIRGIN){var o=this;return void this.instance._registerTimeout(setTimeout(function(){o._fireCallbacks(!0)},0))}if(this.state==e.EditorState.EDITING){if(t)return void this.cancelChanges();var s=[[String.prototype.trim.call(this.getValue())]];if(this.state=e.EditorState.WAITING,this.saveValue(s,r),this.instance.getCellValidator(this.cellProperties)){var o=this;this.instance.addHookOnce("afterValidate",function(t){o.state=e.EditorState.FINISHED,o.discardEditor(t)})}else this.state=e.EditorState.FINISHED,this.discardEditor(!0)}}},t.prototype.cancelChanges=function(){this.state=e.EditorState.FINISHED,this.discardEditor()},t.prototype.discardEditor=function(t){this.state===e.EditorState.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=e.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this.state=e.EditorState.VIRGIN,this._fireCallbacks(!0)))},t.prototype.isOpened=function(){return this._opened},t.prototype.isWaiting=function(){return this.state===e.EditorState.WAITING},e.editors.BaseEditor=t}(r),function(t){var r=t.editors.BaseEditor.prototype.extend();r.prototype.init=function(){this.createElements(),this.bindEvents(),this.autoResize=N()},r.prototype.getValue=function(){return this.TEXTAREA.value},r.prototype.setValue=function(e){this.TEXTAREA.value=e};var n=function(e){var r=this,n=r.getActiveEditor(),i=t.helper.keyCode,o=(e.ctrlKey||e.metaKey)&&!e.altKey;if(e.target===n.TEXTAREA&&!e.isImmediatePropagationStopped()){if(17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)return void e.stopImmediatePropagation();switch(e.keyCode){case i.ARROW_RIGHT:t.Dom.getCaretPosition(n.TEXTAREA)!==n.TEXTAREA.value.length&&e.stopImmediatePropagation();break;case i.ARROW_LEFT:0!==t.Dom.getCaretPosition(n.TEXTAREA)&&e.stopImmediatePropagation();break;case i.ENTER:var s=n.instance.getSelected(),a=!(s[0]===s[2]&&s[1]===s[3]);(o&&!a||e.altKey)&&(n.isOpened()?(n.setValue(n.getValue()+"\n"),n.focus()):n.beginEditing(n.originalValue+"\n"),e.stopImmediatePropagation()),e.preventDefault();break;case i.A:case i.X:case i.C:case i.V:o&&e.stopImmediatePropagation();break;case i.BACKSPACE:case i.DELETE:case i.HOME:case i.END:e.stopImmediatePropagation()}}};r.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",n)},r.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",n)},r.prototype.focus=function(){this.TEXTAREA.focus(),t.Dom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},r.prototype.createElements=function(){this.$body=e(document.body),this.TEXTAREA=document.createElement("TEXTAREA"),this.$textarea=e(this.TEXTAREA),t.Dom.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),t.Dom.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);var r=this;this.instance._registerTimeout(setTimeout(function(){r.refreshDimensions()},0))},r.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},r.prototype.getEditedCell=function(){var e,t=this.checkEditorSection();switch(t){case"top":e=this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":e=this.instance.view.wt.wtScrollbars.corner.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":e=this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=e&&-2!=e?e:void 0},r.prototype.refreshDimensions=function(){if(this.state===t.EditorState.EDITING&&(this.TD=this.getEditedCell(),this.TD)){var r=e(this.TD),n=t.Dom.offset(this.TD),i=t.Dom.offset(this.instance.rootElement[0]),o=n.top-i.top-1,s=n.left-i.left-1,a=this.instance.getSettings(),c=a.rowHeaders===!1?0:1,u=a.colHeaders===!1?0:1;this.checkEditorSection();0>o&&(o=0),0>s&&(s=0),c>0&&parseInt(r.css("border-top-width"),10)>0&&(o+=1),u>0&&parseInt(r.css("border-left-width"),10)>0&&(s+=1),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=s+"px";var l=this.TD.offsetTop-this.instance.view.wt.wtScrollbars.vertical.getScrollPosition(),h=this.TD.offsetLeft-this.instance.view.wt.wtScrollbars.horizontal.getScrollPosition(),p=r.width(),f=this.instance.view.maximumVisibleElementWidth(h)-10,d=r.outerHeight()-4,m=this.instance.view.maximumVisibleElementHeight(l)-2;parseInt(r.css("border-top-width"),10)>0&&(d-=1),parseInt(r.css("border-left-width"),10)>0&&c>0&&(p-=1),this.TEXTAREA.style.fontSize=t.Dom.getComputedStyle(this.TD).fontSize,this.TEXTAREA.style.fontFamily=t.Dom.getComputedStyle(this.TD).fontFamily,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(d,m),maxHeight:m,minWidth:Math.min(p,f),maxWidth:f}),this.textareaParentStyle.display="block"}},r.prototype.bindEvents=function(){var e=this;this.$textarea.on("cut.editor",function(e){e.stopPropagation()}),this.$textarea.on("paste.editor",function(e){e.stopPropagation()}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()})},t.editors.TextEditor=r,t.editors.registerEditor("text",t.editors.TextEditor)}(r),function(t){var r=t.editors.BaseEditor.prototype.extend();r.prototype.beginEditing=function(){var t=this.TD.querySelector('input[type="checkbox"]');t&&e(t).trigger("click")},r.prototype.finishEditing=function(){},r.prototype.init=function(){},r.prototype.open=function(){},r.prototype.close=function(){},r.prototype.getValue=function(){},r.prototype.setValue=function(){},r.prototype.focus=function(){},t.editors.CheckboxEditor=r,t.editors.registerEditor("checkbox",r)}(r),function(t){var r=t.editors.TextEditor.prototype.extend();r.prototype.init=function(){if(!e.datepicker)throw new Error("jQuery UI Datepicker dependency not found. Did you forget to include jquery-ui.custom.js or its substitute?");t.editors.TextEditor.prototype.init.apply(this,arguments),this.isCellEdited=!1;var r=this;this.instance.addHook("afterDestroy",function(){r.destroyElements()})},r.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments),this.datePicker=document.createElement("DIV"),t.Dom.addClass(this.datePicker,"htDatepickerHolder"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=99,document.body.appendChild(this.datePicker),this.$datePicker=e(this.datePicker);var r=this,n={dateFormat:"yy-mm-dd",showButtonPanel:!0,changeMonth:!0,changeYear:!0,onSelect:function(e){r.setValue(e),r.finishEditing(!1)}};this.$datePicker.datepicker(n),this.$datePicker.on("mousedown",function(e){e.stopPropagation()}),this.hideDatepicker()},r.prototype.destroyElements=function(){this.$datePicker.datepicker("destroy"),this.$datePicker.remove()},r.prototype.open=function(){t.editors.TextEditor.prototype.open.call(this),this.showDatepicker()},r.prototype.finishEditing=function(e,r){this.hideDatepicker(),t.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},r.prototype.showDatepicker=function(){var t=e(this.TD),r=t.offset();this.datePickerStyle.top=r.top+t.height()+"px",this.datePickerStyle.left=r.left+"px";var n={defaultDate:this.originalValue||void 0};e.extend(n,this.cellProperties),this.$datePicker.datepicker("option",n),this.originalValue&&this.$datePicker.datepicker("setDate",this.originalValue),this.datePickerStyle.display="block"},r.prototype.hideDatepicker=function(){this.datePickerStyle.display="none"},t.editors.DateEditor=r,t.editors.registerEditor("date",r)}(r),function(t){var r=t.editors.TextEditor.prototype.extend();r.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments);var r=document.createElement("DIV");r.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(r),this.$htContainer=e(r),this.$htContainer.handsontable()},r.prototype.prepare=function(r,n,i,o,s,a){t.editors.TextEditor.prototype.prepare.apply(this,arguments);var c=this,u={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var e=this.getValue();void 0!==e&&c.setValue(e),c.instance.destroyEditor()}};this.cellProperties.handsontable&&(u=e.extend(u,a.handsontable)),this.$htContainer.handsontable("destroy"),this.$htContainer.handsontable(u)};var n=function(e){if(!e.isImmediatePropagationStopped()){var r,n=this.getActiveEditor(),i=n.$htContainer.handsontable("getInstance");if(e.keyCode==t.helper.keyCode.ARROW_DOWN)if(i.getSelected()){var o=i.getSelected()[0],s=i.countRows()-1;r=Math.min(s,o+1)}else r=0;else if(e.keyCode==t.helper.keyCode.ARROW_UP&&i.getSelected()){var o=i.getSelected()[0];r=o-1}void 0!==r&&(0>r?i.deselectCell():i.selectCell(r,0),e.preventDefault(),e.stopImmediatePropagation(),n.instance.listen(),n.TEXTAREA.focus())}};r.prototype.open=function(){this.instance.addHook("beforeKeyDown",n),t.editors.TextEditor.prototype.open.apply(this,arguments),this.$htContainer.handsontable("render"),this.cellProperties.strict?(this.$htContainer.handsontable("selectCell",0,0),this.TEXTAREA.style.visibility="hidden"):(this.$htContainer.handsontable("deselectCell"),this.TEXTAREA.style.visibility="visible"),t.Dom.setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},r.prototype.close=function(){this.instance.removeHook("beforeKeyDown",n),this.instance.listen(),t.editors.TextEditor.prototype.close.apply(this,arguments)},r.prototype.focus=function(){this.instance.listen(),t.editors.TextEditor.prototype.focus.apply(this,arguments)},r.prototype.beginEditing=function(e){var r=this.instance.getSettings().onBeginEditing;r&&r()===!1||t.editors.TextEditor.prototype.beginEditing.apply(this,arguments)},r.prototype.finishEditing=function(e,r){if(this.$htContainer.handsontable("isListening")&&this.instance.listen(),this.$htContainer.handsontable("getSelected")){var n=this.$htContainer.handsontable("getInstance").getValue();void 0!==n&&this.setValue(n)}return t.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},t.editors.HandsontableEditor=r,t.editors.registerEditor("handsontable",r)}(r),function(e){var r=e.editors.HandsontableEditor.prototype.extend();r.prototype.init=function(){e.editors.HandsontableEditor.prototype.init.apply(this,arguments);var t=this.$htContainer.handsontable("getInstance");t.updateSettings({height:1}),this.query=null,this.choices=[]},r.prototype.createElements=function(){e.editors.HandsontableEditor.prototype.createElements.apply(this,arguments);var r=function(){return-1!=t.navigator.platform.indexOf("Mac")?"htMacScroll":""};this.$htContainer.addClass("autocompleteEditor"),this.$htContainer.addClass(r())};var n=!1,i=function(t){n=!1;var r=this.getActiveEditor(),i=e.helper.keyCode;(e.helper.isPrintableChar(t.keyCode)||t.keyCode===i.BACKSPACE||t.keyCode===i.DELETE||t.keyCode===i.INSERT)&&r.instance._registerTimeout(setTimeout(function(){r.queryChoices(r.TEXTAREA.value),n=!0},0))};r.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",i),
e.editors.HandsontableEditor.prototype.prepare.apply(this,arguments)},r.prototype.open=function(){e.editors.HandsontableEditor.prototype.open.apply(this,arguments),this.TEXTAREA.style.visibility="visible",this.focus();var t=this.$htContainer.handsontable("getInstance"),r=this;t.updateSettings({colWidths:[e.Dom.outerWidth(this.TEXTAREA)-2],afterRenderer:function(e,t,n,i,o){var s=this.getCellMeta(t,n).filteringCaseSensitive===!0,a=s?o.indexOf(this.query):o.toLowerCase().indexOf(r.query.toLowerCase());if(-1!=a){var c=o.substr(a,r.query.length);e.innerHTML=o.replace(c,"<strong>"+c+"</strong>")}}}),n&&(n=!1),r.instance._registerTimeout(setTimeout(function(){r.queryChoices(r.TEXTAREA.value)},0))},r.prototype.close=function(){e.editors.HandsontableEditor.prototype.close.apply(this,arguments)},r.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var r=this;this.cellProperties.source(t,function(e){r.updateChoicesList(e)})}else if(e.helper.isArray(this.cellProperties.source)){var n;if(t&&this.cellProperties.filter!==!1){var i=this.cellProperties.filteringCaseSensitive===!0,o=t.toLowerCase();n=this.cellProperties.source.filter(function(e){return i?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(o)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},r.prototype.updateChoicesList=function(t){var n,i=e.Dom.getCaretPosition(this.TEXTAREA),o=e.Dom.getSelectionEndPosition(this.TEXTAREA),s=r.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var a=[],c=0,u=s.length;u>c;c++)a.push(t[s[c]]);n=0,t=a}else n=s[0];this.choices=t,this.$htContainer.handsontable("loadData",e.helper.pivot([t])),this.$htContainer.handsontable("updateSettings",{height:this.getDropdownHeight()}),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(n),this.instance.listen(),this.TEXTAREA.focus(),e.Dom.setCaretPosition(this.TEXTAREA,i,i!=o?o:void 0)},r.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",i),e.editors.HandsontableEditor.prototype.finishEditing.apply(this,arguments)},r.prototype.highlightBestMatchingChoice=function(e){"number"==typeof e?this.$htContainer.handsontable("selectCell",e,0):this.$htContainer.handsontable("deselectCell")},r.sortByRelevance=function(e,t,r){var n,i,o,s,a,c=[],u=e.length,l=[];if(0===u){for(s=0,a=t.length;a>s;s++)l.push(s);return l}for(s=0,a=t.length;a>s;s++)n=t[s],i=r?n.indexOf(e):n.toLowerCase().indexOf(e.toLowerCase()),-1!=i&&(o=n.length-i-u,c.push({baseIndex:s,index:i,charsLeft:o,value:n}));for(c.sort(function(e,t){return-1===t.index?-1:-1===e.index?1:e.index<t.index?-1:t.index<e.index?1:e.index===t.index?e.charsLeft<t.charsLeft?-1:e.charsLeft>t.charsLeft?1:0:void 0}),s=0,a=c.length;a>s;s++)l.push(c[s].baseIndex);return l},r.prototype.getDropdownHeight=function(){var e=this.$htContainer.handsontable("getInstance").getRowHeight(0)||23;return this.choices.length>=10?10*e:this.choices.length*e+8},e.editors.AutocompleteEditor=r,e.editors.registerEditor("autocomplete",r)}(r),function(t){var r=t.editors.TextEditor.prototype.extend();r.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.$textarea=e(this.TEXTAREA),t.Dom.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)},t.editors.PasswordEditor=r,t.editors.registerEditor("password",r)}(r),function(e){var t=e.editors.BaseEditor.prototype.extend();t.prototype.init=function(){this.select=document.createElement("SELECT"),e.Dom.addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement[0].appendChild(this.select)},t.prototype.prepare=function(){e.editors.BaseEditor.prototype.prepare.apply(this,arguments);var t,r=this.cellProperties.selectOptions;t="function"==typeof r?this.prepareOptions(r(this.row,this.col,this.prop)):this.prepareOptions(r),e.Dom.empty(this.select);for(var n in t)if(t.hasOwnProperty(n)){var i=document.createElement("OPTION");i.value=n,e.Dom.fastInnerHTML(i,t[n]),this.select.appendChild(i)}},t.prototype.prepareOptions=function(t){var r={};if(e.helper.isArray(t))for(var n=0,i=t.length;i>n;n++)r[t[n]]=t[n];else"object"==typeof t&&(r=t);return r},t.prototype.getValue=function(){return this.select.value},t.prototype.setValue=function(e){this.select.value=e};var r=function(t){var r=this,n=r.getActiveEditor();switch(t.keyCode){case e.helper.keyCode.ARROW_UP:var i=n.select.find("option:selected").prev();1==i.length&&i.prop("selected",!0),t.stopImmediatePropagation(),t.preventDefault();break;case e.helper.keyCode.ARROW_DOWN:var o=n.select.find("option:selected").next();1==o.length&&o.prop("selected",!0),t.stopImmediatePropagation(),t.preventDefault()}};t.prototype.open=function(){var t=e.Dom.outerWidth(this.TD),n=e.Dom.outerHeight(this.TD),i=e.Dom.offset(this.instance.rootElement[0]),o=e.Dom.offset(this.TD);this.select.style.height=n+"px",this.select.style.minWidth=t+"px",this.select.style.top=o.top-i.top+"px",this.select.style.left=o.left-i.left+"px",this.select.style.margin="0px",this.select.style.display="",this.instance.addHook("beforeKeyDown",r)},t.prototype.close=function(){this.select.style.display="none",this.instance.removeHook("beforeKeyDown",r)},t.prototype.focus=function(){this.select.focus()},e.editors.SelectEditor=t,e.editors.registerEditor("select",t)}(r),function(e){var t=e.editors.AutocompleteEditor.prototype.extend();t.prototype.prepare=function(){e.editors.AutocompleteEditor.prototype.prepare.apply(this,arguments),this.cellProperties.filter=!1,this.cellProperties.strict=!0},e.editors.DropdownEditor=t,e.editors.registerEditor("dropdown",t)}(r),r.NumericValidator=function(e,t){null===e&&(e=""),t(/^-?\d*(\.|\,)?\d*$/.test(e))};var L=function(e,t){var r=e,n="string"==typeof r?r.toLowerCase():null;return function(e){for(var i=!1,o=0,s=e.length;s>o;o++){if(r===e[o]){i=!0;break}if(n===e[o].toLowerCase()){i=!0;break}}t(i)}};r.AutocompleteValidator=function(e,t){this.strict&&this.source?"function"==typeof this.source?this.source(e,L(e,t)):L(e,t)(this.source):t(!0)},r.AutocompleteCell={editor:r.editors.AutocompleteEditor,renderer:r.renderers.AutocompleteRenderer,validator:r.AutocompleteValidator},r.CheckboxCell={editor:r.editors.CheckboxEditor,renderer:r.renderers.CheckboxRenderer},r.TextCell={editor:r.editors.TextEditor,renderer:r.renderers.TextRenderer},r.NumericCell={editor:r.editors.TextEditor,renderer:r.renderers.NumericRenderer,validator:r.NumericValidator,dataType:"number"},r.DateCell={editor:r.editors.DateEditor,renderer:r.renderers.AutocompleteRenderer},r.HandsontableCell={editor:r.editors.HandsontableEditor,renderer:r.renderers.AutocompleteRenderer},r.PasswordCell={editor:r.editors.PasswordEditor,renderer:r.renderers.PasswordRenderer,copyable:!1},r.DropdownCell={editor:r.editors.DropdownEditor,renderer:r.renderers.AutocompleteRenderer,validator:r.AutocompleteValidator},r.cellTypes={text:r.TextCell,date:r.DateCell,numeric:r.NumericCell,checkbox:r.CheckboxCell,autocomplete:r.AutocompleteCell,handsontable:r.HandsontableCell,password:r.PasswordCell,dropdown:r.DropdownCell},r.cellLookup={validator:{numeric:r.NumericValidator,autocomplete:r.AutocompleteValidator}};var N=function(){var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},i=document.body,o=document.createTextNode(""),s=document.createElement("SPAN"),a=function(e,r,n){t.attachEvent?e.attachEvent("on"+r,n):e.addEventListener(r,n,!1)},c=function(e,r,n){t.detachEvent?e.detachEvent("on"+r,n):e.removeEventListener(r,n,!1)},u=function(){void 0!==o.textContent?o.textContent=e.value:o.data=e.value,s.style.fontSize=r.Dom.getComputedStyle(e).fontSize,s.style.fontFamily=r.Dom.getComputedStyle(e).fontFamily,i.appendChild(s);var t=s.clientWidth;i.removeChild(s),e.style.height=n.minHeight+"px",n.minWidth>t?e.style.width=n.minWidth+"px":t>n.maxWidth?e.style.width=n.maxWidth+"px":e.style.width=t+"px";var a=e.scrollHeight;n.minHeight>a?e.style.height=n.minHeight+"px":n.maxHeight<a?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=a+"px"},l=function(){t.setTimeout(u,0)},h=function(t){if(t&&t.minHeight)if("inherit"==t.minHeight)n.minHeight=e.clientHeight;else{var r=parseInt(t.minHeight);isNaN(r)||(n.minHeight=r)}if(t&&t.maxHeight)if("inherit"==t.maxHeight)n.maxHeight=e.clientHeight;else{var i=parseInt(t.maxHeight);isNaN(i)||(n.maxHeight=i)}if(t&&t.minWidth)if("inherit"==t.minWidth)n.minWidth=e.clientWidth;else{var a=parseInt(t.minWidth);isNaN(a)||(n.minWidth=a)}if(t&&t.maxWidth)if("inherit"==t.maxWidth)n.maxWidth=e.clientWidth;else{var c=parseInt(t.maxWidth);isNaN(c)||(n.maxWidth=c)}s.firstChild||(s.className="autoResize",s.style.display="inline-block",s.appendChild(o))},p=function(t,r){e=t,h(r),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),a(e,"change",u),a(e,"cut",l),a(e,"paste",l),a(e,"drop",l),a(e,"keydown",l),u()};return{init:function(e,t){p(e,t)},unObserve:function(){c(e,"change",u),c(e,"cut",l),c(e,"paste",l),c(e,"drop",l),c(e,"keydown",l)}}};!function(e){function t(e){return e.split('"').length-1}e.SheetClip={parse:function(e){var r,n,i,o,s,a,c,u=[],l=0;for(i=e.split("\n"),i.length>1&&""===i[i.length-1]&&i.pop(),r=0,n=i.length;n>r;r+=1){for(i[r]=i[r].split("	"),o=0,s=i[r].length;s>o;o+=1)u[l]||(u[l]=[]),a&&0===o?(c=u[l].length-1,u[l][c]=u[l][c]+"\n"+i[r][0],a&&1&t(i[r][0])&&(a=!1,u[l][c]=u[l][c].substring(0,u[l][c].length-1).replace(/""/g,'"'))):o===s-1&&0===i[r][o].indexOf('"')?(u[l].push(i[r][o].substring(1).replace(/""/g,'"')),a=!0):(u[l].push(i[r][o].replace(/""/g,'"')),a=!1);a||(l+=1)}return u},stringify:function(e){var t,r,n,i,o,s="";for(t=0,r=e.length;r>t;t+=1){for(n=0,i=e[t].length;i>n;n+=1)n>0&&(s+="	"),o=e[t][n],s+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;r-1>t&&(s+="\n")}return s}}}(t);var D=function(){var e;return{getInstance:function(){return e?e.hasBeenDestroyed()&&e.init():e=new n,e.refCounter++,e}}}();n.prototype.init=function(){var e,t,r=this;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],this.listenerElement=document.documentElement,t=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("DIV"),this.elDiv.id="CopyPasteDiv",e=this.elDiv.style,e.position="fixed",e.top="-10000px",e.left="-10000px",t.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",e=this.elTextarea.style,e.width="10000px",e.height="10000px",e.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof e.opacity&&(e.opacity=0)),this.keydownListener=function(e){var t=!1;if(e.metaKey?t=!0:e.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(t=!0),t){if(document.activeElement!==r.elTextarea&&(""!=r.getSelectionText()||-1!=["INPUT","SELECT","TEXTAREA"].indexOf(document.activeElement.nodeName)))return;r.selectNodeText(r.elTextarea),setTimeout(function(){r.selectNodeText(r.elTextarea)},0)}!t||67!==e.keyCode&&86!==e.keyCode&&88!==e.keyCode||(88===e.keyCode?setTimeout(function(){r.triggerCut(e)},0):86===e.keyCode&&setTimeout(function(){r.triggerPaste(e)},0))},this._bindEvent(this.listenerElement,"keydown",this.keydownListener)},n.prototype.selectNodeText=function(e){e.select()},n.prototype.getSelectionText=function(){var e="";return t.getSelection?e=t.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},n.prototype.copyable=function(e){if("string"!=typeof e&&void 0===e.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=e},n.prototype.onCut=function(e){this.cutCallbacks.push(e)},n.prototype.onPaste=function(e){this.pasteCallbacks.push(e)},n.prototype.removeCallback=function(e){var t,r;for(t=0,r=this.copyCallbacks.length;r>t;t++)if(this.copyCallbacks[t]===e)return this.copyCallbacks.splice(t,1),!0;for(t=0,r=this.cutCallbacks.length;r>t;t++)if(this.cutCallbacks[t]===e)return this.cutCallbacks.splice(t,1),!0;for(t=0,r=this.pasteCallbacks.length;r>t;t++)if(this.pasteCallbacks[t]===e)return this.pasteCallbacks.splice(t,1),!0;return!1},n.prototype.triggerCut=function(e){var t=this;t.cutCallbacks&&setTimeout(function(){for(var r=0,n=t.cutCallbacks.length;n>r;r++)t.cutCallbacks[r](e)},50)},n.prototype.triggerPaste=function(e,t){var r=this;r.pasteCallbacks&&setTimeout(function(){for(var n=(t||r.elTextarea.value).replace(/\n$/,""),i=0,o=r.pasteCallbacks.length;o>i;i++)r.pasteCallbacks[i](n,e)},50)},n.prototype.destroy=function(){this.hasBeenDestroyed()||0!=--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),this._unbindEvent(this.listenerElement,"keydown",this.keydownListener))},n.prototype.hasBeenDestroyed=function(){return!this.refCounter},n.prototype._bindEvent=function(){return t.jQuery?function(t,r,n){e(t).on(r+".copypaste",n)}:function(e,t,r){e.addEventListener(t,r,!1)}}(),n.prototype._unbindEvent=function(){return t.jQuery?function(t,r,n){e(t).off(r+".copypaste",n)}:function(e,t,r){e.removeEventListener(t,r,!1)}}();var M;!function(e){function r(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function n(e,t){var i;for(var o in e)if(e.hasOwnProperty(o)){if(e[o]===t)return r(o)+"/";if("object"==typeof e[o]&&(i=n(e[o],t),""!=i))return r(o)+"/"+i}return""}function i(e,t){if(e===t)return"/";var r=n(e,t);if(""===r)throw new Error("Object not found in root");return"/"+r}function o(e){for(var t=0,r=v.length;r>t;t++)if(v[t].obj===e)return v[t]}function s(e,t){for(var r=0,n=e.observers.length;n>r;r++)if(e.observers[r].callback===t)return e.observers[r].observer}function a(e,t){for(var r=0,n=e.observers.length;n>r;r++)if(e.observers[r].observer===t)return void e.observers.splice(r,1)}function c(e,t){p(t),Object.observe?h(t,e):clearTimeout(t.next);var r=o(e);a(r,t)}function u(e,r){var n,a=[],c=e,u=o(e);if(u?n=s(u,r):(u=new b(e),v.push(u)),n)return n;if(Object.observe)n=function(t){h(n,e),l(n,e);for(var o=0,s=t.length;s>o;){if(("length"!==t[o].name||!_(t[o].object))&&"__Jasmine_been_here_before__"!==t[o].name){var u=t[o].type;switch(u){case"new":u="add";break;case"deleted":u="delete";break;case"updated":u="update"}y[u].call(t[o],a,i(c,t[o].object))}o++}a&&r&&r(a),n.patches=a,a=[]};else if(n={},u.value=JSON.parse(JSON.stringify(e)),r){n.callback=r,n.next=null;var f=this.intervals||[100,1e3,1e4,6e4],d=0,m=function(){p(n)},g=function(){clearTimeout(n.next),n.next=setTimeout(function(){m(),d=0,n.next=setTimeout(w,f[d++])},0)},w=function(){m(),d==f.length&&(d=f.length-1),n.next=setTimeout(w,f[d++])};"undefined"!=typeof t&&(t.addEventListener?(t.addEventListener("mousedown",g),t.addEventListener("mouseup",g),t.addEventListener("keydown",g)):(t.attachEvent("onmousedown",g),t.attachEvent("onmouseup",g),t.attachEvent("onkeydown",g))),n.next=setTimeout(w,f[d++])}return n.patches=a,n.object=e,u.observers.push(new S(r,n)),l(n,e)}function l(e,t){if(Object.observe){Object.observe(t,e);for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n&&"object"==typeof n&&l(e,n)}}return e}function h(e,t){if(Object.observe){Object.unobserve(t,e);for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n&&"object"==typeof n&&h(e,n)}}return e}function p(e){if(Object.observe)Object.deliverChangeRecords(e);else{for(var t,r=0,n=v.length;n>r;r++)if(v[r].obj===e.object){t=v[r];break}f(t.value,e.object,e.patches,"")}var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function f(e,t,n,i){for(var o=w(t),s=w(e),a=!1,c=!1,u=s.length-1;u>=0;u--){var l=s[u],h=e[l];if(t.hasOwnProperty(l)){var p=t[l];h instanceof Object?f(h,p,n,i+"/"+r(l)):h!=p&&(a=!0,n.push({op:"replace",path:i+"/"+r(l),value:p}),e[l]=p)}else n.push({op:"remove",path:i+"/"+r(l)}),delete e[l],c=!0}if(c||o.length!=s.length)for(var u=0;u<o.length;u++){var l=o[u];e.hasOwnProperty(l)||(n.push({op:"add",path:i+"/"+r(l),value:t[l]}),e[l]=JSON.parse(JSON.stringify(t[l])))}}function d(e,t){for(var r,n=!1,i=0,o=t.length;o>i;){r=t[i];for(var s=r.path.split("/"),a=e,c=1,u=s.length;;)if(_(a)){var l=parseInt(s[c],10);if(c++,c>=u){n=g[r.op].call(r,a,l,e);break}a=a[l]}else{var h=s[c];if(-1!=h.indexOf("~")&&(h=h.replace(/~1/g,"/").replace(/~0/g,"~")),c++,c>=u){n=m[r.op].call(r,a,h,e);break}a=a[h]}i++}return n}var m={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,r){var n={op:"_get",path:this.from};return d(r,[n]),d(r,[{op:"remove",path:this.from}]),d(r,[{op:"add",path:this.path,value:n.value}]),!0},copy:function(e,t,r){var n={op:"_get",path:this.from};return d(r,[n]),d(r,[{op:"add",path:this.path,value:n.value}]),!0},test:function(e,t){return JSON.stringify(e[t])===JSON.stringify(this.value)},_get:function(e,t){this.value=e[t]}},g={add:function(e,t){return e.splice(t,0,this.value),!0},remove:function(e,t){return e.splice(t,1),!0},replace:function(e,t){return e[t]=this.value,!0},move:m.move,copy:m.copy,test:m.test,_get:m._get},y={add:function(e,t){var n={op:"add",path:t+r(this.name),value:this.object[this.name]};e.push(n)},"delete":function(e,t){var n={op:"remove",path:t+r(this.name)};e.push(n)},update:function(e,t){var n={op:"replace",path:t+r(this.name),value:this.object[this.name]};e.push(n)}},v=[];e.intervals;var b=function(){function e(e){this.observers=[],this.obj=e}return e}(),S=function(){function e(e,t){this.callback=e,this.observer=t}return e}();e.unobserve=c,e.observe=u,e.generate=p;var w;w=Object.keys?Object.keys:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t};var _;_=Array.isArray?Array.isArray:function(e){return e.push&&"number"==typeof e.length},e.apply=d}(M||(M={})),"undefined"!=typeof exports&&(exports.apply=M.apply,exports.observe=M.observe,exports.unobserve=M.unobserve,exports.generate=M.generate),r.PluginHookClass=function(){function e(){this.hooks=t(),this.globalBucket={},this.legacy=n}var t=function(){return{beforeInitWalkontable:[],beforeInit:[],beforeRender:[],beforeSetRangeEnd:[],beforeDrawBorders:[],beforeChange:[],beforeChangeRender:[],beforeRemoveCol:[],beforeRemoveRow:[],beforeValidate:[],beforeGetCellMeta:[],beforeAutofill:[],beforeKeyDown:[],beforeOnCellMouseDown:[],afterInit:[],afterLoadData:[],afterUpdateSettings:[],afterRender:[],afterRenderer:[],afterChange:[],afterValidate:[],afterGetCellMeta:[],afterSetCellMeta:[],afterGetColHeader:[],afterGetRowHeader:[],afterDestroy:[],afterRemoveRow:[],afterCreateRow:[],afterRemoveCol:[],afterCreateCol:[],afterDeselect:[],afterSelection:[],afterSelectionByProp:[],afterSelectionEnd:[],afterSelectionEndByProp:[],afterOnCellMouseDown:[],afterOnCellMouseOver:[],afterOnCellCornerMouseDown:[],afterScrollVertically:[],afterScrollHorizontally:[],afterCellMetaReset:[],afterIsMultipleSelectionCheck:[],afterDocumentKeyDown:[],modifyColWidth:[],modifyRowHeight:[],modifyRow:[],modifyCol:[]}},n={onBeforeChange:"beforeChange",onChange:"afterChange",onCreateRow:"afterCreateRow",onCreateCol:"afterCreateCol",onSelection:"afterSelection",onCopyLimit:"afterCopyLimit",onSelectionEnd:"afterSelectionEnd",onSelectionByProp:"afterSelectionByProp",onSelectionEndByProp:"afterSelectionEndByProp"};return e.prototype.getBucket=function(e){return e?(e.pluginHookBucket||(e.pluginHookBucket={}),e.pluginHookBucket):this.globalBucket},e.prototype.add=function(e,t,i){if(r.helper.isArray(t))for(var o=0,s=t.length;s>o;o++)this.add(e,t[o]);else{e in n&&(e=n[e]);var a=this.getBucket(i);"undefined"==typeof a[e]&&(a[e]=[]),t.skip=!1,-1==a[e].indexOf(t)&&a[e].push(t)}return this},e.prototype.once=function(e,t,n){if(r.helper.isArray(t))for(var i=0,o=t.length;o>i;i++)t[i].runOnce=!0,this.add(e,t[i],n);else t.runOnce=!0,this.add(e,t,n)},e.prototype.remove=function(e,t,r){var i=!1;e in n&&(e=n[e]);var o=this.getBucket(r);if("undefined"!=typeof o[e])for(var s=0,a=o[e].length;a>s;s++)if(o[e][s]==t){o[e][s].skip=!0,i=!0;break}return i},e.prototype.run=function(e,t,r,i,o,s,a,c){t in n&&(t=n[t]),this._runBucket(this.globalBucket,e,t,r,i,o,s,a,c),this._runBucket(this.getBucket(e),e,t,r,i,o,s,a,c)},e.prototype._runBucket=function(e,t,r,n,i,o,s,a,c){var u=e[r];if(u)for(var l=0,h=u.length;h>l;l++)u[l].skip||(u[l].call(t,n,i,o,s,a,c),u[l].runOnce&&this.remove(r,u[l],e===this.globalBucket?null:t))},e.prototype.destroy=function(e){var t=this.getBucket(e);for(var r in t)if(t.hasOwnProperty(r))for(var n=0,i=t[r].length;i>n;n++)this.remove(r,t[r],e)},e.prototype.execute=function(e,t,r,i,o,s,a,c){return t in n&&(t=n[t]),r=this._executeBucket(this.globalBucket,e,t,r,i,o,s,a,c),r=this._executeBucket(this.getBucket(e),e,t,r,i,o,s,a,c)},e.prototype._executeBucket=function(e,t,r,n,i,o,s,a,c){var u,l=e[r];if(l)for(var h=0,p=l.length;p>h;h++)if(!l[h].skip&&(u=l[h].call(t,n,i,o,s,a,c),void 0!==u&&(n=u),l[h].runOnce&&this.remove(r,l[h],e===this.globalBucket?null:t),u===!1))return!1;return n},e.prototype.register=function(e){this.isRegistered(e)||(this.hooks[e]=[])},e.prototype.deregister=function(e){delete this.hooks[e]},e.prototype.isRegistered=function(e){return"undefined"!=typeof this.hooks[e]},e.prototype.getRegistered=function(){return Object.keys(this.hooks)},e}(),r.hooks=new r.PluginHookClass,r.PluginHooks=r.hooks,function(e){function t(){function t(e){var t=document,r=this;r.table=t.createElement("table"),r.theadTh=t.createElement("th"),r.table.appendChild(t.createElement("thead")).appendChild(t.createElement("tr")).appendChild(r.theadTh),r.tableStyle=r.table.style,r.tableStyle.tableLayout="auto",r.tableStyle.width="auto",r.tbody=t.createElement("tbody"),r.table.appendChild(r.tbody),r.container=t.createElement("div"),r.container.className=e.rootElement[0].className+" hidden",r.containerStyle=r.container.style,r.container.appendChild(r.table)}var n=this,i=5;this.beforeInit=function(){var e=this;e.autoColumnWidths=[],e.getSettings().autoColumnSize!==!1?e.autoColumnSizeTmp||(e.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0},e.addHook("beforeRender",r.determineIfChanged),e.addHook("modifyColWidth",r.modifyColWidth),e.addHook("afterDestroy",r.afterDestroy),e.determineColumnWidth=n.determineColumnWidth):e.autoColumnSizeTmp&&(e.removeHook("beforeRender",r.determineIfChanged),e.removeHook("modifyColWidth",r.modifyColWidth),e.removeHook("afterDestroy",r.afterDestroy),delete e.determineColumnWidth,n.afterDestroy.call(e))},this.determineIfChanged=function(e){e&&r.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(r){var n=this,o=n.autoColumnSizeTmp;o.container||t.call(o,n),o.container.className=n.rootElement[0].className+" htAutoColumnSize",o.table.className=n.$table[0].className;for(var s=n.countRows(),a={},c=0,u=0;s>u;u++){var l=e.helper.stringify(n.getDataAtCell(u,r)),h=l.length;h>c&&(c=h),a[h]||(a[h]={needed:i,strings:[]}),a[h].needed&&(a[h].strings.push({value:l,row:u}),a[h].needed--)}var p=n.getSettings();p.colHeaders&&n.view.appendColHeader(r,o.theadTh),e.Dom.empty(o.tbody);for(var f in a)if(a.hasOwnProperty(f))for(var d=0,m=a[f].strings.length;m>d;d++){var g=a[f].strings[d].row,y=n.getCellMeta(g,r);y.col=r,y.row=g;var v=n.getCellRenderer(y),b=document.createElement("tr"),S=document.createElement("td");v(n,S,g,r,n.colToProp(r),a[f].strings[d].value,y),u++,b.appendChild(S),o.tbody.appendChild(b)}var w=n.rootElement[0].parentNode;w.appendChild(o.container);var _=e.Dom.outerWidth(o.table);return w.removeChild(o.container),_},this.determineColumnsWidth=function(){var e=this,t=this.getSettings();if(t.autoColumnSize||!t.colWidths)for(var r=this.countCols(),i=0;r>i;i++)e._getColWidthFromSettings(i)||(this.autoColumnWidths[i]=n.determineColumnWidth.call(e,i))},this.modifyColWidth=function(e,t){return this.autoColumnWidths[t]&&this.autoColumnWidths[t]>e?this.autoColumnWidths[t]:e},this.afterDestroy=function(){var e=this;e.autoColumnSizeTmp&&e.autoColumnSizeTmp.container&&e.autoColumnSizeTmp.container.parentNode&&e.autoColumnSizeTmp.container.parentNode.removeChild(e.autoColumnSizeTmp.container),e.autoColumnSizeTmp=null}}var r=new t;e.hooks.add("beforeInit",r.beforeInit),e.hooks.add("afterUpdateSettings",r.beforeInit)}(r);var F=new i;r.hooks.add("afterInit",function(){F.init.call(this,"afterInit")}),r.hooks.add("afterUpdateSettings",function(){F.init.call(this,"afterUpdateSettings")}),r.hooks.add("modifyRow",F.translateRow),r.hooks.add("afterGetColHeader",F.getColHeader),r.hooks.register("beforeColumnSort"),r.hooks.register("afterColumnSort"),function(t){function r(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),e+=" "+t)}function n(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),e+=" "+t)}function i(e,t,i,o){var s=this.getCellMeta(e,t),a=o;s.className&&(a="vertical"===i?r(s.className,o):n(s.className,o)),this.setCellMeta(e,t,"className",a),this.render()}function o(e,t,r){if(e.from.row==e.to.row&&e.from.col==e.to.col)i.call(this,e.from.row,e.from.col,t,r);else for(var n=e.from.row;n<=e.to.row;n++)for(var o=e.from.col;o<=e.to.col;o++)i.call(this,n,o,t,r)}function s(e,r){this.instance=e;var n=this;n.menus=[],n.triggerRows=[],this.enabled=!0,this.instance.addHook("afterDestroy",function(){n.destroy()}),this.defaultOptions={items:[{key:"row_above",name:"Insert row above",callback:function(e,t){this.alter("insert_row",t.start.row)},disabled:function(){var e=this.getSelected(),t=[0,e[1],this.view.wt.wtTable.getRowStrategy().cellCount-1,e[1]],r=t.join(",")==e.join(",");return e[0]<0||this.countRows()>=this.getSettings().maxRows||r}},{key:"row_below",name:"Insert row below",callback:function(e,t){this.alter("insert_row",t.end.row+1)},disabled:function(){var e=this.getSelected(),t=[0,e[1],this.view.wt.wtTable.getRowStrategy().cellCount-1,e[1]],r=t.join(",")==e.join(",");return this.getSelected()[0]<0||this.countRows()>=this.getSettings().maxRows||r}},s.SEPARATOR,{key:"col_left",name:"Insert column on the left",callback:function(e,t){this.alter("insert_col",t.start.col)},disabled:function(){var e=this.getSelected(),t=[e[0],0,e[0],this.view.wt.wtTable.getColumnStrategy().cellCount-1],r=t.join(",")==e.join(",");return this.getSelected()[1]<0||this.countCols()>=this.getSettings().maxCols||r}},{key:"col_right",name:"Insert column on the right",callback:function(e,t){this.alter("insert_col",t.end.col+1)},disabled:function(){var e=this.getSelected(),t=[e[0],0,e[0],this.view.wt.wtTable.getColumnStrategy().cellCount-1],r=t.join(",")==e.join(",");return e[1]<0||this.countCols()>=this.getSettings().maxCols||r}},s.SEPARATOR,{key:"remove_row",name:"Remove row",callback:function(e,t){var r=t.end.row-t.start.row+1;this.alter("remove_row",t.start.row,r)},disabled:function(){var e=this.getSelected(),t=[0,e[1],this.view.wt.wtTable.getRowStrategy().cellCount-1,e[1]],r=t.join(",")==e.join(",");return e[0]<0||r}},{key:"remove_col",name:"Remove column",callback:function(e,t){var r=t.end.col-t.start.col+1;this.alter("remove_col",t.start.col,r)},disabled:function(){var e=this.getSelected(),t=[e[0],0,e[0],this.view.wt.wtTable.getColumnStrategy().cellCount-1],r=t.join(",")==e.join(",");return e[1]<0||r}},s.SEPARATOR,{key:"undo",name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},{key:"redo",name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},s.SEPARATOR,{key:"make_read_only",name:function(){var e="Read only",t=n.checkSelectionReadOnlyConsistency(this);return t&&(e=n.markSelected(e)),e},callback:function(){var e=n.checkSelectionReadOnlyConsistency(this),t=this;this.getSelectedRange().forAll(function(r,n){t.getCellMeta(r,n).readOnly=e?!1:!0}),this.render()}},s.SEPARATOR,{key:"alignment",name:"Alignment",submenu:{items:[{name:function(){var e="Left",t=n.checkSelectionAlignment(this,"htLeft");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htLeft")},disabled:!1},{name:function(){var e="Center",t=n.checkSelectionAlignment(this,"htCenter");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htCenter")},disabled:!1},{name:function(){var e="Right",t=n.checkSelectionAlignment(this,"htRight");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htRight")},disabled:!1},{name:function(){var e="Justify",t=n.checkSelectionAlignment(this,"htJustify");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htJustify")},disabled:!1},s.SEPARATOR,{name:function(){var e="Top",t=n.checkSelectionAlignment(this,"htTop");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htTop")},disabled:!1},{name:function(){var e="Middle",t=n.checkSelectionAlignment(this,"htMiddle");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htMiddle")},disabled:!1},{name:function(){var e="Bottom",t=n.checkSelectionAlignment(this,"htBottom");return t&&(e=n.markSelected(e)),e},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htBottom")},disabled:!1}]}}]},n.options={},t.helper.extend(n.options,this.options),this.bindMouseEvents(),this.markSelected=function(e){return"<span class='selected'>â</span>"+e},this.checkSelectionAlignment=function(e,t){var r=!1;return e.getSelectedRange().forAll(function(n,i){var o=e.getCellMeta(n,i).className;return o&&-1!=o.indexOf(t)?(r=!0,!1):void 0}),r},this.checkSelectionReadOnlyConsistency=function(e){var t=!1;return e.getSelectedRange().forAll(function(r,n){return e.getCellMeta(r,n).readOnly?(t=!0,!1):void 0}),t},t.hooks.run(e,"afterContextMenuDefaultOptions",this.defaultOptions)}function a(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r].key===t)return e[r]}function c(){if(!this.rootElement[0].className.indexOf("htContextMenu")){for(var e=0,t=0,r=this.getSettings().data.length,n=0;r>n;n++)this.getSettings().data[n].name==s.SEPARATOR.name?e+=2:t+=26;this.view.wt.wtScrollbars.vertical.fixedContainer.style.height=t+e+"px"}}function u(){var e=this,r=e.getSettings().contextMenu,n=t.helper.isObject(r)?r:{};r?(e.contextMenu||(e.contextMenu=new s(e,n)),e.contextMenu.enable()):e.contextMenu&&(e.contextMenu.destroy(),delete e.contextMenu)}s.prototype.createMenu=function(r,n){r&&(r=r.replace(/ /g,"_"),r="htContextSubMenu_"+r);var i;return i=r?e("body > .htContextMenu."+r)[0]:e("body > .htContextMenu")[0],i||(i=document.createElement("DIV"),t.Dom.addClass(i,"htContextMenu"),r&&t.Dom.addClass(i,r),document.getElementsByTagName("body")[0].appendChild(i)),this.menus.indexOf(i)<0&&(this.menus.push(i),n=n||0,this.triggerRows.push(n)),i},s.prototype.bindMouseEvents=function(){function r(r){var n=this.instance.getSettings();this.closeAll(),r.preventDefault(),r.stopPropagation();var i=this.instance.getSettings().rowHeaders,o=this.instance.getSettings().colHeaders;if(i||o||"TD"==r.target.nodeName||t.Dom.hasClass(r.target,"current")&&t.Dom.hasClass(r.target,"wtBorder")){var a=this.createMenu(),c=this.getItems(n.contextMenu);this.show(a,c),this.setMenuPosition(r,a),e(document).on("mousedown.htContextMenu",t.helper.proxy(s.prototype.closeAll,this))}}this.instance.rootElement.on("contextmenu.htContextMenu",t.helper.proxy(r,this));
},s.prototype.bindTableEvents=function(){this._afterScrollCallback=function(){},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},s.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},s.prototype.performAction=function(t,r){var n=this,i=e(r).handsontable("getInstance"),o=i.getSelected()[0],a=i.getData()[o];if(a.disabled!==!0&&("function"!=typeof a.disabled||a.disabled.call(this.instance)!==!0)&&!a.hasOwnProperty("submenu")){if("function"!=typeof a.callback)return;var c=this.instance.getSelectedRange(),u=s.utils.normalizeSelection(c);a.callback.call(this.instance,a.key,u,t),n.closeAll()}},s.prototype.unbindMouseEvents=function(){this.instance.rootElement.off("contextmenu.htContextMenu"),e(document).off("mousedown.htContextMenu")},s.prototype.show=function(r,n){r.removeAttribute("style"),r.style.display="block";var i=this;e(r).off("mousedown.htContextMenu").on("mousedown.htContextMenu",function(e){i.performAction(e,r)}),e(r).handsontable({data:n,colHeaders:!1,colWidths:[200],readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:t.helper.proxy(this.renderer,this)}],beforeKeyDown:function(e){i.onBeforeKeyDown(e,r)},afterOnCellMouseOver:function(e,t,n){i.onCellMouseOver(e,t,n,r)},renderAllRows:!0}),this.bindTableEvents(),e(r).handsontable("listen")},s.prototype.close=function(t){this.hide(t),e(document).off("mousedown.htContextMenu"),this.unbindTableEvents(),this.instance.listen()},s.prototype.closeAll=function(){for(;this.menus.length>0;){var e=this.menus.pop();e&&this.close(e)}this.triggerRows=[]},s.prototype.closeLastOpenedSubMenu=function(){var e=this.menus.pop();e&&this.hide(e)},s.prototype.hide=function(t){t.style.display="none",e(t).handsontable("destroy")},s.prototype.renderer=function(r,n,i,o,a,c){function u(e){return e.hasOwnProperty("submenu")}function l(e){return new RegExp(s.SEPARATOR.name,"i").test(e.name)}function h(e){return e.disabled===!0||"function"==typeof e.disabled&&e.disabled.call(p.instance)===!0}var p=this,f=r.getData()[i],d=document.createElement("DIV");"function"==typeof c&&(c=c.call(this.instance)),t.Dom.empty(n),n.appendChild(d),l(f)?t.Dom.addClass(n,"htSeparator"):t.Dom.fastInnerHTML(d,c),h(f)?(t.Dom.addClass(n,"htDisabled"),e(d).on("mouseenter",function(){r.deselectCell()})):u(f)?(t.Dom.addClass(n,"htSubmenu"),e(d).on("mouseenter",function(){r.selectCell(i,o)})):(t.Dom.removeClass(n,"htSubmenu"),t.Dom.removeClass(n,"htDisabled"),e(d).on("mouseenter",function(){r.selectCell(i,o)}))},s.prototype.onCellMouseOver=function(t,r,n,i){var o=e(i).handsontable("getInstance"),s=this.menus.length;if(s>0){var a=this.menus[s-1];a.id!=i.id&&this.closeLastOpenedSubMenu()}else this.closeLastOpenedSubMenu();if(-1!=n.className.indexOf("htSubmenu")){var c=o.getData()[r.row],u=this.getItems(c.submenu),l=this.createMenu(c.name,r.row),h=n.getBoundingClientRect();this.show(l,u),this.setSubMenuPosition(h,l)}},s.prototype.onBeforeKeyDown=function(r,n){function i(e){var t=e.getCell(0,0);s.utils.isSeparator(t)||s.utils.isDisabled(t)?a(0,0,e):e.selectCell(0,0)}function o(e){var t=e.countRows()-1,r=e.getCell(t,0);s.utils.isSeparator(r)||s.utils.isDisabled(r)?c(t,0,e):e.selectCell(t,0)}function a(e,t,r){var n=e+1,i=n<r.countRows()?r.getCell(n,t):null;i&&(s.utils.isSeparator(i)||s.utils.isDisabled(i)?a(n,t,r):r.selectCell(n,t))}function c(e,t,r){var n=e-1,i=n>=0?r.getCell(n,t):null;i&&(s.utils.isSeparator(i)||s.utils.isDisabled(i)?c(n,t,r):r.selectCell(n,t))}function u(t,r,n,i){var o=t.getData()[i],s=r.getItems(o.submenu),a=r.createMenu(o.name,i),c=n.getBoundingClientRect();r.show(a,s),r.setSubMenuPosition(c,a);var u=e(a).handsontable("getInstance");u.selectCell(0,0)}var l=this,h=e(n).handsontable("getInstance"),p=h.getSelected();switch(r.keyCode){case t.helper.keyCode.ESCAPE:l.closeAll(),r.preventDefault(),r.stopImmediatePropagation();break;case t.helper.keyCode.ENTER:p&&l.performAction(r,n);break;case t.helper.keyCode.ARROW_DOWN:p?a(p[0],p[1],h,l):i(h,l),r.preventDefault(),r.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_UP:p?c(p[0],p[1],h,l):o(h,l),r.preventDefault(),r.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_RIGHT:if(p){var f=p[0],d=h.getCell(p[0],0);s.utils.hasSubMenu(d)&&u(h,l,d,f)}r.preventDefault(),r.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_LEFT:if(p){if(-1!=n.className.indexOf("htContextSubMenu_")){l.closeLastOpenedSubMenu();var m=l.menus.length;if(m>0){n=l.menus[m-1];var g=l.triggerRows.pop();h=e(n).handsontable("getInstance"),h.selectCell(g,0)}}r.preventDefault(),r.stopImmediatePropagation()}}},s.prototype.getItems=function(e){function r(e){"string"==typeof e?this.name=e:t.helper.extend(this,e)}var n,i;r.prototype=e,e&&e.items&&(e=e.items),e===!0&&(e=this.defaultOptions.items),n=[];for(var o in e)e.hasOwnProperty(o)&&(i="string"==typeof e[o]?a(this.defaultOptions.items,e[o]):a(this.defaultOptions.items,o),i||(i=e[o]),i=new r(i),"object"==typeof e[o]&&t.helper.extend(i,e[o]),i.key||(i.key=o),n.push(i));return n},s.prototype.setSubMenuPosition=function(e,r){var n=t.Dom.getWindowScrollTop(),i=t.Dom.getWindowScrollLeft(),o={top:n+e.top,topRelative:e.top,left:e.left,leftRelative:e.left-i,scrollTop:n,scrollLeft:i,cellHeight:e.height,cellWidth:e.width};this.menuFitsBelowCursor(o,r)?this.positionMenuBelowCursor(o,r,!0):this.menuFitsAboveCursor(o,r)?this.positionMenuAboveCursor(o,r,!0):this.positionMenuBelowCursor(o,r,!0),this.menuFitsOnRightOfCursor(o,r)?this.positionMenuOnRightOfCursor(o,r,!0):this.positionMenuOnLeftOfCursor(o,r,!0)},s.prototype.setMenuPosition=function(e,r){var n=e.pageY,i=e.pageX,o=t.Dom.getWindowScrollTop(),s=t.Dom.getWindowScrollLeft(),a={top:n,topRelative:n-o,left:i,leftRelative:i-s,scrollTop:o,scrollLeft:s,cellHeight:e.target.clientHeight,cellWidth:e.target.clientWidth};this.menuFitsBelowCursor(a,r)?this.positionMenuBelowCursor(a,r):this.menuFitsAboveCursor(a,r)?this.positionMenuAboveCursor(a,r):this.positionMenuBelowCursor(a,r),this.menuFitsOnRightOfCursor(a,r)?this.positionMenuOnRightOfCursor(a,r):this.positionMenuOnLeftOfCursor(a,r)},s.prototype.menuFitsAboveCursor=function(e,t){return e.topRelative>=t.offsetHeight},s.prototype.menuFitsBelowCursor=function(e,t){return e.topRelative+t.offsetHeight<=e.scrollTop+document.body.clientHeight},s.prototype.menuFitsOnRightOfCursor=function(e,t){return e.leftRelative+t.offsetWidth<=e.scrollLeft+document.body.clientWidth},s.prototype.positionMenuBelowCursor=function(e,t){t.style.top=e.top+"px"},s.prototype.positionMenuAboveCursor=function(e,t,r){r?t.style.top=e.top+e.cellHeight-t.offsetHeight+"px":t.style.top=e.top-t.offsetHeight+"px"},s.prototype.positionMenuOnRightOfCursor=function(e,t,r){r?t.style.left=1+e.left+e.cellWidth+"px":t.style.left=1+e.left+"px"},s.prototype.positionMenuOnLeftOfCursor=function(e,t,r){r?t.style.left=e.left-t.offsetWidth+"px":t.style.left=e.left-t.offsetWidth+"px"},s.utils={},s.utils.normalizeSelection=function(e){return{start:e.getTopLeftCorner(),end:e.getBottomRightCorner()}},s.utils.isSeparator=function(e){return t.Dom.hasClass(e,"htSeparator")},s.utils.hasSubMenu=function(e){return t.Dom.hasClass(e,"htSubmenu")},s.utils.isDisabled=function(e){return t.Dom.hasClass(e,"htDisabled")},s.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},s.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.closeAll(),this.unbindMouseEvents(),this.unbindTableEvents())},s.prototype.destroy=function(){for(this.closeAll();this.menus.length>0;){var e=this.menus.pop();this.triggerRows.pop(),e&&(this.close(e),this.isMenuEnabledByOtherHotInstance()||this.removeMenu(e))}this.unbindMouseEvents(),this.unbindTableEvents()},s.prototype.isMenuEnabledByOtherHotInstance=function(){for(var t=e(".handsontable"),r=!1,n=0,i=t.length;i>n;n++){var o=e(t[n]).handsontable("getInstance");if(o&&o.getSettings().contextMenu){r=!0;break}}return r},s.prototype.removeMenu=function(e){e.parentNode&&this.menu.parentNode.removeChild(e)},s.SEPARATOR={name:"---------"},t.hooks.add("afterInit",u),t.hooks.add("afterUpdateSettings",u),t.hooks.add("afterInit",c),t.PluginHooks.register("afterContextMenuDefaultOptions"),t.ContextMenu=s}(r);var B=function(){var e=this,t=e.getSettings().comments;t&&(r.Comments=new o(e),r.Comments.init())},H=function(e,t,n,i,o,s){s.comment&&r.Dom.addClass(e,s.commentedCellClassName)},$=function(e){var t=this;t.getSettings().comments&&(e.items.push(r.ContextMenu.SEPARATOR),e.items.push({key:"commentsAddEdit",name:function(){var e=r.Comments.checkSelectionCommentsConsistency();return e?"Edit Comment":"Add Comment"},callback:function(e,t,n){r.Comments.showComment(this.getSelectedRange())},disabled:function(){return!1}}),e.items.push({key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(e,t,n){r.Comments.removeComment(t.start.row,t.start.col)},disabled:function(){var e=r.Comments.checkSelectionCommentsConsistency();return!e}}))};r.hooks.add("beforeInit",B),r.hooks.add("afterContextMenuDefaultOptions",$),r.hooks.add("afterRenderer",H),function(r){function n(){function n(e){f=this,d=e;var t=this.view.wt.wtTable.getCoords(e).col;if(t>=0){p=t;var r=d.getBoundingClientRect();h=r.left,m.style.top=r.top+"px",m.style.left=h+"px",f.rootElement[0].appendChild(m)}}function i(e){var t=e.getBoundingClientRect();m.style.left=t.left+"px"}function o(){var e=this;r.Dom.addClass(m,"active"),r.Dom.addClass(g,"active");var t=d.getBoundingClientRect();g.style.width=t.width+"px",g.style.height=e.view.maximumVisibleElementHeight(0)+"px",g.style.top=m.style.top,g.style.left=h+"px",e.rootElement[0].appendChild(g)}function s(e){g.style.left=h+e+"px"}function a(){r.Dom.removeClass(m,"active"),r.Dom.removeClass(g,"active")}var c,u,l,h,p,f,d,m=document.createElement("DIV"),g=document.createElement("DIV"),y=e(t);m.className="manualColumnMover",g.className="manualColumnMoverGuide";var v=function(){var e=this;r.hooks.run(e,"persistentStateSave","manualColumnPositions",e.manualColumnPositions)},b=function(){var e=this,t={};return r.hooks.run(e,"persistentStateLoad","manualColumnPositions",t),t.value},S=function(){var e,t=this;t.rootElement.on("mouseenter.manualColumnMove."+t.guid,"table thead tr > th",function(r){e?(u=t.view.wt.wtTable.getCoords(r.currentTarget).col,i(r.currentTarget)):n.call(t,r.currentTarget)}),t.rootElement.on("mousedown.manualColumnMove."+t.guid,".manualColumnMover",function(r){l=r.pageX,o.call(t),e=t,c=p,u=p}),y.on("mousemove.manualColumnMove."+t.guid,function(t){e&&s(t.pageX-l)}),y.on("mouseup.manualColumnMove."+t.guid,function(){e&&(a(),e=!1,u>c&&u--,_(t.manualColumnPositions,t.countCols()),t.manualColumnPositions.splice(u,0,t.manualColumnPositions.splice(c,1)[0]),t.forceFullRender=!0,t.view.render(),v.call(t),r.hooks.run(t,"afterColumnMove",c,u),n.call(t,d))}),t.addHook("afterDestroy",w)},w=function(){var e=this;e.rootElement.off("mouseenter.manualColumnMove."+e.guid,"table thead tr > th"),e.rootElement.off("mousedown.manualColumnMove."+e.guid,".manualColumnMover"),y.off("mousemove.manualColumnMove."+e.guid),y.off("mouseup.manualColumnMove."+e.guid)},_=function(e,t){if(e.length<t)for(var r=e.length;t>r;r++)e[r]=r};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(e){var t=this,r=!!this.getSettings().manualColumnMove;if(r){var n=this.getSettings().manualColumnMove,i=b.call(t);"undefined"!=typeof i?this.manualColumnPositions=i:n instanceof Array?this.manualColumnPositions=n:this.manualColumnPositions=[],"afterInit"==e&&(S.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else w.call(this),this.manualColumnPositions=[]},this.modifyCol=function(e){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[e]&&_(this.manualColumnPositions,e+1),this.manualColumnPositions[e]):e}}var i=new n;r.hooks.add("beforeInit",i.beforeInit),r.hooks.add("afterInit",function(){i.init.call(this,"afterInit")}),r.hooks.add("afterUpdateSettings",function(){i.init.call(this,"afterUpdateSettings")}),r.hooks.add("modifyCol",i.modifyCol),r.hooks.register("afterColumnMove")}(r),function(r){function n(){function n(e){h=this,c=e;var t=this.view.wt.wtTable.getCoords(e).col;if(t>=0){u=t;var r=c.getBoundingClientRect();m=r.left-6,d=parseInt(r.width,10),g.style.top=r.top+"px",g.style.left=m+d+"px",h.rootElement[0].appendChild(g)}}function i(){g.style.left=m+l+"px"}function o(){var e=this;r.Dom.addClass(g,"active"),r.Dom.addClass(y,"active"),y.style.top=g.style.top,y.style.left=g.style.left,y.style.height=e.view.maximumVisibleElementHeight(0)+"px",e.rootElement[0].appendChild(y)}function s(){y.style.left=g.style.left}function a(){r.Dom.removeClass(g,"active"),r.Dom.removeClass(y,"active")}var c,u,l,h,p,f,d,m,g=document.createElement("DIV"),y=document.createElement("DIV"),v=e(t);g.className="manualColumnResizer",y.className="manualColumnResizerGuide";var b=function(){var e=this;r.hooks.run(e,"persistentStateSave","manualColumnWidths",e.manualColumnWidths)},S=function(){var e=this,t={};return r.hooks.run(e,"persistentStateLoad","manualColumnWidths",t),t.value},w=function(){var e,t=this,h=0,m=null;t.rootElement.on("mouseenter.manualColumnResize."+t.guid,"table thead tr > th",function(r){e||n.call(t,r.currentTarget)}),t.rootElement.on("mousedown.manualColumnResize."+t.guid,".manualColumnResizer",function(n){o.call(t),e=t,null==m&&(m=setTimeout(function(){h>=2&&(p=t.determineColumnWidth.call(t,u),T(u,p),t.forceFullRender=!0,t.view.render(),r.hooks.run(t,"afterColumnResize",u,p)),h=0,m=null},500),t._registerTimeout(m)),h++,f=n.pageX,p=d}),v.on("mousemove.manualColumnResize."+t.guid,function(t){e&&(l=d+(t.pageX-f),p=T(u,l),i(),s())}),v.on("mouseup.manualColumnResize."+t.guid,function(){e&&(a(),e=!1,p!=d&&(t.forceFullRender=!0,t.view.render(),b.call(t),r.hooks.run(t,"afterColumnResize",u,p)),n.call(t,c))}),t.addHook("afterDestroy",_)},_=function(){var e=this;e.rootElement.off("mouseenter.manualColumnResize."+e.guid,"table thead tr > th"),e.rootElement.off("mousedown.manualColumnResize."+e.guid,".manualColumnResizer"),v.off("mousemove.manualColumnResize."+e.guid),v.off("mouseup.manualColumnResize."+e.guid)};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(e){var t=this,r=!!this.getSettings().manualColumnResize;if(r){var n=this.getSettings().manualColumnResize,i=S.call(t);"undefined"!=typeof i?this.manualColumnWidths=i:n instanceof Array?this.manualColumnWidths=n:this.manualColumnWidths=[],"afterInit"==e&&(w.call(this),this.manualColumnWidths.length>0&&(this.forceFullRender=!0,this.render()))}else _.call(this),this.manualColumnWidths=[]};var T=function(e,t){return t=Math.max(t,20),e=r.hooks.execute(h,"modifyCol",e),h.manualColumnWidths[e]=t,t};this.modifyColWidth=function(e,t){return t=this.runHooksAndReturn("modifyCol",t),this.getSettings().manualColumnResize&&this.manualColumnWidths[t]?this.manualColumnWidths[t]:e}}var i=new n;r.hooks.add("beforeInit",i.beforeInit),r.hooks.add("afterInit",function(){i.init.call(this,"afterInit")}),r.hooks.add("afterUpdateSettings",function(){i.init.call(this,"afterUpdateSettings")}),r.hooks.add("modifyColWidth",i.modifyColWidth),r.hooks.register("afterColumnResize")}(r),function(r){function n(){function n(e){h=this,c=e;var t=this.view.wt.wtTable.getCoords(e).row;if(t>=0){u=t;var r=c.getBoundingClientRect();m=r.top-6,d=parseInt(r.height,10),g.style.left=r.left+"px",g.style.top=m+d+"px",h.rootElement[0].appendChild(g)}}function i(){g.style.top=m+l+"px"}function o(){var e=this;r.Dom.addClass(g,"active"),r.Dom.addClass(y,"active"),y.style.top=g.style.top,y.style.left=g.style.left,y.style.width=e.view.maximumVisibleElementWidth(0)+"px",e.rootElement[0].appendChild(y)}function s(){y.style.top=g.style.top}function a(){r.Dom.removeClass(g,"active"),r.Dom.removeClass(y,"active")}var c,u,l,h,p,f,d,m,g=document.createElement("DIV"),y=document.createElement("DIV"),v=e(t);g.className="manualRowResizer",y.className="manualRowResizerGuide";var b=function(){var e=this;r.hooks.run(e,"persistentStateSave","manualRowHeights",e.manualRowHeights)},S=function(){var e=this,t={};return r.hooks.run(e,"persistentStateLoad","manualRowHeights",t),t.value},w=function(){var e,t=this,h=0,m=null;t.rootElement.on("mouseenter.manualRowResize."+t.guid,"table tbody tr > th",function(r){e||n.call(t,r.currentTarget)}),t.rootElement.on("mousedown.manualRowResize."+t.guid,".manualRowResizer",function(n){o.call(t),e=t,null==m&&(m=setTimeout(function(){h>=2&&(T(u,null),t.forceFullRender=!0,t.view.render(),r.hooks.run(t,"afterRowResize",u,p)),h=0,m=null},500),t._registerTimeout(m)),h++,f=n.pageY,p=d}),v.on("mousemove.manualRowResize."+t.guid,function(t){e&&(l=d+(t.pageY-f),p=T(u,l),i(),s())}),v.on("mouseup.manualRowResize."+t.guid,function(){e&&(a(),e=!1,p!=d&&(t.forceFullRender=!0,t.view.render(),b.call(t),r.hooks.run(t,"afterRowResize",u,p)),n.call(t,c))}),t.addHook("afterDestroy",_)},_=function(){var e=this;e.rootElement.off("mouseenter.manualRowResize."+e.guid,"table tbody tr > th"),e.rootElement.off("mousedown.manualRowResize."+e.guid,".manualRowResizer"),v.off("mousemove.manualRowResize."+e.guid),v.off("mouseup.manualRowResize."+e.guid)};this.beforeInit=function(){this.manualRowHeights=[]},this.init=function(e){var t=this,r=!!this.getSettings().manualRowResize;if(r){var n=this.getSettings().manualRowResize,i=S.call(t);"undefined"!=typeof i?this.manualRowHeights=i:n instanceof Array?this.manualRowHeights=n:this.manualRowHeights=[],"afterInit"===e?(w.call(this),this.manualRowHeights.length>0&&(this.forceFullRender=!0,this.render())):(this.forceFullRender=!0,this.render())}else _.call(this),this.manualRowHeights=[]};var T=function(e,t){return e=r.hooks.execute(h,"modifyRow",e),h.manualRowHeights[e]=t,t};this.modifyRowHeight=function(e,t){return this.getSettings().manualRowResize&&(t=this.runHooksAndReturn("modifyRow",t),void 0!==this.manualRowHeights[t])?this.manualRowHeights[t]:e}}var i=new n;r.hooks.add("beforeInit",i.beforeInit),r.hooks.add("afterInit",function(){i.init.call(this,"afterInit")}),r.hooks.add("afterUpdateSettings",function(){i.init.call(this,"afterUpdateSettings")}),r.hooks.add("modifyRowHeight",i.modifyRowHeight),r.hooks.register("afterRowResize")}(r),function(){function e(){var e=this,r=e.getSettings().observeChanges;r?(e.observer&&i.call(e),t.call(e),s.call(e)):r||i.call(e)}function t(){var e=this;e.observeChangesActive=!0,e.pauseObservingChanges=function(){e.observeChangesActive=!1},e.resumeObservingChanges=function(){e.observeChangesActive=!0},e.observedData=e.getData(),e.observer=M.observe(e.observedData,function(t){e.observeChangesActive&&(n.call(e,t),e.render()),e.runHooks("afterChangesObserved")})}function n(e){function t(e){var t;return t=n(e),t=r(t)}function r(e){var t=[];return e.filter(function(e){var r=i(e.path);if(-1!=["add","remove"].indexOf(e.op)&&!isNaN(r.col)){if(-1!=t.indexOf(r.col))return!1;t.push(r.col)}return!0})}function n(e){return e.filter(function(e){return!/[\/]length/gi.test(e.path)})}function i(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(t[1],10),col:/^\d*$/.test(t[2])?parseInt(t[2],10):t[2]}}for(var o=this,s=t(e),a=0,c=s.length;c>a;a++){var u=s[a],l=i(u.path);switch(u.op){case"add":isNaN(l.col)?o.runHooks("afterCreateRow",l.row):o.runHooks("afterCreateCol",l.col);break;case"remove":isNaN(l.col)?o.runHooks("afterRemoveRow",l.row,1):o.runHooks("afterRemoveCol",l.col,1);break;case"replace":o.runHooks("afterChange",[l.row,l.col,null,u.value],"external")}}}function i(){var e=this;e.observer&&(o.call(e),a.call(e))}function o(){var e=this;M.unobserve(e.observedData,e.observer),delete e.observeChangesActive,delete e.pauseObservingChanges,delete e.resumeObservingChanges}function s(){var e=this;e.addHook("afterDestroy",i),e.addHook("afterCreateRow",c),e.addHook("afterRemoveRow",c),e.addHook("afterCreateCol",c),e.addHook("afterRemoveCol",c),e.addHook("afterChange",function(e,t){"loadData"!=t&&c.call(this)})}function a(){var e=this;e.removeHook("afterDestroy",i),e.removeHook("afterCreateRow",c),e.removeHook("afterRemoveRow",c),e.removeHook("afterCreateCol",c),e.removeHook("afterRemoveCol",c),e.removeHook("afterChange",c)}function c(){var e=this;e.pauseObservingChanges(),e.addHookOnce("afterChangesObserved",function(){e.resumeObservingChanges()})}r.hooks.add("afterLoadData",e),r.hooks.add("afterUpdateSettings",e),r.hooks.register("afterChangesObserved")}(),function(e){function t(){function t(){var e=this;for(var t in o)o.hasOwnProperty(t)&&e.addHook(t,o[t])}function n(){var e=this;for(var t in o)o.hasOwnProperty(t)&&e.removeHook(t,o[t])}var i=this;this.init=function(){var r=this,o=r.getSettings().persistentState;return i.enabled=!!o,i.enabled?(r.storage||(r.storage=new e(r.rootElement[0].id)),r.resetState=i.resetValue,void t.call(r)):void n.call(r)},this.saveValue=function(e,t){var r=this;r.storage.saveValue(e,t)},this.loadValue=function(e,t){var r=this;t.value=r.storage.loadValue(e)},this.resetValue=function(e){var t=this;"undefined"!=typeof e?t.storage.reset(e):t.storage.resetAll()};var o={persistentStateSave:i.saveValue,persistentStateLoad:i.loadValue,persistentStateReset:i.resetValue};for(var s in o)o.hasOwnProperty(s)&&r.hooks.register(s)}var n=new t;r.hooks.add("beforeInit",n.init),r.hooks.add("afterUpdateSettings",n.init)}(s),function(t){t.UndoRedo=function(e){var r=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,n){if(e){var i=new t.UndoRedo.ChangeAction(e);r.done(i)}}),e.addHook("afterCreateRow",function(e,n,i){if(!i){var o=new t.UndoRedo.CreateRowAction(e,n);r.done(o)}}),e.addHook("beforeRemoveRow",function(e,n){var i=r.instance.getData();e=(i.length+e)%i.length;var o=i.slice(e,e+n),s=new t.UndoRedo.RemoveRowAction(e,o);r.done(s)}),e.addHook("afterCreateCol",function(e,n,i){if(!i){var o=new t.UndoRedo.CreateColumnAction(e,n);r.done(o)}}),e.addHook("beforeRemoveCol",function(n,i){var o=r.instance.getData();n=(r.instance.countCols()+n)%r.instance.countCols();for(var s=[],a=0,c=o.length;c>a;a++)s[a]=o[a].slice(n,n+i);var u;t.helper.isArray(e.getSettings().colHeaders)&&(u=e.getSettings().colHeaders.slice(n,n+s.length));var l=new t.UndoRedo.RemoveColumnAction(n,s,u);r.done(l)})},t.UndoRedo.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},t.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop();this.ignoreNewActions=!0;var t=this;e.undo(this.instance,function(){t.ignoreNewActions=!1,t.undoneActions.push(e)})}},t.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop();this.ignoreNewActions=!0;var t=this;e.redo(this.instance,function(){t.ignoreNewActions=!1,t.doneActions.push(e)})}},t.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},t.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},t.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},t.UndoRedo.Action=function(){},t.UndoRedo.Action.prototype.undo=function(){},t.UndoRedo.Action.prototype.redo=function(){},t.UndoRedo.ChangeAction=function(e){this.changes=e},t.helper.inherit(t.UndoRedo.ChangeAction,t.UndoRedo.Action),t.UndoRedo.ChangeAction.prototype.undo=function(t,r){for(var n=e.extend(!0,[],this.changes),i=t.countEmptyRows(!0),o=t.countEmptyCols(!0),s=0,a=n.length;a>s;s++)n[s].splice(3,1);t.addHookOnce("afterChange",r),t.setDataAtRowProp(n,null,null,"undo");for(var s=0,a=n.length;a>s;s++)t.getSettings().minSpareRows&&n[s][0]+1+t.getSettings().minSpareRows===t.countRows()&&i==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(n[s][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&n[s][1]+1+t.getSettings().minSpareCols===t.countCols()&&o==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(n[s][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},t.UndoRedo.ChangeAction.prototype.redo=function(t,r){for(var n=e.extend(!0,[],this.changes),i=0,o=n.length;o>i;i++)n[i].splice(2,1);t.addHookOnce("afterChange",r),t.setDataAtRowProp(n,null,null,"redo")},t.UndoRedo.CreateRowAction=function(e,t){this.index=e,this.amount=t},t.helper.inherit(t.UndoRedo.CreateRowAction,t.UndoRedo.Action),t.UndoRedo.CreateRowAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount)},t.UndoRedo.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index+1,this.amount)},t.UndoRedo.RemoveRowAction=function(e,t){this.index=e,this.data=t},t.helper.inherit(t.UndoRedo.RemoveRowAction,t.UndoRedo.Action),t.UndoRedo.RemoveRowAction.prototype.undo=function(e,t){var r=[this.index,0];Array.prototype.push.apply(r,this.data),Array.prototype.splice.apply(e.getData(),r),e.addHookOnce("afterRender",t),e.render()},t.UndoRedo.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length)},t.UndoRedo.CreateColumnAction=function(e,t){this.index=e,this.amount=t},t.helper.inherit(t.UndoRedo.CreateColumnAction,t.UndoRedo.Action),t.UndoRedo.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount)},t.UndoRedo.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index+1,this.amount)},t.UndoRedo.RemoveColumnAction=function(e,t,r){this.index=e,this.data=t,this.amount=this.data[0].length,this.headers=r},t.helper.inherit(t.UndoRedo.RemoveColumnAction,t.UndoRedo.Action),t.UndoRedo.RemoveColumnAction.prototype.undo=function(e,t){for(var r,n,i=0,o=e.getData().length;o>i;i++)r=e.getSourceDataAtRow(i),n=[this.index,0],Array.prototype.push.apply(n,this.data[i]),Array.prototype.splice.apply(r,n);"undefined"!=typeof this.headers&&(n=[this.index,0],Array.prototype.push.apply(n,this.headers),Array.prototype.splice.apply(e.getSettings().colHeaders,n)),e.addHookOnce("afterRender",t),e.render()},t.UndoRedo.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount)}}(r),function(e){function t(){var t=this,s="undefined"==typeof t.getSettings().undo||t.getSettings().undo;s?t.undoRedo||(t.undoRedo=new e.UndoRedo(t),i(t),t.addHook("beforeKeyDown",r),t.addHook("afterChange",n)):t.undoRedo&&(delete t.undoRedo,o(t),t.removeHook("beforeKeyDown",r),t.removeHook("afterChange",n))}function r(e){var t=this,r=(e.ctrlKey||e.metaKey)&&!e.altKey;r&&(89===e.keyCode||e.shiftKey&&90===e.keyCode?(t.undoRedo.redo(),e.stopImmediatePropagation()):90===e.keyCode&&(t.undoRedo.undo(),e.stopImmediatePropagation()))}function n(e,t){var r=this;return"loadData"==t?r.undoRedo.clear():void 0}function i(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function o(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}e.hooks.add("afterInit",t),e.hooks.add("afterUpdateSettings",t)}(r),a.prototype.setBoundaries=function(e){this.boundaries=e},a.prototype.setCallback=function(e){this.callback=e},a.prototype.check=function(e,t){var r=0,n=0;t<this.boundaries.top?n=t-this.boundaries.top:t>this.boundaries.bottom&&(n=t-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,n)};var V,U;if("undefined"!=typeof r){var z=function(e){e.dragToScrollListening=!1;var r=e.view.wt.wtScrollbars.vertical.scrollHandler;V=new a,r!==t&&(r?V.setBoundaries(r.getBoundingClientRect()):V.setBoundaries(e.$table[0].getBoundingClientRect()),V.setCallback(function(t,n){0>t?r?r.scrollLeft-=50:e.view.wt.scrollHorizontal(-1).draw():t>0&&(r?r.scrollLeft+=50:e.view.wt.scrollHorizontal(1).draw()),0>n?r?r.scrollTop-=20:e.view.wt.scrollVertical(-1).draw():n>0&&(r?r.scrollTop+=20:e.view.wt.scrollVertical(1).draw())}),e.dragToScrollListening=!0)};r.hooks.add("afterInit",function(){var t=this;e(document).on("mouseup."+this.guid,function(){t.dragToScrollListening=!1}),e(document).on("mousemove."+this.guid,function(e){t.dragToScrollListening&&V.check(e.clientX,e.clientY)})}),r.hooks.add("afterDestroy",function(){e(document).off("."+this.guid)}),r.hooks.add("afterOnCellMouseDown",function(){z(this)}),r.hooks.add("afterOnCellCornerMouseDown",function(){z(this)}),r.plugins.DragToScroll=a}if(function(e,t,r){function n(n){function i(){n.isListening()&&n.selection.empty()}function o(e){if(n.isListening()&&n.selection.isSelected()){var t=e.replace(/^[\r\n]*/g,"").replace(/[\r\n]*$/g,""),i=r.parse(t),o=n.getSelected(),s=new f(o[0],o[1]),a=new f(o[2],o[3]),c=new d(s,s,a),u=c.getTopLeftCorner(),l=c.getBottomRightCorner(),h=u,p=new f(Math.max(l.row,i.length-1+u.row),Math.max(l.col,i[0].length-1+u.col));n.addHookOnce("afterChange",function(e,t){e&&e.length&&this.selectCell(h.row,h.col,p.row,p.col)}),n.populateFromArray(h.row,h.col,i,p.row,p.col,"paste",n.getSettings().pasteMode)}}function s(t){if(n.getSelected()){if(e.helper.isCtrlKey(t.keyCode))return a.setCopyableText(),void t.stopImmediatePropagation();var r=(t.ctrlKey||t.metaKey)&&!t.altKey;t.keyCode==e.helper.keyCode.A&&r&&n._registerTimeout(setTimeout(e.helper.proxy(a.setCopyableText,a),0))}}this.copyPasteInstance=t.getInstance(),this.copyPasteInstance.onCut(i),this.copyPasteInstance.onPaste(o);var a=this;n.addHook("beforeKeyDown",s),this.destroy=function(){this.copyPasteInstance.removeCallback(i),this.copyPasteInstance.removeCallback(o),this.copyPasteInstance.destroy(),n.removeHook("beforeKeyDown",s)},n.addHook("afterDestroy",e.helper.proxy(this.destroy,this)),this.triggerPaste=e.helper.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=e.helper.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var t=n.getSettings(),r=t.copyRowsLimit,i=t.copyColsLimit,o=n.getSelectedRange(),s=o.getTopLeftCorner(),a=o.getBottomRightCorner(),c=s.row,u=s.col,l=a.row,h=a.col,p=Math.min(l,c+r-1),f=Math.min(h,u+i-1);n.copyPaste.copyPasteInstance.copyable(n.getCopyableData(c,u,p,f)),(l!==p||h!==f)&&e.hooks.run(n,"afterCopyLimit",l-c+1,h-u+1,r,i)}}function i(){var e=this,t=e.getSettings().copyPaste!==!1;t&&!e.copyPaste?e.copyPaste=new n(e):!t&&e.copyPaste&&(e.copyPaste.destroy(),delete e.copyPaste)}e.hooks.add("afterInit",i),e.hooks.add("afterUpdateSettings",i),e.hooks.register("afterCopyLimit")}(r,D,SheetClip),function(e){function t(){var t=this,r=!!t.getSettings().search;r?t.search=new e.Search(t):delete t.search}e.Search=function(t){this.query=function(r,n,i){var o=t.countRows(),s=t.countCols(),a=[];n||(n=e.Search.global.getDefaultCallback()),i||(i=e.Search.global.getDefaultQueryMethod());for(var c=0;o>c;c++)for(var u=0;s>u;u++){var l=t.getDataAtCell(c,u),h=t.getCellMeta(c,u),p=h.search.callback||n,f=h.search.queryMethod||i,d=f(r,l);if(d){var m={row:c,col:u,data:l};a.push(m)}p&&p(t,c,u,l,d)}return a}},e.Search.DEFAULT_CALLBACK=function(e,t,r,n,i){e.getCellMeta(t,r).isSearchResult=i},e.Search.DEFAULT_QUERY_METHOD=function(e,t){return"undefined"!=typeof e&&null!=e&&e.toLowerCase&&0!=e.length?"undefined"==typeof t||null==t?!1:-1!=t.toString().toLowerCase().indexOf(e.toLowerCase()):!1},e.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",e.Search.global=function(){var t=e.Search.DEFAULT_CALLBACK,r=e.Search.DEFAULT_QUERY_METHOD,n=e.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return t;
},setDefaultCallback:function(e){t=e},getDefaultQueryMethod:function(){return r},setDefaultQueryMethod:function(e){r=e},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(e){n=e}}}(),e.SearchCellDecorator=function(t,r,n,i,o,s,a){var c="object"==typeof a.search&&a.search.searchResultClass||e.Search.global.getDefaultSearchResultClass();a.isSearchResult?e.Dom.addClass(r,c):e.Dom.removeClass(r,c)};var r=e.renderers.cellDecorator;e.renderers.cellDecorator=function(t,n,i,o,s,a,c){r.apply(this,arguments),e.SearchCellDecorator.apply(this,arguments)},e.hooks.add("afterInit",t),e.hooks.add("afterUpdateSettings",t)}(r),u.prototype.canMergeRange=function(e){return!e.isSingle()},u.prototype.mergeRange=function(e){if(this.canMergeRange(e)){var t=e.getTopLeftCorner(),r=e.getBottomRightCorner(),n={};n.row=t.row,n.col=t.col,n.rowspan=r.row-t.row+1,n.colspan=r.col-t.col+1,this.mergedCellInfoCollection.setInfo(n)}},u.prototype.mergeOrUnmergeSelection=function(e){var t=this.mergedCellInfoCollection.getInfo(e.from.row,e.from.col);t?this.unmergeSelection(e.from):this.mergeSelection(e)},u.prototype.mergeSelection=function(e){this.mergeRange(e)},u.prototype.unmergeSelection=function(e){var t=this.mergedCellInfoCollection.getInfo(e.row,e.col);this.mergedCellInfoCollection.removeInfo(t.row,t.col)},u.prototype.applySpanProperties=function(e,t,r){var n=this.mergedCellInfoCollection.getInfo(t,r);n?n.row===t&&n.col===r?(e.setAttribute("rowspan",n.rowspan),e.setAttribute("colspan",n.colspan)):e.style.display="none":(e.removeAttribute("rowspan"),e.removeAttribute("colspan"))},u.prototype.modifyTransform=function(e,t,r){var n=function(e,t){return t.row>=e.row&&t.row<=e.row+e.rowspan-1?!0:!1},i=function(e,t){return t.col>=e.col&&t.col<=e.col+e.colspan-1?!0:!1},o=function(e){return new f(t.to.row+e.row,t.to.col+e.col)},s={row:r.row,col:r.col};if("modifyTransformStart"==e){this.lastDesiredCoords||(this.lastDesiredCoords=new f(null,null));for(var a,c=new f(t.highlight.row,t.highlight.col),u=this.mergedCellInfoCollection.getInfo(c.row,c.col),l=0,h=this.mergedCellInfoCollection.length;h>l;l++){var p=this.mergedCellInfoCollection[l];if(p=new f(p.row+p.rowspan-1,p.col+p.colspan-1),t.includes(p)){a=!0;break}}if(u){var m=new f(u.row,u.col),g=new f(u.row+u.rowspan-1,u.col+u.colspan-1),y=new d(m,m,g);y.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new f(null,null)),s.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-c.row:s.row,s.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-c.col:s.col,r.row>0?s.row=u.row+u.rowspan-1-c.row+r.row:r.row<0&&(s.row=c.row-u.row+r.row),r.col>0?s.col=u.col+u.colspan-1-c.col+r.col:r.col<0&&(s.col=c.col-u.col+r.col)}var v=new f(t.highlight.row+s.row,t.highlight.col+s.col),b=this.mergedCellInfoCollection.getInfo(v.row,v.col);b&&(this.lastDesiredCoords=v,s={row:b.row-c.row,col:b.col-c.col})}else if("modifyTransformEnd"==e)for(var l=0,h=this.mergedCellInfoCollection.length;h>l;l++){var S=this.mergedCellInfoCollection[l],m=new f(S.row,S.col),g=new f(S.row+S.rowspan-1,S.col+S.colspan-1),w=new d(m,m,g),_=t.getBordersSharedWith(w);if(w.isEqual(t))t.setDirection("NW-SE");else if(_.length>0){var T=t.highlight.isEqual(w.from);_.indexOf("top")>-1?t.to.isSouthEastOf(w.from)&&T?t.setDirection("NW-SE"):t.to.isSouthWestOf(w.from)&&T&&t.setDirection("NE-SW"):_.indexOf("bottom")>-1&&(t.to.isNorthEastOf(w.from)&&T?t.setDirection("SW-NE"):t.to.isNorthWestOf(w.from)&&T&&t.setDirection("SE-NW"))}var v=o(s),E=n(S,v),C=i(S,v);t.includesRange(w)&&(w.includes(v)||E||C)&&(E&&(s.row<0?s.row-=S.rowspan-1:s.row>0&&(s.row+=S.rowspan-1)),C&&(s.col<0?s.col-=S.colspan-1:s.col>0&&(s.col+=S.colspan-1)))}0!=s.row&&(r.row=s.row),0!=s.col&&(r.col=s.col)},"undefined"==typeof r)throw new Error("Handsontable is not defined");var W=function(){var e=this,t=e.getSettings().mergeCells;t&&(e.mergeCells||(e.mergeCells=new u(t)))},G=function(){var e=this;e.mergeCells&&(e.view.wt.wtTable.getCell=function(t){if(e.getSettings().mergeCells){var r=e.mergeCells.mergedCellInfoCollection.getInfo(t.row,t.col);r&&(t=r)}return j.prototype.getCell.call(this,t)})},q=function(e){if(this.mergeCells){var t=(e.ctrlKey||e.metaKey)&&!e.altKey;t&&77===e.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),e.stopImmediatePropagation())}},Y=function(e){this.getSettings().mergeCells&&(e.items.push(r.ContextMenu.SEPARATOR),e.items.push({key:"mergeCells",name:function(){var e=this.getSelected(),t=this.mergeCells.mergedCellInfoCollection.getInfo(e[0],e[1]);return t?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},H=function(e,t,r,n,i,o){this.mergeCells&&this.mergeCells.applySpanProperties(e,t,r)},X=function(e){return function(t){var r=this.getSettings().mergeCells;if(r){var n=this.getSelectedRange();if(this.mergeCells.modifyTransform(e,n,t),"modifyTransformEnd"===e){var i=this.countRows(),o=this.countCols();n.from.row<0?n.from.row=0:n.from.row>0&&n.from.row>=i&&(n.from.row=n.from-1),n.from.col<0?n.from.col=0:n.from.col>0&&n.from.col>=o&&(n.from.col=o-1)}}}},K=function(e){this.lastDesiredCoords=null;var t=this.getSettings().mergeCells;if(t){var r=this.getSelectedRange();r.highlight=new f(r.highlight.row,r.highlight.col),r.to=e;var n=!1;do{n=!1;for(var i=0,o=this.mergeCells.mergedCellInfoCollection.length;o>i;i++){var s=this.mergeCells.mergedCellInfoCollection[i],a=new f(s.row,s.col),c=new f(s.row+s.rowspan-1,s.col+s.colspan-1),u=new d(a,a,c);r.expandByRange(u)&&(e.row=r.to.row,e.col=r.to.col,n=!0)}}while(n)}},Q=function(e,t){if(t&&"area"==t){var r=this.getSettings().mergeCells;if(r)for(var n=this.getSelectedRange(),i=new d(n.from,n.from,n.from),o=new d(n.to,n.to,n.to),s=0,a=this.mergeCells.mergedCellInfoCollection.length;a>s;s++){var c=this.mergeCells.mergedCellInfoCollection[s],u=new f(c.row,c.col),l=new f(c.row+c.rowspan-1,c.col+c.colspan-1),h=new d(u,u,l);i.expandByRange(h)&&(e[0]=i.from.row,e[1]=i.from.col),o.expandByRange(h)&&(e[2]=o.from.row,e[3]=o.from.col)}}},J=function(e,t,r){var n=this.getSettings().mergeCells;if(n){var i=this.mergeCells.mergedCellInfoCollection.getInfo(e,t);!i||i.row==e&&i.col==t||(r.copyable=!1)}},Z=function(e){if(e&&this.mergeCells){var t=this.mergeCells.mergedCellInfoCollection,r=this.getSelectedRange();for(var n in t)if(r.highlight.row==t[n].row&&r.highlight.col==t[n].col&&r.to.row==t[n].row+t[n].rowspan-1&&r.to.col==t[n].col+t[n].colspan-1)return!1}return e};r.hooks.add("beforeInit",W),r.hooks.add("afterInit",G),r.hooks.add("beforeKeyDown",q),r.hooks.add("modifyTransformStart",X("modifyTransformStart")),r.hooks.add("modifyTransformEnd",X("modifyTransformEnd")),r.hooks.add("beforeSetRangeEnd",K),r.hooks.add("beforeDrawBorders",Q),r.hooks.add("afterIsMultipleSelection",Z),r.hooks.add("afterRenderer",H),r.hooks.add("afterContextMenuDefaultOptions",Y),r.hooks.add("afterGetCellMeta",J),r.MergeCells=u,function(){function e(){}var t,n=function(e){return"boolean"==typeof e&&1==e?!0:"object"==typeof e&&e.length>0?!0:!1},i=function(){n(this.getSettings().customBorders)&&(this.customBorders||(t=this,this.customBorders=new e))},o=function(e){for(var r=0;r<t.view.wt.selections.length;r++)if(t.view.wt.selections[r].settings.className==e)return r;return-1},s=function(e){var r={row:e.row,col:e.col},n=new A(e,new d(r,r,r)),i=o(e.className);i>=0?t.view.wt.selections[i]=n:t.view.wt.selections.push(n)},a=function(e,t,r){var n=f(e,t);n=m(n,r),this.setCellMeta(e,t,"borders",n),s(n)},c=function(e){for(var t=e.range,r=t.from.row;r<=t.to.row;r++)for(var n=t.from.col;n<=t.to.col;n++){var i=f(r,n),o=0;r==t.from.row&&(o++,e.hasOwnProperty("top")&&(i.top=e.top)),r==t.to.row&&(o++,e.hasOwnProperty("bottom")&&(i.bottom=e.bottom)),n==t.from.col&&(o++,e.hasOwnProperty("left")&&(i.left=e.left)),n==t.to.col&&(o++,e.hasOwnProperty("right")&&(i.right=e.right)),o>0&&(this.setCellMeta(r,n,"borders",i),s(i))}},u=function(e,t){return"border_row"+e+"col"+t},l=function(){return{width:1,color:"#000"}},h=function(){return{hide:!0}},p=function(){return{width:1,color:"#000",cornerVisible:!1}},f=function(e,t){return{className:u(e,t),border:p(),row:e,col:t,top:h(),right:h(),bottom:h(),left:h()}},m=function(e,t){return t.hasOwnProperty("border")&&(e.border=t.border),t.hasOwnProperty("top")&&(e.top=t.top),t.hasOwnProperty("right")&&(e.right=t.right),t.hasOwnProperty("bottom")&&(e.bottom=t.bottom),t.hasOwnProperty("left")&&(e.left=t.left),e},g=function(e){for(var t=document.getElementsByClassName(e),r=0;r<t.length;r++)if(t[r]&&"TD"!=t[r].nodeName){var n=t[r].parentNode;n.parentNode.removeChild(n)}},y=function(e,t){var r=u(e,t);g(r),this.removeCellMeta(e,t,"borders")},v=function(e,t,r,n){var i=this.getCellMeta(e,t).borders;i&&void 0!=i.border||(i=f(e,t)),n?i[r]=h():i[r]=l(),this.setCellMeta(e,t,"borders",i);var o=u(e,t);g(o),s(i),this.render()},b=function(e,t,r){if(e.from.row==e.to.row&&e.from.col==e.to.col)"noBorders"==t?y.call(this,e.from.row,e.from.col):v.call(this,e.from.row,e.from.col,t,r);else switch(t){case"noBorders":for(var n=e.from.col;n<=e.to.col;n++)for(var i=e.from.row;i<=e.to.row;i++)y.call(this,i,n);break;case"top":for(var o=e.from.col;o<=e.to.col;o++)v.call(this,e.from.row,o,t,r);break;case"right":for(var s=e.from.row;s<=e.to.row;s++)v.call(this,s,e.to.col,t);break;case"bottom":for(var a=e.from.col;a<=e.to.col;a++)v.call(this,e.to.row,a,t);break;case"left":for(var c=e.from.row;c<=e.to.row;c++)v.call(this,c,e.from.col,t)}},S=function(e,t){var r=!1;return e.getSelectedRange().forAll(function(n,i){var o=e.getCellMeta(n,i).borders;if(o){if(!t)return r=!0,!1;if(!o[t].hasOwnProperty("hide"))return r=!0,!1}}),r},w=function(e){return"<span class='selected'>â</span>"+e},_=function(e){this.getSettings().customBorders&&(e.items.push(r.ContextMenu.SEPARATOR),e.items.push({key:"borders",name:"Borders",submenu:{items:{top:{name:function(){var e="Top",t=S(this,"top");return t&&(e=w(e)),e},callback:function(){var e=S(this,"top");b.call(this,this.getSelectedRange(),"top",e)},disabled:!1},right:{name:function(){var e="Right",t=S(this,"right");return t&&(e=w(e)),e},callback:function(){var e=S(this,"right");b.call(this,this.getSelectedRange(),"right",e)},disabled:!1},bottom:{name:function(){var e="Bottom",t=S(this,"bottom");return t&&(e=w(e)),e},callback:function(){var e=S(this,"bottom");b.call(this,this.getSelectedRange(),"bottom",e)},disabled:!1},left:{name:function(){var e="Left",t=S(this,"left");return t&&(e=w(e)),e},callback:function(){var e=S(this,"left");b.call(this,this.getSelectedRange(),"left",e)},disabled:!1},remove:{name:"Remove border(s)",callback:function(){b.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!S(this)}}}}}))};r.hooks.add("beforeInit",i),r.hooks.add("afterContextMenuDefaultOptions",_),r.hooks.add("afterInit",function(){var e=this.getSettings().customBorders;if(e){for(var t=0;t<e.length;t++)e[t].range?c.call(this,e[t]):a.call(this,e[t].row,e[t].col,e[t]);this.render(),this.view.wt.draw(!0)}}),r.CustomBorders=e}(),function(r){function n(){function n(e){U=this,f=e;var t=this.view.wt.wtTable.getCoords(e).row;if(t>=0){p=t;var r=f.getBoundingClientRect();h=r.top,d.style.top=h+"px",d.style.left=r.left+"px",U.rootElement[0].appendChild(d)}}function i(e){var t=e.getBoundingClientRect();d.style.top=t.top+"px"}function o(){var e=this;r.Dom.addClass(d,"active"),r.Dom.addClass(m,"active");var t=f.getBoundingClientRect();m.style.width=e.view.maximumVisibleElementWidth(0)+"px",m.style.height=t.height+"px",m.style.top=h+"px",m.style.left=d.style.left,e.rootElement[0].appendChild(m)}function s(e){m.style.top=h+e+"px"}function a(){r.Dom.removeClass(d,"active"),r.Dom.removeClass(m,"active")}var c,u,l,h,p,f,d=document.createElement("DIV"),m=document.createElement("DIV"),g=e(t);d.className="manualRowMover",m.className="manualRowMoverGuide";var y=function(){var e=this;r.hooks.run(e,"persistentStateSave","manualRowPositions",e.manualRowPositions)},v=function(){var e=this,t={};return r.hooks.run(e,"persistentStateLoad","manualRowPositions",t),t.value},b=function(){var e,t=this;t.rootElement.on("mouseenter.manualRowMove."+t.guid,"table tbody tr > th",function(r){e?(u=t.view.wt.wtTable.getCoords(r.currentTarget).row,i(r.currentTarget)):n.call(t,r.currentTarget)}),t.rootElement.on("mousedown.manualRowMove."+t.guid,".manualRowMover",function(r){l=r.pageY,o.call(t),e=t,c=p,u=p}),g.on("mousemove.manualRowMove."+t.guid,function(t){e&&s(t.pageY-l)}),g.on("mouseup.manualRowMove."+t.guid,function(){e&&(a(),e=!1,u>c&&u--,w(t.manualRowPositions,t.countRows()),t.manualRowPositions.splice(u,0,t.manualRowPositions.splice(c,1)[0]),t.forceFullRender=!0,t.view.render(),y.call(t),r.hooks.run(t,"afterRowMove",c,u),n.call(t,f))}),t.addHook("afterDestroy",S)},S=function(){var e=this;e.rootElement.off("mouseenter.manualRowMove."+e.guid,"table tbody tr > th"),e.rootElement.off("mousedown.manualRowMove."+e.guid,".manualRowMover"),g.off("mousemove.manualRowMove."+e.guid),g.off("mouseup.manualRowMove."+e.guid)},w=function(e,t){if(e.length<t)for(var r=e.length;t>r;r++)e[r]=r};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(e){var t=this,r=!!t.getSettings().manualRowMove;if(r){var n=t.getSettings().manualRowMove,i=v.call(t);"undefined"!=typeof i?this.manualRowPositions=i:n instanceof Array?this.manualRowPositions=n:this.manualRowPositions=[],"afterInit"===e&&(b.call(this),this.manualRowPositions.length>0&&(t.forceFullRender=!0,t.render()))}else S.call(this),t.manualRowPositions=[]},this.modifyRow=function(e){var t=this;return t.getSettings().manualRowMove?("undefined"==typeof t.manualRowPositions[e]&&w(this.manualRowPositions,e+1),t.manualRowPositions[e]):e}}var i=new n;r.hooks.add("beforeInit",i.beforeInit),r.hooks.add("afterInit",function(){i.init.call(this,"afterInit")}),r.hooks.add("afterUpdateSettings",function(){i.init.call(this,"afterUpdateSettings")}),r.hooks.add("modifyRow",i.modifyRow),r.hooks.register("afterRowMove")}(r),function(r){function n(n){this.instance=n,this.addingStarted=!1;var i,o,s=(e(document),!1),a=this,c=function(e){return n.autofill?void(n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged>1&&n.autofill.apply(),n.autofill.handle.isDragged=0,s=!1)):!0};e(document).off("mouseup.autofill."+n.guid,this.instance.rootElement).on("mouseup.autofill."+n.guid,this.instance.rootElement,function(e){c(e)}),e(document).off("mousemove.moveOutside_"+n.guid).on("mousemove.moveOutside_"+n.guid,function(e){if(!a.instance.autofill)return 0;var n=r.Dom.offset(a.instance.$table[0]).top-(t.pageYOffset||document.documentElement.scrollTop)+r.Dom.outerHeight(a.instance.$table[0]),i=r.Dom.offset(a.instance.$table[0]).left-(t.pageXOffset||document.documentElement.scrollLeft)+r.Dom.outerWidth(a.instance.$table[0]);a.addingStarted===!1&&a.instance.autofill.handle.isDragged>0&&e.clientY>n&&e.clientX<=i?(this.mouseDragOutside=!0,a.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&setTimeout(function(){a.addingStarted=!1,a.instance.alter("insert_row")},200)}),i=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(e){n.autofill.handle.isDragged=1,s=!0,i(e)},o=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(e,t,r,i){n.autofill&&s&&!n.view.isMouseDown()&&n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged++,n.autofill.showBorder(t),n.autofill.checkIfNewRowNeeded()),o(e,t,r,i)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){n.autofill.selectAdjacent()}}n.prototype.init=function(){this.handle={}},n.prototype.disable=function(){this.handle.disabled=!0},n.prototype.selectAdjacent=function(){var e,t,r,n,i;e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),t=this.instance.getData();e:for(r=e[2]+1;r<this.instance.countRows();r++){for(i=e[1];i<=e[3];i++)if(t[r][i])break e;(t[r][e[1]-1]||t[r][e[3]+1])&&(n=r)}n&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new f(e[0],e[1])),this.instance.view.wt.selections.fill.add(new f(n,e[3])),this.apply())},n.prototype.apply=function(){var e,t,n,i,o;if(this.handle.isDragged=0,e=this.instance.view.wt.selections.fill.getCorners())if(this.instance.view.wt.selections.fill.clear(),t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e[0]===t[0]&&e[1]<t[1]?(n=new f(e[0],e[1]),i=new f(e[2],t[1]-1)):e[0]===t[0]&&e[3]>t[3]?(n=new f(e[0],t[3]+1),i=new f(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(n=new f(e[0],e[1]),i=new f(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(n=new f(t[2]+1,e[1]),i=new f(e[2],e[3])),n&&n.row>-1&&n.col>-1){var s={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to};o=this.instance.getData(s.from.row,s.from.col,s.to.row,s.to.col),r.hooks.run(this.instance,"beforeAutofill",n,i,o),this.instance.populateFromArray(n.row,n.col,o,i.row,i.col,"autofill"),this.instance.selection.setRangeStart(new f(e[0],e[1])),this.instance.selection.setRangeEnd(new f(e[2],e[3]))}else this.instance.selection.refreshBorders()},n.prototype.showBorder=function(e){var t=this.instance.getSelectedRange().getTopLeftCorner(),r=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(r.row<e.row||t.row>e.row))e=new f(e.row,r.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;e=new f(r.row,e.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(e),this.instance.view.render()},n.prototype.checkIfNewRowNeeded=function(){var e,t,r=this.instance.countRows(),n=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(t=this.instance.getSelected(),e=this.instance.view.wt.selections.fill.getCorners(),t[2]<r-1&&e[2]===r-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){n.instance.alter("insert_row"),n.addingStarted=!1},200))))},r.hooks.add("afterInit",function(){var e=new n(this);"undefined"!=typeof this.getSettings().fillHandle&&(e.handle&&this.getSettings().fillHandle===!1?e.disable():e.handle||this.getSettings().fillHandle===!1||(this.autofill=e,this.autofill.init()))}),r.Autofill=n}(r);var ee=function(e){var t=[],n={rows:0,cols:0},i={rows:0,cols:0},o=[],s=[],a={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(e){return"ht"+e+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(e){return"htCollapse-"+e},collapseFromLevel:function(e,t){return"htCollapse"+e+"FromLevel-"+t},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},c=function(e,t){return function(r,n){return"undefined"==typeof t||"asc"===t?r[e]-n[e]:n[e]-r[e]}},u=function(e,t){for(var r=[];t>=e;)r.push(e++);return r},l=function(e,t,r){var n=[],i={row:null,col:null};if("cols"==e)for(;r>=t;)i={row:-1,col:t++},n.push(i);else for(;r>=t;)i={row:t++,col:-1},n.push(i);for(var o=h(n),s=0,a=0,c=0;c<o.length;c++)s+=o[c].filter(function(e){return e.rows}).length,a+=o[c].filter(function(e){return e.cols}).length;return{total:{rows:s,cols:a},groups:o}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(p(e[r]));return t},p=function(e,r,n){for(var i=e.row,o=e.col,s=-1===i?0:i,a=-1===o?0:o,c=[],u=0;u<t.length;u++){var l=t[u],h=l.id,p=(l.level,l.rows||[]),f=l.cols||[];-1===c.indexOf(h)&&(-1!==p.indexOf(s)||-1!==f.indexOf(a))&&c.push(l)}-1===o?c=c.concat(y()):-1===i&&(c=c.concat(b())),r&&(c=c.filter(function(e){return e.level===r})),n&&("cols"===n?c=c.filter(function(e){return e.cols}):"rows"===n&&(c=c.filter(function(e){return e.rows})));var d=[];return c.filter(function(e){return-1===d.indexOf(e.id)?(d.push(e.id),e):void 0})},d=function(e){for(var r=0,n=t.length;n>r;r++)if(t[r].id==e)return t[r];return!1},m=function(e,r){for(var n=0,i=t.length;i>n;n++)if(t[n].level==r&&t[n].rows&&t[n].rows.indexOf(e)>-1)return t[n];return!1},g=function(e,r){for(var n=0,i=t.length;i>n;n++)if(t[n].level==r&&t[n].cols&&t[n].cols.indexOf(e)>-1)return t[n];return!1},y=function(){for(var e=[],r=0,n=t.length;n>r;r++)t[r].cols instanceof Array&&e.push(t[r]);return e},v=function(e){for(var r=[],n=0,i=t.length;i>n;n++)t[n].cols&&t[n].level===e&&r.push(t[n]);return r},b=function(){for(var e=[],r=0,n=t.length;n>r;r++)t[r].rows instanceof Array&&e.push(t[r]);return e},S=function(e){for(var r=[],n=0,i=t.length;i>n;n++)t[n].rows&&t[n].level===e&&r.push(t[n]);return r},w=function(e){var t=0;return e.length&&e.forEach(function(e){if(e=e.filter(function(e){return e.cols}),e.length){var r=e.sort(c("level","desc")),n=r[0].level;n>t&&(t=n)}}),t},_=function(e){var t=0;return e.length&&e.forEach(function(e){if(e=e.filter(function(e){return e.rows}),e.length){var r=e.sort(c("level","desc")),n=r[0].level;n>t&&(t=n)}}),t},T=function(e,r){var o=l("cols",e,r),s=w(o.groups);s===i.cols?i.cols++:s>i.cols&&(i.cols=s+1),n.cols||(n.cols=y().length),n.cols++,t.push({id:"c"+n.cols,level:s+1,cols:u(e,r),hidden:0})},E=function(e,r){var o=l("rows",e,r),s=_(o.groups);i.rows=Math.max(i.rows,s+1),n.rows||(n.rows=b().length),n.rows++,t.push({id:"r"+n.rows,level:s+1,rows:u(e,r),hidden:0})},C=function(e,t){for(var r,n=0,i=t.length;i>n;n++)if(t[n].hidden=e,r=t[n].level,o[r]||(o[r]=[]),s[r]||(s[r]=[]),t[n].rows)for(var a=0,c=t[n].rows.length;c>a;a++)e>0?o[r][t[n].rows[a]]=!0:o[r][t[n].rows[a]]=void 0;else if(t[n].cols)for(var a=0,u=t[n].cols.length;u>a;a++)e>0?s[r][t[n].cols[a]]=!0:s[r][t[n].cols[a]]=void 0},x=function(e,t,n,i){var o,s;switch(e){case"rows":o=m(t+1,n).id,s=r.Grouping.getGroupLevelsByRows();break;case"cols":o=g(t+1,n).id,s=r.Grouping.getGroupLevelsByCols()}return!!(s[t+1]&&s[t+1].indexOf(n)>-1&&i==o)},R=function(e,t,n,i){var o,s;switch(e){case"rows":o=m(t-1,n).id,s=r.Grouping.getGroupLevelsByRows();break;case"cols":o=g(t-1,n).id,s=r.Grouping.getGroupLevelsByCols()}return!!(s[t-1]&&s[t-1].indexOf(n)>-1&&i==o)},A=function(t,n,a,c){if(0===n)return!1;var u,l,h=R(t,n,a,c),p=x(t,n,a,c),f=!1;switch(t){case"rows":u=r.Grouping.getGroupLevelsByRows(),l=e.countRows();for(var d=0;d<=i.rows;d++)if(o[d]&&o[d][n+1]){f=!0;break}break;case"cols":u=r.Grouping.getGroupLevelsByCols(),l=e.countCols();for(var d=0;d<=i.cols;d++)if(s[d]&&s[d][n+1]){f=!0;break}}if(h){if(n==l-1)return!0;if(!p||p&&f)return!0;if(!u[n+1])return!0}return!1},O=function(t){var r;switch(t){case"rows":r=i.rows;for(var n=0;r>=n;n++)if(o[n]&&o[n][e.countRows()-1])return!0;break;case"cols":r=i.cols;for(var n=0;r>=n;n++)if(s[n]&&s[n][e.countCols()-1])return!0}return!1},j=function(t,n,a,c){var u,l,h,p=d(c),f=!1,m=function(e){for(var t=!1,r="rows"==e?o:s,a=0;a<=i[e];a++){for(h=n;p[e].indexOf(h)>-1;)t=!(!r[a]||!r[a][h]),h--;if(t)break}return t},g=R(t,n,a,c),y=x(t,n,a,c);switch(t){case"rows":u=r.Grouping.getGroupLevelsByRows(),l=e.countRows(),f=m(t);break;case"cols":u=r.Grouping.getGroupLevelsByCols(),l=e.countCols(),f=m(t)}if(n==l-1)return!1;if(0==n){if(y)return!0}else if(!g||g&&f){if(y)return!0}else if(!u[n-1]&&y)return!0;return!1},k=function(e,t,n,i,o){var s;switch(e){case"rows":s=m(t-1,n).id;break;case"cols":s=g(t-1,n).id}if(!s)return null;if(t>0&&R(e,t-1,n,s)&&s!=i){var c=document.createElement("DIV");return r.Dom.addClass(c,a.expandButton),c.id="htExpand-"+s,c.appendChild(document.createTextNode("+")),c.setAttribute("data-level",n),c.setAttribute("data-type",e),c.setAttribute("data-hidden","1"),o.appendChild(c),c}return null},P=function(e){for(var t=b(),r=y(),n=0,i=t.length;i>n;n++)if(t[n].rows.indexOf(e.row)>-1&&t[n].hidden)return!0;if(null===e.col)return!1;for(var n=0,o=r.length;o>n;n++)if(r[n].cols.indexOf(e.col)>-1&&r[n].hidden)return!0;return!1};return{getGroups:function(){return t},getLevels:function(){return i},instance:e,baseSpareRows:e.getSettings().minSpareRows,baseSpareCols:e.getSettings().minSpareCols,getRowGroups:b,getColGroups:y,init:function(){var t=e.getSettings().groups;t&&t instanceof Array&&r.Grouping.initGroups(t)},initGroups:function(e){t=[],e.forEach(function(e){var t=[],r=!1,n=!1;e.rows instanceof Array?(t=e.rows,r=!0):e.cols instanceof Array&&(t=e.cols,n=!0);var i=t[0],o=t[t.length-1];r?E(i,o):n&&T(i,o)})},resetGroups:function(){t=[],n={rows:0,cols:0},i={rows:0,cols:0};var e;for(var o in a)if("function"!=typeof a[o]){e=document.querySelectorAll("."+a[o]);for(var s=0,c=e.length;c>s;s++)r.Dom.removeClass(e[s],a[o])}for(var u=["htGroupColClosest","htGroupCol"],o=0,l=u.length;l>o;o++){e=document.querySelectorAll("."+u[o]);for(var s=0,c=e.length;c>s;s++)r.Dom.removeClass(e[s],u[o])}},updateGroups:function(){var e=this.getSettings().groups;r.Grouping.resetGroups(),r.Grouping.initGroups(e)},afterGetRowHeader:function(e,t){for(var n=!1,i=0,s=o.length;s>i;i++)o[i]&&o[i][e]===!0&&(n=!0);n?r.Dom.addClass(t.parentNode,"hidden"):!n&&r.Dom.hasClass(t.parentNode,"hidden")&&r.Dom.removeClass(t.parentNode,"hidden")},afterGetColHeader:function(t,n){var i=this.view.wt.wtSettings.getSetting("rowHeaders").length,o=e.rootElement[0].querySelectorAll("colgroup col:nth-child("+parseInt(t+i+1,10)+")");if(0!==o.length){for(var a=!1,c=0,u=s.length;u>c;c++)s[c]&&s[c][t]===!0&&(a=!0);if(a)for(var c=0,l=o.length;l>c;c++)r.Dom.addClass(o[c],"hidden");else if(!a&&r.Dom.hasClass(o[0],"hidden"))for(var c=0,l=o.length;l>c;c++)r.Dom.removeClass(o[c],"hidden")}},groupIndicatorsFactory:function(e,t){var o,s,c,u,l,h,p,f;switch(t){case"horizontal":o=r.Grouping.getGroupLevelsByCols(),s=function(e){return Array.prototype.indexOf.call(e.parentNode.parentNode.childNodes,e.parentNode)+1},c=function(e,t){return g(e,t).id},u="cols",l=function(e,t){return g(e-1,t)},h="columnHeaders",p=function(e){if(1===e.length){var t=e[0];e[0]=function(e,n,i){-1>e?y()(e,n,i):(r.Dom.removeClass(n,a.groupIndicatorContainer),t(e,n,i))}}return function(){return e}},f=!0;break;case"vertical":o=r.Grouping.getGroupLevelsByRows(),s=function(e){return r.Dom.index(e)+1},c=function(e,t){return m(e,t).id},u="rows",l=function(e,t){return m(e-1,t)},h="rowHeaders",p=function(e){return e}}var d=function(e){var t=document.createElement("div");return e.appendChild(t),{button:t,addClass:function(e){r.Dom.addClass(t,e)}}},y=function(){var e=t.charAt(0).toUpperCase()+t.slice(1);return function(t,n,i){i++;for(var s,h;s=n.lastChild;)n.removeChild(s);r.Dom.addClass(n,a.groupIndicatorContainer);var p=c(t,i);if(t>-1&&o[t]&&o[t].indexOf(i)>-1&&(h=d(n),h.addClass(a.groupIndicator(e)),j(u,t,i,p)&&h.addClass(a.groupStart),A(u,t,i,p)&&(h.button.appendChild(document.createTextNode("-")),h.addClass(a.collapseButton),h.button.id=a.collapseGroupId(p),h.button.setAttribute("data-level",i),h.button.setAttribute("data-type",u))),f){var m=r.Dom.index(n.parentNode);if(-1===t||-1>t&&m===r.Grouping.getLevels().cols+1||0==m&&0==r.Grouping.getLevels().cols)if(h=d(n),h.addClass(a.levelTrigger),-1===t)h.button.id=a.collapseFromLevel("Cols",i),h.button.appendChild(document.createTextNode(i));else if(-1>t&&m===r.Grouping.getLevels().cols+1||0==m&&0==r.Grouping.getLevels().cols){var g=r.Dom.index(n)+1;h.button.id=a.collapseFromLevel("Rows",g),h.button.appendChild(document.createTextNode(g))}}var y=k(u,t,i,p,n);if(t>0){var v=l(t-1,i);y&&v.hidden&&r.Dom.addClass(y,a.clickable)}te()}};if(e=p(e),n[u]>0)for(var v=0;v<i[u]+1;v++)e instanceof Array||(e="function"==typeof e?e():new Array(e)),e.unshift(y())},getGroupLevelsByRows:function(){for(var e=b(),t=[],r=0,n=e.length;n>r;r++)if(e[r].rows)for(var i=0,o=e[r].rows.length;o>i;i++)t[e[r].rows[i]]||(t[e[r].rows[i]]=[]),t[e[r].rows[i]].push(e[r].level);return t},getGroupLevelsByCols:function(){for(var e=y(),t=[],r=0,n=e.length;n>r;r++)if(e[r].cols)for(var i=0,o=e[r].cols.length;o>i;i++)t[e[r].cols[i]]||(t[e[r].cols[i]]=[]),t[e[r].cols[i]].push(e[r].level);return t},toggleGroupVisibility:function(t,n,o){if(r.Dom.hasClass(t.target,a.expandButton)||r.Dom.hasClass(t.target,a.collapseButton)||r.Dom.hasClass(t.target,a.levelTrigger)){var s,c,u,l,h=t.target,p=h.id.split("-"),f=[],m=function(e){e&&(h=e),p=h.id.split("-"),s=p[1],c=parseInt(h.getAttribute("data-level"),10),u=h.getAttribute("data-type"),l=parseInt(h.getAttribute("data-hidden")),l=isNaN(l)?1:l?0:1,h.setAttribute("data-hidden",l.toString()),f.push(d(s))};if(h.className.indexOf(a.levelTrigger)>-1){for(var g,y=[],b=[],w=h.id.indexOf("Rows")>-1?"rows":"cols",_=1,T=i[w];T>=_;_++)if(g="rows"==w?S(_):v(_),_>=parseInt(p[1],10))for(var E=0,x=g.length;x>E;E++)b.push(g[E]);else for(var E=0,x=g.length;x>E;E++)y.push(g[E]);C(!0,b),C(!1,y)}else m(),C(l,f);u=u||w;var R=O(u),A=u.charAt(0).toUpperCase()+u.slice(1),j=r.Grouping["baseSpare"+A];R?0==j&&(e.alter("insert_"+u.slice(0,-1),e["count"+A]()),r.Grouping["dummy"+u.slice(0,-1)]=!0):0==j&&r.Grouping["dummy"+u.slice(0,-1)]&&(e.alter("remove_"+u.slice(0,-1),e["count"+A]()-1),r.Grouping["dummy"+u.slice(0,-1)]=!1),e.render(),t.stopImmediatePropagation()}},modifySelectionFactory:function(e){var t,r=this.instance,n=new f(0,0),i=function(e,t){var r=0;switch(e){case"down":for(;P(t);)r++,t.row+=1;break;case"up":for(;P(t);)r--,t.row-=1;break;case"right":for(;P(t);)r++,t.col+=1;break;case"left":for(;P(t);)r--,t.col-=1}return r},o=function(e,t){e.row>0?P(t)&&(e.row+=i("down",t)):e.row<0&&P(t)&&(e.row+=i("up",t)),e.col>0?P(t)&&(e.col+=i("right",t)):e.col<0&&P(t)&&(e.col+=i("left",t))};switch(e){case"start":return function(e){t=r.getSelected(),n.row=t[0]+e.row,n.col=t[1]+e.col,o(e,n)};case"end":return function(e){t=r.getSelected(),n.row=t[2]+e.row,n.col=t[3]+e.col,o(e,n)}}},modifyRowHeight:function(t,r){return e.view.wt.wtTable.rowFilter&&P({row:r,col:null})?0:void 0},validateGroups:function(){for(var t=function(e,t){return e[0]<t[0]&&e[1]<t[1]&&t[0]<=e[1]||e[0]>t[0]&&t[1]<e[1]&&e[0]<=t[1]?!0:void 0},r=e.getSettings().groups,n=[],i=[],o=0,s=r.length;s>o;o++)if(r[o].rows){if(1===r[o].rows.length)throw new Error("Grouping error:  Group {"+r[o].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===r[o].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");i.push(r[o].rows);for(var a=0,c=i.length;c>a;a++)if(t(r[o].rows,i[a]))throw new Error("Grouping error:  ranges {"+r[o].rows[0]+", "+r[o].rows[1]+"} and {"+i[a][0]+", "+i[a][1]+"} are overlapping.")}else if(r[o].cols){if(1===r[o].cols.length)throw new Error("Grouping error:  Group {"+r[o].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===r[o].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");n.push(r[o].cols);for(var a=0,u=n.length;u>a;a++)if(t(r[o].cols,n[a]))throw new Error("Grouping error:  ranges {"+r[o].cols[0]+", "+r[o].cols[1]+"} and {"+n[a][0]+", "+n[a][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(e){r.Grouping.groupIndicatorsFactory(e,"vertical")},afterGetColumnHeaderRenderers:function(e){r.Grouping.groupIndicatorsFactory(e,"horizontal")},hookProxy:function(t,n){return function(){return e.getSettings().groups?n?r.Grouping[t](n).apply(this,arguments):r.Grouping[t].apply(this,arguments):void 0}}}},B=function(){var e=this,t=!!e.getSettings().groups;if(t){var n={};r.Grouping=new ee(e),e.getSettings().rowHeaders||(n.rowHeaders=!0),e.getSettings().colHeaders||(n.colHeaders=!0),(n.colHeaders||n.rowHeaders)&&e.updateSettings(n);var i=r.Grouping.validateGroups();if(!i)return;e.addHook("beforeInit",r.Grouping.hookProxy("init")),e.addHook("afterUpdateSettings",r.Grouping.hookProxy("updateGroups")),e.addHook("afterGetColumnHeaderRenderers",r.Grouping.hookProxy("afterGetColumnHeaderRenderers")),e.addHook("afterGetRowHeaderRenderers",r.Grouping.hookProxy("afterGetRowHeaderRenderers")),e.addHook("afterGetRowHeader",r.Grouping.hookProxy("afterGetRowHeader")),
e.addHook("afterGetColHeader",r.Grouping.hookProxy("afterGetColHeader")),e.addHook("beforeOnCellMouseDown",r.Grouping.hookProxy("toggleGroupVisibility")),e.addHook("modifyTransformStart",r.Grouping.hookProxy("modifySelectionFactory","start")),e.addHook("modifyTransformEnd",r.Grouping.hookProxy("modifySelectionFactory","end")),e.addHook("modifyRowHeight",r.Grouping.hookProxy("modifyRowHeight"))}},te=function(){for(var e=document.querySelectorAll("colgroup"),t=0,n=e.length;n>t;t++){var i=e[t].querySelectorAll("col.rowHeader");if(0==i.length)return;for(var o=0,s=i.length+1;s>o;o++){if(2==s)return;o<r.Grouping.getLevels().rows+1&&(o==r.Grouping.getLevels().rows?r.Dom.addClass(i[o],"htGroupColClosest"):r.Dom.addClass(i[o],"htGroupCol"))}}};if(r.hooks.add("beforeInit",B),r.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!r.Grouping?B.call(this,arguments):!this.getSettings().groups&&r.Grouping&&(r.Grouping.resetGroups(),r.Grouping=void 0)}),r.plugins.Grouping=ee,function(t){function r(){this.zeroClipboardInstance=null,this.instance=null}r.prototype.prepareZeroClipboard=function(){this.swfPath&&ZeroClipboard.config({swfPath:this.swfPath})},r.prototype.copy=function(){return this.instance.copyPaste.setCopyableText(),this.instance.copyPaste.copyPasteInstance.elTextarea.value},r.prototype.addToContextMenu=function(e){this.getSettings().contextMenuCopyPaste&&e.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},t.ContextMenu.SEPARATOR)},r.prototype.setupZeroClipboard=function(e){var r=this;if(this.cmInstance=e,t.Dom.hasClass(this.cmInstance.rootElement[0],"htContextMenu"))for(var i=e.getData(),o=0,s=i.length;s>o;o++)if("copy"===i[o].key){this.zeroClipboardInstance=new ZeroClipboard(e.getCell(o,0)),this.zeroClipboardInstance.off(),this.zeroClipboardInstance.on("copy",function(e){var t=e.clipboardData;t.setData("text/plain",r.copy()),r.instance.getSettings().outsideClickDeselects=r.outsideClickDeselectsCache}),n.bindEvents();break}},r.prototype.bindEvents=function(){var r=this;r.cmInstance&&(e(document).off("mouseenter."+r.cmInstance.guid).on("mouseenter."+r.cmInstance.guid,"#global-zeroclipboard-flash-bridge",function(e){var n=r.cmInstance.rootElement[0].querySelector("td.current");n&&t.Dom.removeClass(n,"current"),r.outsideClickDeselectsCache=r.instance.getSettings().outsideClickDeselects,r.instance.getSettings().outsideClickDeselects=!1}),e(document).off("mouseleave."+r.cmInstance.guid).on("mouseleave."+r.cmInstance.guid,"#global-zeroclipboard-flash-bridge",function(e){var n=r.cmInstance.rootElement[0].querySelector("td.zeroclipboard-is-hover");n&&t.Dom.removeClass(n,"zeroclipboard-is-hover"),r.instance.getSettings().outsideClickDeselects=r.outsideClickDeselectsCache}))},r.prototype.init=function(){if(this.getSettings().contextMenuCopyPaste){if("object"==typeof this.getSettings().contextMenuCopyPaste&&(n.swfPath=this.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof ZeroClipboard)throw new Error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){if("undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"])throw new Error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}n.instance=this,n.prepareZeroClipboard()}};var n=new r;t.hooks.add("afterRender",function(){n.setupZeroClipboard(this)}),t.hooks.add("afterInit",n.init),t.hooks.add("afterContextMenuDefaultOptions",n.addToContextMenu),t.ContextMenuCopyPaste=r}(r),l.prototype.init=function(){this.TABLE=this.instance.wtTable.TABLE,this.fixed=this.instance.wtTable.hider,this.fixedContainer=this.instance.wtTable.holder,this.scrollHandler=this.getScrollableElement(this.TABLE),this.$scrollHandler=e(this.scrollHandler)},l.prototype.makeClone=function(e){var t=document.createElement("DIV");t.className="ht_clone_"+e+" handsontable",t.style.position="absolute",t.style.overflow="hidden";var r=document.createElement("TABLE");return r.className=this.instance.wtTable.TABLE.className,t.appendChild(r),this.instance.wtTable.holder.parentNode.appendChild(t),new y({cloneSource:this.instance,cloneOverlay:this,table:r})},l.prototype.getScrollableElement=function(e){for(var r=e.parentNode;r&&r.style;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;if(this instanceof C&&"visible"!==r.style.overflowX&&""!==r.style.overflowX)return r;r=r.parentNode}return t},l.prototype.refresh=function(e){this.clone&&this.clone.draw(e)},l.prototype.destroy=function(){this.$scrollHandler.off("."+this.clone.guid),e(t).off("."+this.clone.guid),e(document).off("."+this.clone.guid),e(document.body).off("."+this.clone.guid)},h.prototype.getSize=function(e){return this.cellSizes[e]},h.prototype.getContainerSize=function(e){return"function"==typeof this.containerSizeFn?this.containerSizeFn(e):this.containerSizeFn},h.prototype.countVisible=function(){return this.cellCount},h.prototype.isLastIncomplete=function(){return this.remainingSize>0},p.prototype.appear=function(e){var t,n,i,o,s,a,c,u,l,h,p,d;if(!this.disabled){var m,g,y,v,b,S,w,_=this.instance;for(S=_.cloneOverlay instanceof x||_.cloneOverlay instanceof E?_.getSetting("fixedRowsTop"):_.wtTable.getRowStrategy().countVisible(),b=0;S>b;b++)if(w=_.wtTable.rowFilter.visibleToSource(b),w>=e[0]&&w<=e[2]){m=w;break}for(b=S-1;b>=0;b--)if(w=_.wtTable.rowFilter.visibleToSource(b),w>=e[0]&&w<=e[2]){y=w;break}for(S=_.cloneOverlay instanceof C||_.cloneOverlay instanceof E?_.getSetting("fixedColumnsLeft"):_.wtTable.getColumnStrategy().cellCount,b=0;S>b;b++)if(w=_.wtTable.columnFilter.visibleToSource(b),w>=e[1]&&w<=e[3]){g=w;break}for(b=S-1;b>=0;b--)if(w=_.wtTable.columnFilter.visibleToSource(b),w>=e[1]&&w<=e[3]){v=w;break}if(void 0===m||void 0===g)return void this.disappear();t=m!==y||g!==v,n=_.wtTable.getCell(new f(m,g)),i=t?_.wtTable.getCell(new f(y,v)):n,o=r.Dom.offset(n),s=t?r.Dom.offset(i):o,a=r.Dom.offset(_.wtTable.TABLE),u=o.top,p=s.top+r.Dom.outerHeight(i)-u,h=o.left,d=s.left+r.Dom.outerWidth(i)-h,c=u-a.top-1,l=h-a.left-1;var T=r.Dom.getComputedStyle(n);parseInt(T.borderTopWidth,10)>0&&(c+=1,p=p>0?p-1:0),parseInt(T.borderLeftWidth,10)>0&&(l+=1,d=d>0?d-1:0),this.topStyle.top=c+"px",this.topStyle.left=l+"px",this.topStyle.width=d+"px",this.topStyle.display="block",this.leftStyle.top=c+"px",this.leftStyle.left=l+"px",this.leftStyle.height=p+"px",this.leftStyle.display="block";var R=Math.floor(this.settings.border.width/2);this.bottomStyle.top=c+p-R+"px",this.bottomStyle.left=l+"px",this.bottomStyle.width=d+"px",this.bottomStyle.display="block",this.rightStyle.top=c+"px",this.rightStyle.left=l+d-R+"px",this.rightStyle.height=p+1+"px",this.rightStyle.display="block",this.hasSetting(this.settings.border.cornerVisible)?(this.cornerStyle.top=c+p-4+"px",this.cornerStyle.left=l+d-4+"px",this.cornerStyle.display="block"):this.cornerStyle.display="none"}},p.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none"},p.prototype.hasSetting=function(e){return"function"==typeof e?e():!!e},f.prototype.isValid=function(e){return this.row<0||this.col<0?!1:this.row>=e.getSetting("totalRows")||this.col>=e.getSetting("totalColumns")?!1:!0},f.prototype.isEqual=function(e){return e===this?!0:this.row===e.row&&this.col===e.col},f.prototype.isSouthEastOf=function(e){return this.row>=e.row&&this.col>=e.col},f.prototype.isNorthWestOf=function(e){return this.row<=e.row&&this.col<=e.col},f.prototype.isSouthWestOf=function(e){return this.row>=e.row&&this.col<=e.col},f.prototype.isNorthEastOf=function(e){return this.row<=e.row&&this.col>=e.col},t.WalkontableCellCoords=f,d.prototype.isValid=function(e){return this.from.isValid(e)&&this.to.isValid(e)},d.prototype.isSingle=function(){return this.from.row===this.to.row&&this.from.col===this.to.col},d.prototype.includes=function(e){var t=this.getTopLeftCorner(),r=this.getBottomRightCorner();return e.row<0&&(e.row=0),e.col<0&&(e.col=0),t.row<=e.row&&r.row>=e.row&&t.col<=e.col&&r.col>=e.col},d.prototype.includesRange=function(e){return this.includes(e.getTopLeftCorner())&&this.includes(e.getBottomRightCorner())},d.prototype.isEqual=function(e){return Math.min(this.from.row,this.to.row)==Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(e.from.col,e.to.col)},d.prototype.overlaps=function(e){return e.isSouthEastOf(this.getTopLeftCorner())&&e.isNorthWestOf(this.getBottomRightCorner())},d.prototype.isSouthEastOf=function(e){return this.getTopLeftCorner().isSouthEastOf(e)||this.getBottomRightCorner().isSouthEastOf(e)},d.prototype.isNorthWestOf=function(e){return this.getTopLeftCorner().isNorthWestOf(e)||this.getBottomRightCorner().isNorthWestOf(e)},d.prototype.expand=function(e){var t=this.getTopLeftCorner(),r=this.getBottomRightCorner();return e.row<t.row||e.col<t.col||e.row>r.row||e.col>r.col?(this.from=new f(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=new f(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1},d.prototype.expandByRange=function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var t=this.getTopLeftCorner(),r=this.getBottomRightCorner(),n=(this.getTopRightCorner(),this.getBottomLeftCorner(),e.getTopLeftCorner()),i=e.getBottomRightCorner(),o=Math.min(t.row,n.row),s=Math.min(t.col,n.col),a=Math.max(r.row,i.row),c=Math.max(r.col,i.col),u=new f(o,s),l=new f(a,c),h=new d(u,u,l).isCorner(this.from,e),p=e.isEqual(new d(u,u,l));return h&&!p&&(this.from.col>u.col&&(u.col=c,l.col=s),this.from.row>u.row&&(u.row=a,l.row=o)),this.from=u,this.to=l,!0},d.prototype.getDirection=function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},d.prototype.setDirection=function(e){switch(e){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},d.prototype.getTopLeftCorner=function(){return new f(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},d.prototype.getBottomRightCorner=function(){return new f(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},d.prototype.getTopRightCorner=function(){return new f(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},d.prototype.getBottomLeftCorner=function(){return new f(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},d.prototype.isCorner=function(e,t){return t&&t.includes(e)&&(this.getTopLeftCorner().isEqual(new f(t.from.row,t.from.col))||this.getTopRightCorner().isEqual(new f(t.from.row,t.to.col))||this.getBottomLeftCorner().isEqual(new f(t.to.row,t.from.col))||this.getBottomRightCorner().isEqual(new f(t.to.row,t.to.col)))?!0:e.isEqual(this.getTopLeftCorner())||e.isEqual(this.getTopRightCorner())||e.isEqual(this.getBottomLeftCorner())||e.isEqual(this.getBottomRightCorner())},d.prototype.getOppositeCorner=function(e,t){if(!(e instanceof f))return!1;if(t&&t.includes(e)){if(this.getTopLeftCorner().isEqual(new f(t.from.row,t.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new f(t.from.row,t.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new f(t.to.row,t.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new f(t.to.row,t.to.col)))return this.getTopLeftCorner()}return e.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():e.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():e.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():e.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},d.prototype.getBordersSharedWith=function(e){if(!this.includesRange(e))return[];var t={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},n=[];return t.top==r.top&&n.push("top"),t.right==r.right&&n.push("right"),t.bottom==r.bottom&&n.push("bottom"),t.left==r.left&&n.push("left"),n},d.prototype.getInner=function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),r=[],n=e.row;n<=t.row;n++)for(var i=e.col;i<=t.col;i++)this.from.row===n&&this.from.col===i||this.to.row===n&&this.to.col===i||r.push(new f(n,i));return r},d.prototype.getAll=function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),r=[],n=e.row;n<=t.row;n++)for(var i=e.col;i<=t.col;i++)e.row===n&&e.col===i?r.push(e):t.row===n&&t.col===i?r.push(t):r.push(new f(n,i));return r},d.prototype.forAll=function(e){for(var t=this.getTopLeftCorner(),r=this.getBottomRightCorner(),n=t.row;n<=r.row;n++)for(var i=t.col;i<=r.col;i++){var o=e(n,i);if(o===!1)return}},t.WalkontableCellRange=d,m.prototype.visibleToSource=function(e){return e},m.prototype.sourceToVisible=function(e){return e},m.prototype.offsettedTH=function(e){return e-this.countTH},m.prototype.unOffsettedTH=function(e){return e+this.countTH},m.prototype.visibleRowHeadedColumnToSourceColumn=function(e){return this.visibleToSource(this.offsettedTH(e))},m.prototype.sourceColumnToVisibleRowHeadedColumn=function(e){return this.unOffsettedTH(this.sourceToVisible(e))},g.prototype=new h,g.prototype.getSize=function(e){return this.cellSizes[e]+(this.cellStretch[e]||0)},g.prototype.stretch=function(){var e,t=0;if(e=this.instance.wtTable.allRowsInViewport()?this.getContainerSize():this.getContainerSize(1/0),this.remainingSize=this.cellSizesSum-e,this.cellStretch.length=0,"all"===this.strategy){if(this.remainingSize<0){for(var r,n=e/this.cellSizesSum;t<this.cellCount-1;)r=Math.floor(n*this.cellSizes[t]),this.remainingSize+=r-this.cellSizes[t],this.cellStretch[t]=r-this.cellSizes[t],t++;this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0}}else"last"===this.strategy&&this.remainingSize<0&&e!==1/0&&(this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0)},g.prototype.countVisible=function(){return this.visibleCellCount},g.prototype.isLastIncomplete=function(){var e=this.instance.wtTable.getFirstVisibleRow(),t=this.instance.wtTable.getLastVisibleColumn(),n=this.instance.wtTable.getCell(new f(e,t)),i=r.Dom.offset(n),o=r.Dom.outerWidth(n),s=i.left+o,a=this.instance.wtScrollbars.vertical.getScrollPosition(),c=this.instance.wtViewport.getViewportWidth(),u=a+c;return u>=s},y.prototype.draw=function(e){if(this.drawInterrupted=!1,!e&&!r.Dom.isVisible(this.wtTable.TABLE))return void(this.drawInterrupted=!0);e=e&&this.getSetting("offsetRow")===this.lastOffsetRow,this.lastOffsetRow=this.getSetting("offsetRow");var t=this.getSetting("totalRows");return this.lastOffsetRow>t&&t>0&&(this.scrollVertical(-(1/0)),this.scrollViewport(new f(t-1,0))),this.wtTable.draw(e),this},y.prototype.update=function(e,t){return this.wtSettings.update(e,t)},y.prototype.scrollVertical=function(e){var t=this.wtScroll.scrollVertical(e);return this.getSetting("onScrollVertically"),t},y.prototype.scrollHorizontal=function(e){var t=this.wtScroll.scrollHorizontal(e);return this.getSetting("onScrollHorizontally"),t},y.prototype.scrollViewport=function(e){return this.wtScroll.scrollViewport(e),this},y.prototype.getViewport=function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},y.prototype.getSetting=function(e,t,r,n,i){return this.wtSettings.getSetting(e,t,r,n,i)},y.prototype.hasSetting=function(e){return this.wtSettings.has(e)},y.prototype.destroy=function(){e(t).off("."+this.guid),e(document.body).off("."+this.guid),this.wtScrollbars.destroy(),this.wtEvent&&this.wtEvent.destroy()},v.prototype=new l,v.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=this.instance.wtTable.holder.getBoundingClientRect();e.style.top=Math.ceil(t.top,10)+"px",e.style.left=Math.ceil(t.left,10)+"px"}},v.prototype.destroy=function(){l.prototype.destroy.call(this),clearTimeout(this.lastTimeout)},b.prototype.parentCell=function(e){var t={},n=this.instance.wtTable.TABLE,i=r.Dom.closest(e,["TD","TH"],n);return i&&r.Dom.isChildOf(i,n)?(t.coords=this.instance.wtTable.getCoords(i),t.TD=i):r.Dom.hasClass(e,"wtBorder")&&r.Dom.hasClass(e,"current")?(t.coords=this.instance.selections[0].cellRange.highlight,t.TD=this.instance.wtTable.getCell(t.coords)):r.Dom.hasClass(e,"wtBorder")&&r.Dom.hasClass(e,"area")&&(t.coords=this.instance.selections[1].cellRange.to,t.TD=this.instance.wtTable.getCell(t.coords)),t},b.prototype.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1])},t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,r){return t.setTimeout(e,1e3/60)}}(),t.cancelRequestAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),t.getComputedStyle||!function(){var e,r={getPropertyValue:function(t){return"float"==t&&(t="styleFloat"),e.currentStyle[t.toUpperCase()]||null}};t.getComputedStyle=function(t){return e=t,r}}(),!String.prototype.trim){var re=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(re,"")}}w.prototype.offsetted=function(e){return e+this.offset},w.prototype.unOffsetted=function(e){return e-this.offset},w.prototype.visibleToSource=function(e){return this.offsetted(e)},w.prototype.sourceToVisible=function(e){return this.unOffsetted(e)},w.prototype.offsettedTH=function(e){return e-this.countTH},w.prototype.visibleColHeadedRowToSourceRow=function(e){return this.visibleToSource(this.offsettedTH(e))},w.prototype.sourceRowToVisibleColHeadedRow=function(e){return this.unOffsettedTH(this.sourceToVisible(e))},_.prototype=new h,_.prototype.add=function(e,t){if(!this.canRenderMoreRows())return!1;var r=this.sizeAtIndex(e,t);if(void 0===r)return!1;var n=this.getContainerSize(this.cellSizesSum+r);return this.cellSizes.push(r),this.cellSizesSum+=r,this.cellCount++,this.remainingSize=this.cellSizesSum-n,this.remainingSize<=r&&this.visiblCellCount++,!0},_.prototype.canRenderMoreRows=function(){return this.remainingSize<=0||this.cellCount-this.visiblCellCount<this.curOuts},_.prototype.remove=function(){var e=this.cellSizes.pop();this.cellSizesSum-=e,this.cellCount--,this.remainingSize-=e},_.prototype.removeOutstanding=function(){for(;this.cellCount-this.visiblCellCount>this.curOuts;)this.remove()},_.prototype.countRendered=function(){return this.cellCount},_.prototype.countVisible=function(){return this.visiblCellCount},_.prototype.isLastIncomplete=function(){var e=this.instance.wtTable.getLastVisibleRow(),t=this.instance.wtTable.getFirstVisibleColumn(),n=this.instance.wtTable.getCell(new f(e,t)),i=r.Dom.offset(n).top,o=r.Dom.outerHeight(n),s=i+o,a=this.instance.wtScrollbars.horizontal.scrollHandler.offsetTop+this.instance.wtScrollbars.vertical.getScrollPosition(),c=this.instance.wtViewport.getViewportHeight(),u=a+c;return s>u},T.prototype.scrollVertical=function(e){if(!this.instance.drawn)throw new Error("scrollVertical can only be called after table was drawn to DOM");var t,r=this.instance,n=r.getSetting("offsetRow"),i=r.getSetting("fixedRowsTop"),o=r.getSetting("totalRows"),s=r.wtViewport.getViewportHeight();return t=o>0&&!this.instance.wtTable.isLastRowFullyVisible()?this.scrollLogicVertical(e,n,o,i,s,function(e){return i>e-n&&e-n>=0?r.getSetting("rowHeight",e-n):r.getSetting("rowHeight",e)}):0,t!==n&&this.instance.wtScrollbars.vertical.scrollTo(t),r},T.prototype.scrollHorizontal=function(e){return this.instance.wtScrollbars.horizontal.scrollTo(e),this.instance},T.prototype.scrollLogicVertical=function(e,t,r,n,i,o){var s=t+e;return s>=r-n&&(s=r-n-1),0>s&&(s=0),s},T.prototype.scrollViewport=function(e){if(this.instance.drawn){var t=(this.instance.getSetting("offsetRow"),this.instance.getSetting("totalRows")),r=this.instance.getSetting("totalColumns");if(e.row<0||e.row>t-1)throw new Error("row "+e.row+" does not exist");if(e.col<0||e.col>r-1)throw new Error("column "+e.col+" does not exist");var n=this.instance.wtTable.getCell(e);"object"==typeof n?e.col>=this.instance.getSetting("fixedColumnsLeft")&&this.scrollToRenderedCell(n):e.row>=this.instance.wtTable.getLastVisibleRow()?(this.scrollVertical(e.row-this.instance.wtTable.getLastVisibleRow()),e.row==this.instance.wtTable.getLastVisibleRow()&&this.instance.wtTable.getRowStrategy().isLastIncomplete()&&this.scrollViewport(e)):e.row>=this.instance.getSetting("fixedRowsTop")&&this.scrollVertical(e.row-this.instance.wtTable.getFirstVisibleRow())}},T.prototype.scrollToRenderedCell=function(e){var n=r.Dom.offset(e),i=r.Dom.outerWidth(e),o=r.Dom.outerHeight(e),s=r.Dom.offset(this.instance.wtTable.TABLE),a={left:this.instance.wtScrollbars.horizontal.getScrollPosition(),top:this.instance.wtScrollbars.vertical.getScrollPosition()},c=this.instance.wtViewport.getWorkspaceWidth(),u=this.instance.wtViewport.getWorkspaceHeight(),l=r.Dom.outerWidth(this.instance.wtScrollbars.horizontal.clone.wtTable.TABLE),h=r.Dom.outerHeight(this.instance.wtScrollbars.vertical.clone.wtTable.TABLE);if(this.instance.wtScrollbars.horizontal.scrollHandler!==t&&(s.left=0,n.left-=r.Dom.offset(this.instance.wtScrollbars.horizontal.scrollHandler).left),this.instance.wtScrollbars.vertical.scrollHandler!==t&&(s.top=0,n.top=n.top-r.Dom.offset(this.instance.wtScrollbars.vertical.scrollHandler).top),c>i)if(n.left<a.left+l)this.instance.wtScrollbars.horizontal.setScrollPosition(n.left-l);else if(n.left+i>s.left+a.left+c){var p=n.left+i-(s.left+a.left+c);this.instance.wtScrollbars.horizontal.setScrollPosition(a.left+p)}u>o&&(n.top<a.top+h?(this.instance.wtScrollbars.vertical.setScrollPosition(n.top-h),this.instance.wtScrollbars.vertical.onScroll()):n.top+o>a.top+u&&(this.instance.wtScrollbars.vertical.setScrollPosition(n.top-u+o),this.instance.wtScrollbars.vertical.onScroll()))},E.prototype=new l,E.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var n=this.instance.wtTable.holder.getBoundingClientRect(),i=Math.ceil(n.top),o=Math.ceil(n.left);0>o?e.style.left=-o+"px":e.style.left="0",0>i?e.style.top=-i+"px":e.style.top="0"}else e.style.top=this.instance.wtScrollbars.vertical.getScrollPosition()+"px",e.style.left=this.instance.wtScrollbars.horizontal.getScrollPosition()+"px";e.style.width=r.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px",e.style.height=r.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},C.prototype=new l,C.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var n=this.instance.wtTable.holder.getBoundingClientRect(),i=Math.ceil(n.left);0>i?e.style.left=-i+"px":e.style.left="0",e.style.top=this.instance.wtTable.hider.style.top}else e.style.top=this.instance.wtTable.hider.style.top,e.style.left=this.getScrollPosition()+"px";e.style.height=r.Dom.outerHeight(this.clone.wtTable.TABLE)+"px",e.style.width=r.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px"}},C.prototype.refresh=function(e){l.prototype.refresh.call(this,e)},C.prototype.getScrollPosition=function(){return r.Dom.getScrollLeft(this.scrollHandler)},C.prototype.setScrollPosition=function(e){this.scrollHandler===t?t.scrollTo(e,r.Dom.getWindowScrollTop()):this.scrollHandler.scrollLeft=e},C.prototype.onScroll=function(){this.readSettings(),this.instance.getSetting("onScrollHorizontally")},C.prototype.getLastCell=function(){return this.instance.wtTable.getLastVisibleColumn()},C.prototype.applyToDOM=function(){},C.prototype.scrollTo=function(e){this.setScrollPosition(this.getTableParentOffset()+e*this.cellSize)},C.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.left:0},C.prototype.readSettings=function(){this.total=this.instance.getSetting("totalColumns")},x.prototype=new l,x.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var n=this.instance.wtTable.holder.getBoundingClientRect(),i=Math.ceil(n.top);e.style.left="0",0>i?e.style.top=-i+"px":e.style.top="0"}else e.style.top=this.getScrollPosition()+"px",e.style.left="0";this.instance.wtScrollbars.horizontal.scrollHandler===t?e.style.width=this.instance.wtViewport.getWorkspaceActualWidth()+"px":e.style.width=r.Dom.outerWidth(this.clone.wtTable.TABLE)+"px",e.style.height=r.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},x.prototype.getScrollPosition=function(){return r.Dom.getScrollTop(this.scrollHandler)},x.prototype.setScrollPosition=function(e){this.scrollHandler===t?t.scrollTo(r.Dom.getWindowScrollLeft(),e):this.scrollHandler.scrollTop=e},x.prototype.onScroll=function(){this.readSettings(),this.instance.draw(!0),this.instance.getSetting("onScrollVertically")},x.prototype.getLastCell=function(){return this.instance.getSetting("offsetRow")+this.instance.wtTable.tbodyChildrenLength-1},x.prototype.sumCellSizes=function(e,t){for(var r,n=0;t>e;)r=this.instance.wtSettings.settings.rowHeight(e),n+=void 0!==r?r:this.instance.wtSettings.settings.defaultRowHeight,e++;return n},x.prototype.refresh=function(e){this.applyToDOM(),l.prototype.refresh.call(this,e)},x.prototype.applyToDOM=function(){var e=this.getLastCell();this.measureBefore=this.sumCellSizes(0,this.offset),-1===e?this.measureAfter=0:this.measureAfter=this.sumCellSizes(e,this.total-e);var t=this.instance.wtViewport.getColumnHeaderHeight();this.fixedContainer.style.height=t+this.sumCellSizes(0,this.total)+4+"px",this.fixed.style.top=this.measureBefore+"px",this.fixed.style.bottom=""},x.prototype.scrollTo=function(e){var t=this.getTableParentOffset()+e*this.cellSize;this.setScrollPosition(t),this.onScroll()},x.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.top:0},x.prototype.readSettings=function(){this.offset=this.instance.getSetting("offsetRow"),this.total=this.instance.getSetting("totalRows");for(var e,t,r=this.getScrollPosition()-this.getTableParentOffset(),n=0,i=0;i<this.total&&(t=this.instance.getSetting("rowHeight",i),e=void 0!==t?t:this.instance.wtSettings.settings.defaultRowHeight,n+=e,!(n-1>r));i++);this.offset=Math.min(i,this.total),this.instance.update("offsetRow",this.offset)},R.prototype.registerListeners=function(){function r(){if(a.instance.drawn){if(!a.instance.wtTable.holder.parentNode)return void a.destroy();a.vertical.windowScrollPosition=a.vertical.getScrollPosition(),a.horizontal.windowScrollPosition=a.horizontal.getScrollPosition(),a.box=a.instance.wtTable.hider.getBoundingClientRect(),(a.vertical.windowScrollPosition!==n||a.horizontal.windowScrollPosition!==i||a.box.top!==o||a.box.left!==s)&&(a.vertical.onScroll(),a.horizontal.onScroll(),n=a.vertical.windowScrollPosition,i=a.horizontal.windowScrollPosition,o=a.box.top,s=a.box.left)}}var n,i,o,s,a=this,c=e(t);this.vertical.$scrollHandler.on("scroll."+this.instance.guid,r),this.vertical.scrollHandler!==this.horizontal.scrollHandler&&this.horizontal.$scrollHandler.on("scroll."+this.instance.guid,r),this.vertical.scrollHandler!==t&&this.horizontal.scrollHandler!==t&&c.on("scroll."+this.instance.guid,r)},R.prototype.destroy=function(){this.vertical&&(this.vertical.destroy(),this.vertical.$scrollHandler.off("scroll."+this.instance.guid)),this.horizontal&&(this.horizontal.destroy(),this.vertical.$scrollHandler.off("scroll."+this.instance.guid)),e(t).off("scroll."+this.instance.guid),this.corner&&this.corner.destroy(),this.debug&&this.debug.destroy()},R.prototype.refresh=function(e){this.horizontal&&this.horizontal.readSettings(),this.vertical&&this.vertical.readSettings(),this.horizontal&&this.horizontal.refresh(e),this.vertical&&this.vertical.refresh(e),this.corner&&this.corner.refresh(e),this.debug&&this.debug.refresh(e)},R.prototype.applyToDOM=function(){this.horizontal&&this.horizontal.applyToDOM(),this.vertical&&this.vertical.applyToDOM()},A.prototype.getBorder=function(e){return this.instanceBorders[e.guid]?this.instanceBorders[e.guid]:void(this.instanceBorders[e.guid]=new p(e,this.settings))},A.prototype.isEmpty=function(){return null===this.cellRange},A.prototype.add=function(e){this.isEmpty()?this.cellRange=new d(e,e,e):this.cellRange.expand(e)},A.prototype.replace=function(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1},A.prototype.clear=function(){this.cellRange=null},A.prototype.getCorners=function(){var e=this.cellRange.getTopLeftCorner(),t=this.cellRange.getBottomRightCorner();return[e.row,e.col,t.row,t.col]},A.prototype.addClassAtCoords=function(e,t,n,i){var o=e.wtTable.getCell(new f(t,n));"object"==typeof o&&r.Dom.addClass(o,i)},A.prototype.draw=function(e){var t,n,i,o,s,a=e.wtTable.getRowStrategy().countVisible(),c=e.wtTable.getColumnStrategy().cellCount;if(this.isEmpty()){if(this.settings.border){var u=this.getBorder(e);u&&u.disappear()}}else{for(t=this.getCorners(),n=0;a>n;n++)for(o=e.wtTable.rowFilter.visibleToSource(n),i=0;c>i;i++)if(s=e.wtTable.columnFilter.visibleToSource(i),o>=t[0]&&o<=t[2]&&s>=t[1]&&s<=t[3]){if(this.settings.className&&this.addClassAtCoords(e,o,s,this.settings.className),s===t[1]){var l=e.wtTable.getRowHeader(o);l&&r.Dom.addClass(l,this.settings.highlightRowClassName)}if(o===t[0]||o>t[0]&&0==n){var l=e.wtTable.getColumnHeader(s);l&&r.Dom.addClass(l,this.settings.highlightColumnClassName)}}else o>=t[0]&&o<=t[2]?this.addClassAtCoords(e,o,s,this.settings.highlightRowClassName):s>=t[1]&&s<=t[3]&&this.addClassAtCoords(e,o,s,this.settings.highlightColumnClassName);if(e.getSetting("onBeforeDrawBorders",t,this.settings.className),this.settings.border){var u=this.getBorder(e);u&&u.appear(t)}}},O.prototype.update=function(e,t){if(void 0===t)for(var r in e)e.hasOwnProperty(r)&&(this.settings[r]=e[r]);else this.settings[e]=t;return this.instance},O.prototype.getSetting=function(e,t,r,n,i){return"function"==typeof this.settings[e]?this.settings[e](t,r,n,i):void 0!==t&&"[object Array]"===Object.prototype.toString.call(this.settings[e])?this.settings[e][t]:this.settings[e]},O.prototype.has=function(e){return!!this.settings[e]},j.prototype.getRowStrategy=function(){return this.isWorkingOnClone()?this.instance.cloneSource.wtTable.rowStrategy:this.rowStrategy},j.prototype.getColumnStrategy=function(){return this.isWorkingOnClone()?this.instance.cloneSource.wtTable.columnStrategy:this.columnStrategy},j.prototype.isWorkingOnClone=function(){return!!this.instance.cloneSource},j.prototype.refreshHiderDimensions=function(){var e=this.spreader.style;e.position="relative",e.width="auto",e.height="auto"},j.prototype.draw=function(e){if(e)this.instance.wtScrollbars&&this.instance.wtScrollbars.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.instance.cloneSource.wtTable.tableOffset:(this.holderOffset=r.Dom.offset(this.holder),this.tableOffset=r.Dom.offset(this.TABLE),this.instance.wtScrollbars.vertical.readSettings(),
this.instance.wtScrollbars.horizontal.readSettings(),this.instance.wtViewport.resetSettings());var t;t=this.instance.cloneOverlay instanceof v||this.instance.cloneOverlay instanceof x||this.instance.cloneOverlay instanceof E?0:this.instance.wtSettings.settings.offsetRow,this.rowFilter=new w(t,this.instance.getSetting("totalRows"),this.instance.getSetting("columnHeaders").length),this.columnFilter=new m(this.instance.getSetting("totalColumns"),this.instance.getSetting("rowHeaders").length),this._doDraw()}return this.refreshPositions(e),this.isWorkingOnClone()||(this.instance.wtScrollbars.vertical.resetFixedPosition(),this.instance.wtScrollbars.horizontal.resetFixedPosition(),this.instance.wtScrollbars.corner.resetFixedPosition(),this.instance.wtScrollbars.debug&&this.instance.wtScrollbars.debug.resetFixedPosition()),this.instance.drawn=!0,this},j.prototype._doDraw=function(){var e=new k(this);e.render()},j.prototype.refreshPositions=function(e){this.refreshHiderDimensions(),this.refreshSelections(e)},j.prototype.removeClassFromCells=function(e){for(var t=this.TABLE.querySelectorAll("."+e),n=0,i=t.length;i>n;n++)r.Dom.removeClass(t[n],e)},j.prototype.refreshSelections=function(e){if(this.instance.selections){if(e)for(var t=0,r=this.instance.selections.length;r>t;t++)this.instance.selections[t].settings.className&&this.removeClassFromCells(this.instance.selections[t].settings.className),this.instance.selections[t].settings.highlightRowClassName&&this.removeClassFromCells(this.instance.selections[t].settings.highlightRowClassName),this.instance.selections[t].settings.highlightColumnClassName&&this.removeClassFromCells(this.instance.selections[t].settings.highlightColumnClassName);for(var t=0,r=this.instance.selections.length;r>t;t++)this.instance.selections[t].draw(this.instance,e)}},j.prototype.getCell=function(e){if(this.isRowBeforeViewport(e.row))return-1;if(this.isRowAfterViewport(e.row))return-2;var t=this.TBODY.childNodes[this.rowFilter.sourceToVisible(e.row)];return t?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e.col)]:void 0},j.prototype.getColumnHeader=function(e){var t=this.THEAD.childNodes[0];return t?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]:void 0},j.prototype.getRowHeader=function(e){if(0==this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var t=this.TBODY.childNodes[this.rowFilter.sourceToVisible(e)];return t?t.childNodes[0]:void 0},j.prototype.getCoords=function(e){var t=e.parentNode,n=r.Dom.index(t);return n=t.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.visibleToSource(n),new f(n,this.columnFilter.visibleRowHeadedColumnToSourceColumn(e.cellIndex))},j.prototype.getTrForRow=function(e){return this.TBODY.childNodes[this.rowFilter.sourceToVisible(e)]},j.prototype.getFirstVisibleRow=function(){return this.rowFilter.visibleToSource(0)},j.prototype.getFirstVisibleColumn=function(){if(this.isWorkingOnClone())return this.instance.cloneOverlay instanceof C||this.instance.cloneOverlay instanceof E?0:this.instance.cloneSource.wtTable.getFirstVisibleColumn();var e=this.instance.wtScrollbars.horizontal.getScrollPosition(),t=this.getColumnStrategy().cellCount,r=this.TBODY.firstChild;if(!r)return 0;for(var n=0;t>n;n++)if(e-=r.childNodes[n].offsetWidth,0>e)return n;return-1},j.prototype.getLastVisibleRow=function(){var e=this.rowFilter.visibleToSource(this.getRowStrategy().countVisible()-1),t=this.instance;if(t.cloneOverlay instanceof x||t.cloneOverlay instanceof E){var r=this.instance.getSetting("fixedRowsTop");return Math.min(r-1,e)}return e},j.prototype.getLastVisibleColumn=function(){var e=this.instance;if(this.isWorkingOnClone()){if(e.cloneOverlay instanceof C||e.cloneOverlay instanceof E){var t=this.getColumnStrategy().countVisible()-1,r=e.getSetting("fixedColumnsLeft");return Math.min(r-1,t)}return this.instance.cloneSource.wtTable.getLastVisibleColumn()}var n=this.instance.wtScrollbars.horizontal.getScrollPosition(),i=n+this.instance.wtViewport.getWorkspaceWidth(1/0),o=this.getColumnStrategy().cellCount,s=this.instance.getSetting("rowHeaders").length||0,a=this.TBODY.firstChild;if(!o)return-1;for(var c=0;o+s>c;c++)if(i-=a.childNodes[c].offsetWidth,0>=i)return c-s;return c-s-1},j.prototype.isRowBeforeViewport=function(e){return this.rowFilter.sourceToVisible(e)<0&&e>=0},j.prototype.isRowAfterViewport=function(e){return e>this.getLastVisibleRow()},j.prototype.isColumnBeforeViewport=function(e){return this.columnFilter.sourceToVisible(e)<0&&e>=0},j.prototype.isColumnAfterViewport=function(e){return e>this.getLastVisibleColumn()},j.prototype.isRowInViewport=function(e){return!this.isRowBeforeViewport(e)&&!this.isRowAfterViewport(e)},j.prototype.isColumnInViewport=function(e){return!this.isColumnBeforeViewport(e)&&!this.isColumnAfterViewport(e)},j.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.instance.getSetting("totalRows")-1&&!this.getRowStrategy().isLastIncomplete()},j.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.instance.getSetting("totalColumns")-1&&!this.getColumnStrategy().isLastIncomplete()},j.prototype.getVisibleRowsCount=function(){return this.getRowStrategy().countVisible()},j.prototype.allRowsInViewport=function(){return this.getRowStrategy().cellCount==this.getVisibleRowsCount()},k.prototype.render=function(){this.wtTable.isWorkingOnClone()||this.instance.getSetting("beforeDraw",!0),this.rowHeaders=this.instance.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.instance.getSetting("fixedRowsTop"),this.columnHeaders=this.instance.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var e,t,r,n=this.instance.getSetting("totalRows"),i=this.instance.getSetting("totalColumns"),o=!1;if(i>0){var s;this.wtTable.isWorkingOnClone()&&(this.instance.cloneOverlay instanceof x||this.instance.cloneOverlay instanceof E?s=this.fixedRowsTop:this.instance.cloneOverlay instanceof C&&(s=this.wtTable.getRowStrategy().cellCount)),this.adjustAvailableNodes(),o=!0,this.renderColGroups(),this.renderColumnHeaders(),t=this.getColumnCount(),this.renderRows(n,s,t),this.wtTable.isWorkingOnClone()||(r=this.instance.wtViewport.getWorkspaceWidth(),this.instance.wtViewport.containerWidth=null,this.wtTable.getColumnStrategy().stretch()),this.adjustColumnWidths(t)}if(o||this.adjustAvailableNodes(),this.instance.cloneOverlay instanceof v||this.removeRedundantRows(),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.instance.wtScrollbars.applyToDOM(),r!==this.instance.wtViewport.getWorkspaceWidth()){this.instance.wtViewport.containerWidth=null,this.wtTable.getColumnStrategy().stretch();var a=this.instance.wtTable.columnWidthCache;for(e=0;e<this.wtTable.getColumnStrategy().cellCount;e++){var c=this.wtTable.getColumnStrategy().getSize(e);this.COLGROUP.childNodes[e+this.rowHeaderCount].style.width=c+"px",a[e]=c}}this.instance.wtScrollbars.refresh(!1),this.instance.getSetting("onDraw",!0)}},k.prototype.removeRedundantRows=function(){for(var e=this.wtTable.getRowStrategy().countRendered();this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},k.prototype.renderRows=function(e,t,r){for(var n,i,o,s=this.instance.getSetting("offsetRow"),a=0,c=this.rowFilter.visibleToSource(a),u=this.wtTable.isWorkingOnClone();e>c&&c>=0;){if(a>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==t&&a===t)break;if(i=this.getOrCreateTrForRow(a,i),this.renderRowHeaders(c,i),this.adjustColumns(i,r+this.rowHeaderCount),n=this.renderCells(c,i,r),s=this.instance.getSetting("offsetRow"),!u){if(o=this.wtTable.getRowStrategy().add(a,n),o===!1)break;this.resetOversizedRow(c)}if(i.firstChild){var l=this.instance.getSetting("rowHeight",c);l?i.firstChild.style.height=l+"px":i.firstChild.style.height=""}a++,c=this.rowFilter.visibleToSource(a)}},k.prototype.resetOversizedRow=function(e){this.instance.wtTable.oversizedRows&&this.instance.wtTable.oversizedRows[e]&&(this.instance.wtTable.oversizedRows[e]=void 0)},k.prototype.markOversizedRows=function(){for(var e,t,n,i,o=this.instance.wtTable.TBODY.childNodes.length;o;)o--,n=this.instance.wtTable.rowFilter.visibleToSource(o),e=this.instance.wtSettings.settings.rowHeight(n),i=this.instance.wtTable.getTrForRow(n),t=r.Dom.innerHeight(i)-1,(!e&&this.instance.wtSettings.settings.defaultRowHeight<t||t>e)&&(this.instance.wtTable.oversizedRows||(this.instance.wtTable.oversizedRows={}),this.instance.wtTable.oversizedRows[n]=t)},k.prototype.renderCells=function(e,t,n){for(var i,o,s=0;n>s;s++)o=this.columnFilter.visibleToSource(s),i=0===s?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:i.nextSibling,"TH"==i.nodeName&&(i=this.utils.replaceThWithTd(i,t)),r.Dom.hasClass(i,"hide")||(i.className=""),i.removeAttribute("style"),this.instance.getSetting("cellRenderer",e,o,i);return i},k.prototype.adjustColumnWidths=function(e){for(var t,r=this.instance.wtTable.columnWidthCache,n=!1,i=0;e>i;i++)t=this.wtTable.isWorkingOnClone()?this.instance.cloneSource.wtTable.columnWidthCache[i]:this.wtTable.getColumnStrategy().getSize(i),t!==r[i]&&(this.COLGROUP.childNodes[i+this.rowHeaderCount].style.width=t+"px",r[i]=t,n=!0)},k.prototype.appendToTbody=function(e){this.TBODY.appendChild(e),this.wtTable.tbodyChildrenLength++},k.prototype.getOrCreateTrForRow=function(e,t){var r;return e>=this.wtTable.tbodyChildrenLength?(r=this.createRow(),this.appendToTbody(r)):r=0===e?this.TBODY.firstChild:t.nextSibling,r},k.prototype.createRow=function(){for(var e=document.createElement("TR"),t=0;t<this.rowHeaderCount;t++)e.appendChild(document.createElement("TH"));return e},k.prototype.renderRowHeader=function(e,t,r){r.className="",r.removeAttribute("style"),this.rowHeaders[t](e,r,t)},k.prototype.renderRowHeaders=function(e,t){for(var r=t.firstChild,n=0;n<this.rowHeaderCount;n++)r?"TD"==r.nodeName&&(r=this.utils.replaceTdWithTh(r,t)):(r=document.createElement("TH"),t.appendChild(r)),this.renderRowHeader(e,n,r),r=r.nextSibling},k.prototype.adjustAvailableNodes=function(){this.refreshStretching(),this.adjustColGroups(),this.adjustThead()},k.prototype.renderColumnHeaders=function(){if(this.columnHeaderCount)for(var e,t=this.getColumnCount(),r=0;r<this.columnHeaderCount;r++){e=this.getTrForColumnHeaders(r);for(var n=-1*this.rowHeaderCount;t>n;n++)this.renderColumnHeader(r,n,e.childNodes[n+this.rowHeaderCount])}},k.prototype.adjustColGroups=function(){for(var e=this.getColumnCount();this.wtTable.colgroupChildrenLength<e+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>e+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--,this.wtTable.columnWidthCache&&this.wtTable.columnWidthCache.splice(-1,1)},k.prototype.adjustThead=function(){var e=this.getColumnCount(),t=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,i=this.columnHeaders.length;i>n;n++){for(t=this.THEAD.childNodes[n],t||(t=document.createElement("TR"),this.THEAD.appendChild(t)),this.theadChildrenLength=t.childNodes.length;this.theadChildrenLength<e+this.rowHeaderCount;)t.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>e+this.rowHeaderCount;)t.removeChild(t.lastChild),this.theadChildrenLength--}var o=this.THEAD.childNodes.length;if(o>this.columnHeaders.length)for(var n=this.columnHeaders.length;o>n;n++)this.THEAD.removeChild(this.THEAD.lastChild)}else t&&r.Dom.empty(t)},k.prototype.getTrForColumnHeaders=function(e){var t=this.THEAD.childNodes[e];return t},k.prototype.renderColumnHeader=function(e,t,r){return r.className="",r.removeAttribute("style"),this.columnHeaders[e](t,r,e)},k.prototype.getColumnCount=function(){return this.wtTable.isWorkingOnClone()&&(this.instance.cloneOverlay instanceof C||this.instance.cloneOverlay instanceof E)?this.instance.getSetting("fixedColumnsLeft"):this.wtTable.getColumnStrategy().cellCount},k.prototype.renderColGroups=function(){for(var e=0;e<this.wtTable.colgroupChildrenLength;e++)e<this.rowHeaderCount?r.Dom.addClass(this.COLGROUP.childNodes[e],"rowHeader"):r.Dom.removeClass(this.COLGROUP.childNodes[e],"rowHeader")},k.prototype.adjustColumns=function(e,t){for(var r=e.childNodes.length;t>r;){var n=document.createElement("TD");e.appendChild(n),r++}for(;r>t;)e.removeChild(e.lastChild),r--},k.prototype.refreshStretching=function(){if(!this.wtTable.isWorkingOnClone()){var e=this.instance,t=e.getSetting("stretchH"),r=(e.getSetting("totalRows"),e.getSetting("totalColumns")),n=function(e){var t=i.instance.wtViewport.getViewportWidth(e);return t},i=this,o=function(t){var n=i.columnFilter.visibleToSource(t);return r>n?e.getSetting("columnWidth",n):void 0},s=function(t){return i.instance.cloneOverlay instanceof v||e.wtSettings.settings.renderAllRows?1/0:i.instance.wtViewport.getViewportHeight(t)},a=function(t,r){return e.wtSettings.settings.defaultRowHeight};this.wtTable.columnStrategy=new g(e,n,o,t),this.wtTable.rowStrategy=new _(e,s,a)}},k.utils={},k.utils.replaceTdWithTh=function(e,t){var r;return r=document.createElement("TH"),t.insertBefore(r,e),t.removeChild(e),r},k.utils.replaceThWithTd=function(e,t){var r=document.createElement("TD");return t.insertBefore(r,e),t.removeChild(e),r},P.prototype.getWorkspaceHeight=function(){var e=this.instance.wtScrollbars.vertical.scrollHandler;if(e===t)return document.documentElement.clientHeight;var n=r.Dom.outerHeight(e),i=n>0&&e.clientHeight>0?e.clientHeight:1/0;return i},P.prototype.getWorkspaceWidth=function(){var e=Math.min(this.getContainerFillWidth(),document.documentElement.offsetWidth-this.getWorkspaceOffset().left,document.documentElement.offsetWidth),n=this.instance.wtScrollbars.horizontal.scrollHandler;if(n!=t){var i=this.instance.wtScrollbars.horizontal.scrollHandler.style.overflow;if("scroll"==i||"hidden"==i||"auto"==i)return Math.max(e,n.clientWidth)}return Math.max(e,r.Dom.outerWidth(this.instance.wtTable.TABLE))},P.prototype.getContainerFillWidth=function(){if(this.containerWidth)return this.containerWidth;for(var e,t,r=this.instance.wtTable.holder;r.parentNode!=document.body&&null!=r.parentNode&&-1===r.className.indexOf("handsontable");)r=r.parentNode;return t=document.createElement("DIV"),t.style.width="100%",t.style.height="1px",r.appendChild(t),e=t.offsetWidth,this.containerWidth=e,r.removeChild(t),e},P.prototype.getWorkspaceOffset=function(){return r.Dom.offset(this.instance.wtTable.TABLE)},P.prototype.getWorkspaceActualHeight=function(){return r.Dom.outerHeight(this.instance.wtTable.TABLE)},P.prototype.getWorkspaceActualWidth=function(){return r.Dom.outerWidth(this.instance.wtTable.TABLE)||r.Dom.outerWidth(this.instance.wtTable.TBODY)||r.Dom.outerWidth(this.instance.wtTable.THEAD)},P.prototype.getColumnHeaderHeight=function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=r.Dom.outerHeight(this.instance.wtTable.THEAD)),this.columnHeaderHeight},P.prototype.getViewportHeight=function(e){var t=this.getWorkspaceHeight(e);if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t},P.prototype.getRowHeaderWidth=function(){if(this.instance.cloneSource)return this.instance.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var e=this.instance.getSetting("rowHeaders");if(e.length){var t=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var n=0,i=e.length;i>n;n++)t?(this.rowHeaderWidth+=r.Dom.outerWidth(t),t=t.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},P.prototype.getViewportWidth=function(e){var t=this.getWorkspaceWidth(e);if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t},P.prototype.resetSettings=function(){this.rowHeaderWidth=NaN,this.columnHeaderHeight=NaN}}(jQuery,window,Handsontable),function(){function e(e){this._value=e}function t(e,t,r,n){var i,o,s=Math.pow(10,t);return o=(r(e*s)/s).toFixed(t),n&&(i=new RegExp("0{1,"+n+"}$"),o=o.replace(i,"")),o}function r(e,t,r){var n;return n=t.indexOf("$")>-1?i(e,t,r):t.indexOf("%")>-1?o(e,t,r):t.indexOf(":")>-1?s(e,t):c(e._value,t,r)}function n(e,t){var r,n,i,o,s,c=t,u=["KB","MB","GB","TB","PB","EB","ZB","YB"],l=!1;if(t.indexOf(":")>-1)e._value=a(t);else if(t===g)e._value=0;else{for("."!==d[m].delimiters.decimal&&(t=t.replace(/\./g,"").replace(d[m].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+d[m].abbreviations.thousand+"(?:\\)|(\\"+d[m].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+d[m].abbreviations.million+"(?:\\)|(\\"+d[m].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+d[m].abbreviations.billion+"(?:\\)|(\\"+d[m].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+d[m].abbreviations.trillion+"(?:\\)|(\\"+d[m].currency.symbol+")?(?:\\))?)?$"),s=0;s<=u.length&&!(l=t.indexOf(u[s])>-1?Math.pow(1024,s+1):!1);s++);e._value=(l?l:1)*(c.match(r)?Math.pow(10,3):1)*(c.match(n)?Math.pow(10,6):1)*(c.match(i)?Math.pow(10,9):1)*(c.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=l?Math.ceil(e._value):e._value}return e._value}function i(e,t,r){var n,i,o=t.indexOf("$"),s=t.indexOf("("),a=t.indexOf("-"),u="";return t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$",""),i=c(e._value,t,r),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),n=1,(s>o||a>o)&&(n=0),i.splice(n,0,d[m].currency.symbol+u),i=i.join("")):i=d[m].currency.symbol+u+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,u+d[m].currency.symbol),i=i.join("")):i=i+u+d[m].currency.symbol,i}function o(e,t,r){var n,i="",o=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),n=c(o,t,r),n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,i+"%"),n=n.join("")):n=n+i+"%",n}function s(e){var t=Math.floor(e._value/60/60),r=Math.floor((e._value-60*t*60)/60),n=Math.round(e._value-60*t*60-60*r);return t+":"+(10>r?"0"+r:r)+":"+(10>n?"0"+n:n)}function a(e){var t=e.split(":"),r=0;return 3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1])),Number(r)}function c(e,r,n){var i,o,s,a,c,u,l=!1,h=!1,p=!1,f="",y=!1,v=!1,b=!1,S=!1,w=!1,_="",T="",E=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],x="",R=!1;if(0===e&&null!==g)return g;if(r.indexOf("(")>-1?(l=!0,r=r.slice(1,-1)):r.indexOf("+")>-1&&(h=!0,r=r.replace(/\+/g,"")),r.indexOf("a")>-1&&(y=r.indexOf("aK")>=0,v=r.indexOf("aM")>=0,b=r.indexOf("aB")>=0,S=r.indexOf("aT")>=0,w=y||v||b||S,r.indexOf(" a")>-1?(f=" ",r=r.replace(" a","")):r=r.replace("a",""),E>=Math.pow(10,12)&&!w||S?(f+=d[m].abbreviations.trillion,e/=Math.pow(10,12)):E<Math.pow(10,12)&&E>=Math.pow(10,9)&&!w||b?(f+=d[m].abbreviations.billion,e/=Math.pow(10,9)):E<Math.pow(10,9)&&E>=Math.pow(10,6)&&!w||v?(f+=d[m].abbreviations.million,e/=Math.pow(10,6)):(E<Math.pow(10,6)&&E>=Math.pow(10,3)&&!w||y)&&(f+=d[m].abbreviations.thousand,e/=Math.pow(10,3))),r.indexOf("b")>-1)for(r.indexOf(" b")>-1?(_=" ",r=r.replace(" b","")):r=r.replace("b",""),s=0;s<=C.length;s++)if(i=Math.pow(1024,s),o=Math.pow(1024,s+1),e>=i&&o>e){_+=C[s],i>0&&(e/=i);break}return r.indexOf("o")>-1&&(r.indexOf(" o")>-1?(T=" ",r=r.replace(" o","")):r=r.replace("o",""),T+=d[m].ordinal(e)),r.indexOf("[.]")>-1&&(p=!0,r=r.replace("[.]",".")),a=e.toString().split(".")[0],c=r.split(".")[1],u=r.indexOf(","),c?(c.indexOf("[")>-1?(c=c.replace("]",""),c=c.split("["),x=t(e,c[0].length+c[1].length,n,c[1].length)):x=t(e,c.length,n),a=x.split(".")[0],x=x.split(".")[1].length?d[m].delimiters.decimal+x.split(".")[1]:"",p&&0===Number(x.slice(1))&&(x="")):a=t(e,null,n),a.indexOf("-")>-1&&(a=a.slice(1),R=!0),u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d[m].delimiters.thousands)),0===r.indexOf(".")&&(a=""),(l&&R?"(":"")+(!l&&R?"-":"")+(!R&&h?"+":"")+a+x+(T?T:"")+(f?f:"")+(_?_:"")+(l&&R?")":"")}function u(e,t){d[e]=t}function l(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function h(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var r=l(e),n=l(t);return r>n?r:n},-(1/0))}var p,f="1.5.3",d={},m="en",g=null,y="0,0",v="undefined"!=typeof module&&module.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=f,p.isNumeral=function(t){return t instanceof e},p.language=function(e,t){if(!e)return m;if(e&&!t){if(!d[e])throw new Error("Unknown language : "+e);m=e}return(t||!d[e])&&u(e,t),p},p.languageData=function(e){if(!e)return d[m];if(!d[e])throw new Error("Unknown language : "+e);return d[e]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(e){g="string"==typeof e?e:null},p.defaultFormat=function(e){y="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n,i=this.length>>>0,o=!1;for(1<arguments.length&&(n=t,o=!0),r=0;i>r;++r)this.hasOwnProperty(r)&&(o?n=e(n,this[r],r,this):(n=this[r],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return n}),p.fn=e.prototype={clone:function(){return p(this)},format:function(e,t){return r(this,e?e:y,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:n(this,e?e:y)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,n,i){return e+r*t}var r=h.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/r,this},subtract:function(e){function t(e,t,n,i){return e-r*t}var r=h.call(null,this._value,e);return this._value=[e].reduce(t,this._value*r)/r,this},multiply:function(e){function t(e,t,r,n){var i=h(e,t);return e*i*(t*i)/(i*i)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,r,n){var i=h(e,t);return e*i/(t*i)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(p(this._value).subtract(e).value())}},v&&(module.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof define&&define.amd&&define([],function(){return p})}.call(this),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var r=e([0]),n=-1,i=this.length;++n<i&&(r.context=r[0]=this[n])&&t.call(r[0],n,r)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function r(t){var r=e(document.createTextNode(""));t.before(r),r.before(t),r.remove()}function n(e){function t(e){return H[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(e,t){for(var r=0,n=t.length;n>r;r+=1)if(s(e,t[r]))return r;return-1}function o(){var t=e(B);t.appendTo(document.body);var r={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),r}function s(e,r){return e===r?!0:e===t||r===t?!1:null===e||null===r?!1:e.constructor===String?e+""==r+"":r.constructor===String?r+""==e+"":!1}function a(e,t,r){var n,i,o;if(null===e||e.length<1)return[];for(n=e.split(t),i=0,o=n.length;o>i;i+=1)n[i]=r(n[i]);return n}function c(e){return e.outerWidth(!1)-e.width()}function u(r){var n="keyup-change-value";r.on("keydown",function(){e.data(r,n)===t&&e.data(r,n,r.val())}),r.on("keyup",function(){var i=e.data(r,n);i!==t&&r.val()!==i&&(e.removeData(r,n),r.trigger("keyup-change"))})}function l(r){r.on("mousemove",function(r){var n=M;(n===t||n.x!==r.pageX||n.y!==r.pageY)&&e(r.target).trigger("mousemove-filtered",r)})}function h(e,r,n){n=n||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){r.apply(n,t)},e)}}function p(e,t){var r=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&r(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,r=e[0],n=e.val().length;e.focus();var i=r.offsetWidth>0||r.offsetHeight>0;i&&r===document.activeElement&&(r.setSelectionRange?r.setSelectionRange(n,n):r.createTextRange&&(t=r.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var r=0,n=0;if("selectionStart"in t)r=t.selectionStart,n=t.selectionEnd-r;else if("selection"in document){t.focus();var i=document.selection.createRange();n=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),r=i.text.length-n}return{offset:r,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function y(t){if(!L){var r=t[0].currentStyle||window.getComputedStyle(t[0],null);L=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:r.fontSize,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontWeight:r.fontWeight,letterSpacing:r.letterSpacing,textTransform:r.textTransform,whiteSpace:"nowrap"}),L.attr("class","select2-sizer"),e(document.body).append(L)}return L.text(t.val()),L.width()}function v(t,r,n){var i,o,s=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),i=e.trim(r.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=n(this),o&&s.push(o))})),t.attr("class",s.join(" "))}function b(e,t,r,i){var o=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),s=t.length;return 0>o?void r.push(i(e)):(r.push(i(e.substring(0,o))),r.push("<span class='select2-match'>"),r.push(i(e.substring(o,o+s))),r.push("</span>"),void r.push(i(e.substring(o+s,e.length))))}function S(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function w(r){var n,i=null,o=r.quietMillis||100,s=r.url,a=this;return function(c){window.clearTimeout(n),n=window.setTimeout(function(){var n=r.data,o=s,u=r.transport||e.fn.select2.ajaxDefaults.transport,l={type:r.type||"GET",cache:r.cache||!1,jsonpCallback:r.jsonpCallback||t,dataType:r.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,l);n=n?n.call(a,c.term,c.page,c.context):null,o="function"==typeof o?o.call(a,c.term,c.page,c.context):o,i&&"function"==typeof i.abort&&i.abort(),r.params&&(e.isFunction(r.params)?e.extend(h,r.params.call(a)):e.extend(h,r.params)),e.extend(h,{url:o,dataType:r.dataType,data:n,success:function(e){var t=r.results(e,c.page,c);c.callback(t)},error:function(e,t,r){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:r};c.callback(n)}}),i=u.call(a,h)},o)}}function _(t){var r,n,i=t,o=function(e){return""+e.text};e.isArray(i)&&(n=i,i={results:n}),e.isFunction(i)===!1&&(n=i,i=function(){return n});var s=i();return s.text&&(o=s.text,e.isFunction(o)||(r=s.text,o=function(e){return e[r]})),function(t){var r,n=t.term,s={results:[]};return""===n?void t.callback(i()):(r=function(i,s){var a,c;if(i=i[0],i.children){a={};for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);a.children=[],e(i.children).each2(function(e,t){r(t,a.children)}),(a.children.length||t.matcher(n,o(a),i))&&s.push(a)}else t.matcher(n,o(i),i)&&s.push(i)},e(i().results).each2(function(e,t){r(t,s.results)}),void t.callback(s))}}function T(r){var n=e.isFunction(r);return function(i){var o=i.term,s={results:[]},a=n?r(i):r;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,r=e?this.text:this;(""===o||i.matcher(o,r))&&s.results.push(e?this:{id:this,text:this})}),i.callback(s))}}function E(t,r){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(r+" must be a string, function, or falsy value")}function C(t,r){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(r,n)}return t}function x(t){var r=0;return e.each(t,function(e,t){t.children?r+=x(t.children):r++}),r}function R(e,r,n,i){var o,a,c,u,l,h=e,p=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(a=-1,c=0,u=i.tokenSeparators.length;u>c&&(l=i.tokenSeparators[c],a=e.indexOf(l),!(a>=0));c++);if(0>a)break;if(o=e.substring(0,a),e=e.substring(a+l.length),o.length>0&&(o=i.createSearchChoice.call(this,o,r),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(p=!1,c=0,u=r.length;u>c;c++)if(s(i.id(o),i.id(r[c]))){p=!0;break}p||n(o)}}return h!==e?e:void 0}function A(){var t=this;e.each(arguments,function(e,r){t[r].remove(),t[r]=null})}function O(t,r){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,r),n}if(window.Select2===t){var j,k,P,I,L,N,D,M={x:0,y:0},F={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case F.SHIFT:case F.CTRL:case F.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},B="<div class='select2-measure-scrollbar'></div>",H={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R",
"Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};N=e(document),I=function(){var e=1;return function(){return e++}}(),j=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(r){var n,i,s=".select2-results";this.opts=r=this.prepareOpts(r),this.id=r.id,r.element.data("select2")!==t&&null!==r.element.data("select2")&&r.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(r.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",r.element.attr("title")),this.body=e(document.body),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",r.element.attr("style")),this.container.css(C(r.containerCss,this.opts.element)),this.container.addClass(C(r.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(r.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(s),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),l(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),p(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,r,i){var o=n.scrollTop();i>0&&0>=o-i?(n.scrollTop(0),m(e)):0>i&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(e))}),u(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==r.maximumInputLength&&this.search.attr("maxlength",r.maximumInputLength);var a=r.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var c=r.element.prop("readonly");c===t&&(c=!1),this.readonly(c),D=D||o(),this.autofocus=r.element.prop("autofocus"),r.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",r.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,r=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&n._sync&&e.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,r!==t&&(r.container.remove(),r.liveRegion.remove(),r.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),A.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(r){var n,i,o,c,u=this;if(n=r.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=i=r.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in r)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),r.debug=r.debug||e.fn.select2.defaults.debug,r.debug&&console&&console.warn&&(null!=r.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=r.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=r.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=r.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=r.ajax&&null!=r.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=r.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=r.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=r.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=r.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=r.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=r.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),r.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=r.element.data("tags")){var l=r.element.data("tags");e.isArray(l)||(l=[]),r.element.data("select2Tags",l)}if(null!=r.sorter&&(r.sortResults=r.sorter),null!=r.selectOnClose&&(r.selectOnBlur=r.selectOnClose),null!=r.ajax&&e.isFunction(r.ajax.processResults)&&(r.ajax.results=r.ajax.processResults),null!=r.language){var h=r.language;e.isFunction(h.noMatches)&&(r.formatNoMatches=h.noMatches),e.isFunction(h.searching)&&(r.formatSearching=h.searching),e.isFunction(h.inputTooShort)&&(r.formatInputTooShort=h.inputTooShort),e.isFunction(h.inputTooLong)&&(r.formatInputTooLong=h.inputTooLong),e.isFunction(h.loadingMore)&&(r.formatLoading=h.loadingMore),e.isFunction(h.maximumSelected)&&(r.formatSelectionTooBig=h.maximumSelected)}if(r=e.extend({},{populateResults:function(n,i,o){var s,a=this.opts.id,c=this.liveRegion;(s=function(n,i,l){var h,p,f,d,m,g,y,v,b,S;n=r.sortResults(n,i,o);var w=[];for(h=0,p=n.length;p>h;h+=1)f=n[h],m=f.disabled===!0,d=!m&&a(f)!==t,g=f.children&&f.children.length>0,y=e("<li></li>"),y.addClass("select2-results-dept-"+l),y.addClass("select2-result"),y.addClass(d?"select2-result-selectable":"select2-result-unselectable"),m&&y.addClass("select2-disabled"),g&&y.addClass("select2-result-with-children"),y.addClass(u.opts.formatResultCssClass(f)),y.attr("role","presentation"),v=e(document.createElement("div")),v.addClass("select2-result-label"),v.attr("id","select2-result-label-"+I()),v.attr("role","option"),S=r.formatResult(f,v,o,u.opts.escapeMarkup),S!==t&&(v.html(S),y.append(v)),g&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),s(f.children,b,l+1),y.append(b)),y.data("select2-data",f),w.push(y[0]);i.append(w),c.text(r.formatMatches(n.length))})(i,n,0)}},e.fn.select2.defaults,r),"function"!=typeof r.id&&(o=r.id,r.id=function(e){return e[o]}),e.isArray(r.element.data("select2Tags"))){if("tags"in r)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+r.element.attr("id");r.tags=r.element.data("select2Tags")}if(i?(r.query=this.bind(function(e){var r,i,o,s={results:[],more:!1},a=e.term;o=function(t,r){var n;t.is("option")?e.matcher(a,t.text(),t)&&r.push(u.optionToData(t)):t.is("optgroup")&&(n=u.optionToData(t),t.children().each2(function(e,t){o(t,n.children)}),n.children.length>0&&r.push(n))},r=n.children(),this.getPlaceholder()!==t&&r.length>0&&(i=this.getPlaceholderOption(),i&&(r=r.not(i))),r.each2(function(e,t){o(t,s.results)}),e.callback(s)}),r.id=function(e){return e.id}):"query"in r||("ajax"in r?(c=r.element.data("ajax-url"),c&&c.length>0&&(r.ajax.url=c),r.query=w.call(r.element,r.ajax)):"data"in r?r.query=_(r.data):"tags"in r&&(r.query=T(r.tags),r.createSearchChoice===t&&(r.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),r.initSelection===t&&(r.initSelection=function(t,n){var i=[];e(a(t.val(),r.separator,r.transformVal)).each(function(){var t={id:this,text:this},n=r.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),n(i)}))),"function"!=typeof r.query)throw"query function not defined for Select2 "+r.element.attr("id");if("top"===r.createSearchChoicePosition)r.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===r.createSearchChoicePosition)r.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof r.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return r},monitorSource:function(){var r,n=this.opts.element,i=this;n.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var r=n.prop("readonly");r===t&&(r=!1),this.readonly(r),this.container&&(v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",i._sync)}),r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var r=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(r),!r.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,r,n,i,o,s=this.dropdown,a=this.container,c=a.offset(),u=a.outerHeight(!1),l=a.outerWidth(!1),h=s.outerHeight(!1),p=e(window),f=p.width(),d=p.height(),m=p.scrollLeft()+f,g=p.scrollTop()+d,y=c.top+u,v=c.left,b=g>=y+h,S=c.top-h>=p.scrollTop(),w=s.outerWidth(!1),_=function(){return m>=v+w},T=function(){return c.left+m+a.outerWidth(!1)>w},E=s.hasClass("select2-drop-above");E?(r=!0,!S&&b&&(n=!0,r=!1)):(r=!1,!b&&S&&(n=!0,r=!0)),n&&(s.hide(),c=this.container.offset(),u=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=s.outerHeight(!1),m=p.scrollLeft()+f,g=p.scrollTop()+d,y=c.top+u,v=c.left,w=s.outerWidth(!1),s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:D.width),w>l?l=w:w=l,h=s.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),y-=t.top,v-=t.left),!_()&&T()&&(v=c.left+this.container.outerWidth(!1)-w),i={left:v,width:l},r?(this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above"),h=s.outerHeight(!1),i.top=c.top-h,i.bottom="auto"):(i.top=y,i.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),i=e.extend(i,C(this.opts.dropdownCss,this.opts.element)),s.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),N.on("mousemove.select2Event",function(e){M.x=e.pageX,M.y=e.pageY}),!0):!1},opening:function(){var t,n=this.containerEventName,i="scroll."+n,o="resize."+n,s="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){r(t);var i,o=e("#select2-drop");o.length>0&&(i=o.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+i+" "+s,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,r="scroll."+t,n="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(r).off(n).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==t?(this.search.val(e),this.search.select(),!0):!1},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,r,n,i,o,s,a,c,u=this.results;if(r=this.highlight(),!(0>r)){if(0==r)return void u.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[r]),c=(n.offset()||{}).top||0,i=c+n.outerHeight(!0),r===t.length-1&&(a=u.find("li.select2-more-results"),a.length>0&&(i=a.offset().top+a.outerHeight(!0))),o=u.offset().top+u.outerHeight(!1),i>o&&u.scrollTop(u.scrollTop()+(i-o)),s=c-u.offset().top,0>s&&"none"!=n.css("display")&&u.scrollTop(u.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var r=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<r.length;){n+=t;var i=e(r[n]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var r,n,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),r=e(o[t]),r.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",r.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(r.text()),n=r.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var r=e(t.target).closest(".select2-result-selectable");if(r.length>0&&!r.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(r))}else 0==r.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,r=t.find("li.select2-more-results"),n=this.resultsPage+1,i=this,o=this.search.val(),s=this.context;0!==r.length&&(e=r.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(r.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:n,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:o,page:n,context:s}),i.postprocessResults(e,!1,!1),e.more===!0?(r.detach().appendTo(t).html(i.opts.escapeMarkup(C(i.opts.formatLoadMore,i.opts.element,n+1))),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):r.remove(),i.positionDropdown(),i.resultsPage=n,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(r){function n(){u.removeClass("select2-active"),p.positionDropdown(),l.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?p.liveRegion.text(l.text()):p.liveRegion.text(p.opts.formatMatches(l.find('.select2-result-selectable:not(".select2-selected")').length))}function i(e){l.html(e),n()}var o,a,c,u=this.search,l=this.results,h=this.opts,p=this,f=u.val(),d=e.data(this.container,"select2-last-term");if((r===!0||!d||!s(f,d))&&(e.data(this.container,"select2-last-term",f),r===!0||this.showSearchInput!==!1&&this.opened())){c=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&E(h.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+C(h.formatSelectionTooBig,h.element,m)+"</li>");if(u.val().length<h.minimumInputLength)return i(E(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+C(h.formatInputTooShort,h.element,u.val(),h.minimumInputLength)+"</li>":""),void(r&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&u.val().length>h.maximumInputLength)return void i(E(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+C(h.formatInputTooLong,h.element,u.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+C(h.formatSearching,h.element)+"</li>"),u.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&u.val(a),this.resultsPage=1,h.query({element:h.element,term:u.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var a;if(c==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&E(h.formatAjaxError,"formatAjaxError"))return void i("<li class='select2-ajax-error'>"+C(h.formatAjaxError,h.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==u.val()&&(a=this.opts.createSearchChoice.call(p,u.val(),o.results),a!==t&&null!==a&&p.id(a)!==t&&null!==p.id(a)&&0===e(o.results).filter(function(){return s(p.id(this),p.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a)),0===o.results.length&&E(h.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+C(h.formatNoMatches,h.element,u.val())+"</li>"),void(this.showSearch&&this.showSearch(u.val()));l.empty(),p.opts.populateResults.call(this,l,o.results,{term:u.val(),page:this.resultsPage,context:null}),o.more===!0&&E(h.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+h.escapeMarkup(C(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(o,r),n(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),r=this.results.find(".select2-highlighted"),n=r.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var r=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&r||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(r.text())&&""===r.val())return r}},initContainerWidth:function(){function t(){var t,r,n,i,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),"string"==typeof t)for(r=t.split(";"),i=0,o=r.length;o>i;i+=1)if(s=r[i].replace(/\s/g,""),n=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=t.call(this);null!==r&&this.container.css("width",r)}}),k=O(j,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,r,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(r=t.createTextRange(),r.collapse(!1),r.select()):t.setSelectionRange&&(n=this.search.val().length,t.setSelectionRange(n,n))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"selection","focusser")},initContainer:function(){var t,n,i=this.container,o=this.dropdown,s=I();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),
this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===F.PAGE_UP||e.which===F.PAGE_DOWN)return void m(e);switch(e.which){case F.UP:case F.DOWN:return this.moveHighlight(e.which===F.UP?-1:1),void m(e);case F.ENTER:return this.selectHighlighted(),void m(e);case F.TAB:return void this.selectHighlighted({noFocus:!0});case F.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==F.TAB&&!F.isControl(e)&&!F.isFunctionKey(e)&&e.which!==F.ESC){if(this.opts.openOnEnter===!1&&e.which===F.ENTER)return void m(e);if(e.which==F.DOWN||e.which==F.UP||e.which==F.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==F.DELETE||e.which==F.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){r(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var r=this.selection.data("select2-data");if(r){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(r),choice:r}),this.triggerChange({removed:r}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(r){r!==t&&null!==r&&(e.updateSelection(r),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),r=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});t(r.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(r,n){var i=r.val(),o=null;t.query({matcher:function(e,r,n){var a=s(i,t.id(n));return a&&(o=n),a},callback:e.isFunction(n)?function(){n(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,r){var n=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return s(i.id(t.data("select2-data")),i.opts.element.val())?(n=e,!1):void 0}),r!==!1&&(t===!0&&n>=0?this.highlight(n):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(x(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var r=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(r,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var r,n,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(r=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),r!==t&&i.append(r),n=this.opts.formatSelectionCssClass(e,i),n!==t&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,r=!1,n=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(r=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=i.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),r&&this.triggerChange({added:n,removed:o});else{if(!e&&0!==e)return void this.clear(r);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),r&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var r,n=!1;return 0===arguments.length?(r=this.selection.data("select2-data"),r==t&&(r=null),r):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(n=arguments[1]),e?(r=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:r})):this.clear(n),void 0)}}),P=O(j,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),r=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(r.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(r,n){var i=a(r.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(r,n,a){var c=e.grep(i,function(e){return s(e,t.id(a))}).length;return c&&o.push(a),c},callback:e.isFunction(n)?function(){for(var e=[],r=0;r<i.length;r++)for(var a=i[r],c=0;c<o.length;c++){var u=o[c];if(s(a,t.id(u))){e.push(u),o.splice(c,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"searchContainer","selection")},initContainer:function(){var t,r=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(r);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var r=t.find(".select2-search-choice-focus"),n=r.prev(".select2-search-choice:not(.select2-locked)"),i=r.next(".select2-search-choice:not(.select2-locked)"),o=d(this.search);if(r.length&&(e.which==F.LEFT||e.which==F.RIGHT||e.which==F.BACKSPACE||e.which==F.DELETE||e.which==F.ENTER)){var s=r;return e.which==F.LEFT&&n.length?s=n:e.which==F.RIGHT?s=i.length?i:null:e.which===F.BACKSPACE?this.unselect(r.first())&&(this.search.width(10),s=n.length?n:i):e.which==F.DELETE?this.unselect(r.first())&&(this.search.width(10),s=i.length?i:null):e.which==F.ENTER&&(s=null),this.selectChoice(s),m(e),void(s&&s.length||this.open())}if((e.which===F.BACKSPACE&&1==this.keydowns||e.which==F.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case F.UP:case F.DOWN:return this.moveHighlight(e.which===F.UP?-1:1),void m(e);case F.ENTER:return this.selectHighlighted(),void m(e);case F.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case F.ESC:return this.cancel(e),void m(e)}if(e.which!==F.TAB&&!F.isControl(e)&&!F.isFunctionKey(e)&&e.which!==F.BACKSPACE&&e.which!==F.ESC){if(e.which===F.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===F.PAGE_UP||e.which===F.PAGE_DOWN)&&m(e),e.which===F.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",r,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",r,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(r){r!==t&&null!==r&&(e.updateSelection(r),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),r=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(r>0?r:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r={},n=[],i=this;e(t).each(function(){i.id(this)in r||(r[i.id(this)]=0,n.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var r=this.getVal(),n=this;e(t).each(function(){r.push(n.createChoice(this))}),this.setVal(r)},createChoice:function(r){var n,i,o=!r.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),c=o?s:a,u=this.id(r);return n=this.opts.formatSelection(r,c.find("div"),this.opts.escapeMarkup),n!=t&&c.find("div").replaceWith(e("<div></div>").html(n)),i=this.opts.formatSelectionCssClass(r,c.find("div")),i!=t&&c.addClass(i),o&&c.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),c.data("select2-data",r),c.insertBefore(this.searchContainer),u},unselect:function(t){var r,n,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(r=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(r),s.choice=r,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(n=i(this.id(r),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(r),choice:r}),this.triggerChange({removed:r}),!0}},postprocessResults:function(e,t,r){var n=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var r=a.id(t.data("select2-data"));i(r,n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&r!==!1&&this.opts.closeOnSelect===!0&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&E(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+C(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-c(this.search)},resizeSearch:function(){var e,t,r,n,i,o=c(this.search);e=y(this.search)+10,t=this.search.offset().left,r=this.selection.width(),n=this.selection.offset().left,i=r-(t-n)-o,e>i&&(i=r-o),40>i&&(i=r-o),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){if(this.select)this.select.val(t);else{var r=[],n={};e(t).each(function(){this in n||(r.push(this),n[this]=0)}),this.opts.element.val(0===r.length?"":r.join(this.opts.separator))}},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),r=0;r<t.length;r++)for(var n=0;n<e.length;n++)if(s(this.opts.id(t[r]),this.opts.id(e[n]))){t.splice(r,1),r--,e.splice(n,1);break}return{added:t,removed:e}},val:function(r,n){var i,o=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!r&&0!==r)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(r),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var r=e.map(t,o.id);o.setVal(r),o.updateSelection(t),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],r=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(r.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,r){var n,i,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),n=e.map(t,function(e){return o.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),r&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var r,n,o,s,a,c=Array.prototype.slice.call(arguments,0),u=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])r=0===c.length?{}:e.extend({},c[0]),r.element=e(this),"select"===r.element.get(0).tagName.toLowerCase()?a=r.element.prop("multiple"):(a=r.multiple||!1,"tags"in r&&(r.multiple=a=!0)),n=a?new window.Select2["class"].multi:new window.Select2["class"].single,n.init(r);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(i(c[0],u)<0)throw"Unknown method: "+c[0];if(s=t,n=e(this).data("select2"),n===t)return;if(o=c[0],"container"===o?s=n.container:"dropdown"===o?s=n.dropdown:(p[o]&&(o=p[o]),s=n[o].apply(n,c.slice(1))),i(c[0],l)>=0||i(c[0],h)>=0&&1==c.length)return!1}}),s===t?this:s},e.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,r,n){var i=[];return b(this.text(e),r.term,i,n),i.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,r,n){return e?n(this.text(e)):t},sortResults:function(e,t,r){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,r){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:R,escapeMarkup:S,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,r){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,r){return"Loading failed"},formatInputTooShort:function(e,t){var r=t-e.length;return"Please enter "+r+" or more character"+(1==r?"":"s")},formatInputTooLong:function(e,t){var r=e.length-t;return"Please delete "+r+" character"+(1==r?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more resultsâ¦"},formatSearching:function(){return"Searchingâ¦"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:_,tags:T},util:{debounce:h,markMatch:b,escapeMarkup:S,stripDiacritics:n},"class":{"abstract":j,single:k,multi:P}}}}(jQuery),function(e){"use strict";var t=e.editors.TextEditor.prototype.extend();t.prototype.prepare=function(t,r,n,i,o,s){e.editors.TextEditor.prototype.prepare.apply(this,arguments),this.options={},this.cellProperties.select2Options&&(this.options=$.extend(this.options,s.select2Options))},t.prototype.createElements=function(){this.$body=$(document.body),this.wtDom=e.Dom,this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","text"),this.$textarea=$(this.TEXTAREA),this.wtDom.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),this.wtDom.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);var t=this;e.PluginHooks.add("afterRender",function(){t.instance._registerTimeout("refresh_editor_dimensions",function(){t.refreshDimensions()},0)})};var r=function(){this.close(),this.finishEditing()},n=function(){this.close(),this.finishEditing()},i=function(t){var r=this,n=r.getActiveEditor(),i=e.helper.keyCode,o=(t.ctrlKey||t.metaKey)&&!t.altKey;if(t.target===n.TEXTAREA&&!t.isImmediatePropagationStopped()){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void t.stopImmediatePropagation();switch(t.keyCode){case i.ENTER:var s=n.instance.getSelected(),a=!(s[0]===s[2]&&s[1]===s[3]);(o&&!a||t.altKey)&&(n.isOpened()?(n.val(n.val()+"\n"),n.focus()):n.beginEditing(n.originalValue+"\n"),t.stopImmediatePropagation()),t.preventDefault();break;case i.A:case i.X:case i.C:case i.V:if(o){t.stopImmediatePropagation();break}case i.HOME:case i.END:t.stopImmediatePropagation()}}};t.prototype.open=function(){this.refreshDimensions(),this.textareaParentStyle.display="block",this.instance.addHook("beforeKeyDown",i),this.$textarea.css({height:$(this.TD).height(),"min-width":$(this.TD).outerWidth()}),this.$textarea.show(),this.$textarea.select2(this.options).on("change",r.bind(this)).on("select2-close",n.bind(this))},t.prototype.close=function(){this.instance.listen(),this.instance.removeHook("beforeKeyDown",i),this.$textarea.off(),this.$textarea.hide(),e.editors.TextEditor.prototype.close.apply(this,arguments)},t.prototype.val=function(e){return"undefined"==typeof e?this.$textarea.val():void this.$textarea.val(e)},t.prototype.focus=function(){this.instance.listen()},t.prototype.beginEditing=function(t){var r=this.instance.getSettings().onBeginEditing;r&&r()===!1||e.editors.TextEditor.prototype.beginEditing.apply(this,arguments)},t.prototype.finishEditing=function(t,r){return this.instance.listen(),e.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},e.editors.Select2Editor=t,e.editors.registerEditor("select2",t)}(Handsontable);var nuxeo=function(e){function t(){for(var e=Array.prototype.slice.call(arguments),t=e.length-1;t>=0;t--)(null===e[t]||void 0===e[t]||"string"==typeof e[t]&&0===e[t].length)&&e.splice(t,1);var r=e.join("/");return r.replace(/(^\/+)|([^:])\/\/+/g,"$2/")}"undefined"==typeof log&&(log=function(){});var r={baseURL:"/nuxeo",restPath:"site/api/v1",automationPath:"site/automation",username:null,password:null,timeout:3e3},n=function(e){e=jQuery.extend(!0,{},r,e||{}),this._baseURL=e.baseURL,this._restURL=t(this._baseURL,e.restPath),this._automationURL=t(this._baseURL,e.automationPath),this._username=e.username,this._password=e.password,this._repositoryName=e.repositoryName||"default",this._schemas=e.schemas||[],this._headers=e.headers||{},this._timeout=e.timeout,this.connected=!1};n.prototype.connect=function(e){var r=this,n={Accept:"application/json"},i={};this._username&&this._password&&(n.Authorization="Basic "+btoa(this._username+":"+this._password),i={withCredentials:!0}),jQuery.ajax({type:"POST",url:t(this._automationURL,"login"),headers:n,xhrFields:i}).done(function(t,n,i){"login"===t["entity-type"]&&t.username===r._username?(r.connected=!0,e&&e(null,r)):e&&e(t,r)}).fail(function(t,n,i){e&&e(i,r)})},n.prototype.header=function(e,t){return this._headers[e]=t,this},n.prototype.headers=function(e){return this._headers=jQuery.extend(!0,{},this._headers,e),this},n.prototype.timeout=function(e){return this._timeout=e,this},n.prototype.repositoryName=function(e){return this._repositoryName=e,this},n.prototype.schema=function(e){return this._schemas.push(e),this},n.prototype.schemas=function(e){return this._schemas.push.apply(this._schemas,e),this},n.prototype.fetchOperationDefinitions=function(e){var t={Accept:"application/json"},r={};this._username&&this._password&&(t.Authorization="Basic "+btoa(this._username+":"+this._password),r={withCredentials:!0}),jQuery.ajax({type:"GET",url:this._automationURL,headers:t,xhrFields:r}).done(function(t,r,n){e&&e(null,t,n)}).fail(function(t,r,n){e&&e(n,null,t)})},n.prototype.operation=function(e){return new i({id:e,url:this._automationURL,username:this._username,password:this._password,timeout:this._timeout,repositoryName:this._repositoryName,schemas:this._schemas,headers:this._headers})},n.prototype.request=function(e){return new o({url:this._restURL,username:this._username,password:this._password,path:e,timeout:this._timeout,repositoryName:this._repositoryName,schemas:this._schemas,headers:this._headers})},n.prototype.document=function(e){return new s({client:this,data:e,timeout:this._timeout,repositoryName:this._repositoryName,schemas:this._schemas,headers:this._headers})},n.prototype.uploader=function(e){return e=jQuery.extend(!0,e,{automationURL:this._automationURL,username:this._username,password:this._password,data:data,timeout:this._timeout,repositoryName:this._repositoryName,headers:this._headers}),new c(e)},e.Client=n;var i=function(e){this._id=e.id,this._url=e.url,this._username=e.username,this._password=e.password,this._timeout=e.timeout,this._overrideMimeType=e.overrideMimeType,this._repositoryName=e.repositoryName,this._schemas=[].concat(e.schemas),this._headers=e.headers||{},this._automationParams={params:{},context:{},input:void 0},this.header("X-NXVoidOperation",!1)};i.prototype.timeout=function(e){return this._timeout=e,this},i.prototype.overrideMimeType=function(e){return this._overrideMimeType=e,this},i.prototype.header=function(e,t){return this._headers[e]=t,this},i.prototype.headers=function(e){return this._headers=jQuery.extend(!0,{},this._headers,e),this},i.prototype.repositoryName=function(e){return this._repositoryName=e,this},i.prototype.schema=function(e){return this._schemas.push(e),this},i.prototype.schemas=function(e){return this._schemas.push.apply(this._schemas,e),this},i.prototype.param=function(e,t){return this._automationParams.params[e]=t,this},i.prototype.params=function(e){return this._automationParams.params=jQuery.extend(!0,{},this._automationParams.params,e),this},i.prototype.context=function(e){return this._automationParams.context=e,this},i.prototype.input=function(e){return this._automationParams.input=e,this},i.prototype.voidOperation=function(e){return this.header("X-NXVoidOperation",e),this},i.prototype.execute=function(e,t){function r(e,t){return-1==e.indexOf("/",e.length-1)&&(e+="/"),e+=t}"function"==typeof e&&(t=e,e={}),e=e||{};var n=jQuery.extend(!0,{},this._headers);n["Nuxeo-Transaction-Timeout"]=5+this._timeout/1e3|0,this._schemas.length>0&&(n["X-NXDocumentProperties"]=this._schemas.join(",")),void 0!==this._repositoryName&&(n["X-NXRepository"]=this._repositoryName),n=jQuery.extend(!0,n,e.headers||{});var i={};this._username&&this._password&&(n.Authorization="Basic "+btoa(this._username+":"+this._password),i={withCredentials:!0});var o=this,s={type:"POST",timeout:this._timeout,headers:n,url:r(this._url,this._id),xhrFields:i,beforeSend:function(e){o._overrideMimeType&&e.overrideMimeType(o._overrideMimeType)}};if("object"==typeof this._automationParams.input){var a={params:this._automationParams.params,context:this._automationParams.context},c=new FormData,u=new Blob([JSON.stringify(a)],{
type:"application/json+nxrequest"});c.append("request",u,"request"),c.append(e.filename,this._automationParams.input,e.filename),s.data=c,s.processData=!1,s.contentType="multipart/form-data"}else s.data=JSON.stringify(this._automationParams),s.contentType="application/json+nxrequest";jQuery.ajax(s).done(function(e,r,n){t&&t(null,e,n)}).fail(function(e,r,n){t&&t(n,null,e)})},i.prototype.uploader=function(e){return e=jQuery.extend(!0,{},e,{operationId:this._id,url:this._url,username:this._username,password:this._password,timeout:this._timeout,repositoryName:this._repositoryName,headers:this._headers,automationParams:this._automationParams}),this._uploader||(this._uploader=new c(e)),this._uploader};var o=function(e){this._path=e.path||"",this._url=e.url,this._username=e.username,this._password=e.password,this._timeout=e.timeout,this._overrideMimeType=e.overrideMimeType,this._repositoryName=e.repositoryName,this._schemas=[].concat(e.schemas),this._headers=e.headers||{},this._query=e.query||{}};o.prototype.timeout=function(e){return this._timeout=e,this},o.prototype.overrideMimeType=function(e){return this._overrideMimeType=e,this},o.prototype.header=function(e,t){return this._headers[e]=t,this},o.prototype.headers=function(e){return this._headers=jQuery.extend(!0,{},this._headers,e),this},o.prototype.repositoryName=function(e){return this._repositoryName=e,this},o.prototype.schema=function(e){return this._schemas.push(e),this},o.prototype.schemas=function(e){return this._schemas.push.apply(this._schemas,e),this},o.prototype.query=function(e){return this._query=jQuery.extend(!0,{},this._query,e),this},o.prototype.path=function(e){return this._path=t(this._path,e),this},o.prototype.get=function(e,t){"function"==typeof e&&(t=e,e={}),e=jQuery.extend(!0,{},e,{method:"get"}),this.execute(e,t)},o.prototype.post=function(e,t){"function"==typeof e&&(t=e,e={}),this.headers({"Content-Type":"application/json"}),e.data&&"string"!=typeof e.data&&(e.data=JSON.stringify(e.data)),e=jQuery.extend(!0,e,{method:"post"}),this.execute(e,t)},o.prototype.put=function(e,t){"function"==typeof e&&(t=e,e={}),this.headers({"Content-Type":"application/json"}),e.data&&"string"!=typeof e.data&&(e.data=JSON.stringify(e.data)),e=jQuery.extend(!0,e,{method:"put"}),this.execute(e,t)},o.prototype["delete"]=function(e,t){"function"==typeof e&&(t=e,e={}),e=jQuery.extend(!0,e,{method:"delete"}),this.execute(e,t)},o.prototype.execute=function(e,r){"function"==typeof e&&(r=e,e={}),e=e||{},e.method=e.method||"get";var n=jQuery.extend(!0,{},this._headers);n.Accept="application/json",n["Nuxeo-Transaction-Timeout"]=5+this._timeout/1e3|0,this._schemas.length>0&&(n["X-NXDocumentProperties"]=this._schemas.join(",")),n=jQuery.extend(!0,n,e.headers||{}),"application/json"===n["Content-Type"]&&e.data&&"object"==typeof e.data&&(e.data=JSON.stringify(e.data));var i=jQuery.extend(!0,{},this._query);i=jQuery.extend(!0,i,e.query||{});var o="";void 0!==this._repositoryName&&(o=t("repo",this._repositoryName)),o=t(o,this._path);var s=e.data||i,a={};this._username&&this._password&&(n.Authorization="Basic "+btoa(this._username+":"+this._password),a={withCredentials:!0});var c={type:e.method,timeout:this._timeout,headers:n,data:s,url:t(this._url,o),xhrFields:a,beforeSend:function(e){self._overrideMimeType&&e.overrideMimeType(self._overrideMimeType)}};jQuery.ajax(c).done(function(e,t,n){r&&r(null,e,n)}).fail(function(e,t,n){r&&r(n,null,e)})};var s=function(e){this._client=e.client,this._timeout=e.timeout,this._repositoryName=e.repositoryName,this._schemas=[].concat(e.schemas),this._headers=e.headers||{},this.properties={},this.dirtyProperties={};var t=e.data;if("string"==typeof t)0===t.indexOf("/")?this.path=t:this.uid=t;else{if("object"!=typeof t)throw new Error;jQuery.extend(!0,this,t)}};s.prototype.timeout=function(e){return this._timeout=e,this},s.prototype.header=function(e,t){return this._headers[e]=t,this},s.prototype.headers=function(e){return this._headers=jQuery.extend(!0,{},this._headers,e),this},s.prototype.repositoryName=function(e){return this.repository=e,this},s.prototype.schema=function(e){return this._schemas.push(e),this},s.prototype.schemas=function(e){return this._schemas.push.apply(this._schemas,e),this},s.prototype.adapter=function(e){return this._adapter=e,this},s.prototype.set=function(e){return this.dirtyProperties=jQuery.extend(!0,{},this.dirtyProperties,e),this.properties=jQuery.extend(!0,{},this.properties,e),this},s.prototype.fetch=function(e){var r=this,n=void 0!==this.uid?t("id",this.uid):t("path",this.path);void 0!==this._adapter&&(n=t(n,"@bo",this._adapter));var i=this._client.request(n);i.timeout(this._timeout).schemas(this._schemas).headers(this._headers).repositoryName(this.repository),i.get(function(t,n,i){void 0!==n&&"object"==typeof n&&"document"===n["entity-type"]&&(n=r._client.document(n)),e&&e(t,n,i)})},s.prototype.create=function(e,r){var n=this,i=void 0!==this.uid?t("id",this.uid):t("path",this.path);void 0!==this._adapter&&(i=t(i,"@bo",this._adapter,e.name));var o=this._client.request(i);o.timeout(this._timeout).schemas(this._schemas).headers(this._headers).repositoryName(this.repository),o.post({data:e},function(e,t,i){void 0!==t&&"object"==typeof t&&"document"===t["entity-type"]&&(t=n._client.document(t)),r&&r(e,t,i)})},s.prototype.update=function(e,r){var n=this,i=void 0!==this.uid?t("id",this.uid):t("path",this.path);void 0!==this._adapter&&(i=t(i,"@bo",this._adapter));var o=this._client.request(i);o.timeout(this._timeout).schemas(this._schemas).headers(this._headers).repositoryName(this.repository),o.put({data:e},function(e,t,i){void 0!==t&&"object"==typeof t&&"document"===t["entity-type"]&&(t=n._client.document(t)),r&&r(e,t,i)})},s.prototype["delete"]=function(e){var r=this,n=void 0!==this.uid?t("id",this.uid):t("path",this.path),i=this._client.request(n);i.timeout(this._timeout).schemas(this._schemas).headers(this._headers).repositoryName(this.repository),i["delete"](function(t,n,i){void 0!==n&&"object"==typeof n&&"document"===n["entity-type"]&&(n=r._client.document(n)),e&&e(t,n,i)})},s.prototype.save=function(e){this.update({uid:this.uid,properties:this.dirtyProperties},e)},s.prototype.children=function(e){var r=this,n=void 0!==this.uid?t("id",this.uid):t("path",this.path);n=t(n,"@children");var i=this._client.request(n);i.timeout(this._timeout).schemas(this._schemas).headers(this._headers).repositoryName(this.repository),i.get(function(t,n,i){void 0!==n&&"object"==typeof n&&"document"===n["entity-type"]&&(n=r._client.document(n)),e&&e(t,n,i)})};var a={numConcurrentUploads:5,directUpload:!0,uploadRateRefreshTime:1e3,batchStartedCallback:function(e){},batchFinishedCallback:function(e){},uploadStartedCallback:function(e,t){},uploadFinishedCallback:function(e,t,r){},uploadProgressUpdatedCallback:function(e,t,r){},uploadSpeedUpdatedCallback:function(e,t,r){}},c=function(e){e=jQuery.extend(!0,{},a,e||{}),this._url=e.url,this._username=e.username,this._password=e.password,this._operationId=e.operationId,this._automationParams={params:{},context:{},input:void 0},this._automationParams=jQuery.extend(!0,this._automationParams,e.automationParams||{}),this._numConcurrentUploads=e.numConcurrentUploads,this._directUpload=e.directUpload,this._uploadRateRefreshTime=e.uploadRateRefreshTime,this._batchStartedCallback=e.batchFinishedCallback,this._batchFinishedCallback=e.batchFinishedCallback,this._uploadStartedCallback=e.uploadStartedCallback,this._uploadFinishedCallback=e.uploadFinishedCallback,this._uploadProgressUpdatedCallback=e.uploadProgressUpdatedCallback,this._uploadSpeedUpdatedCallback=e.uploadSpeedUpdatedCallback,this._timeout=e.timeout,this._repositoryName=e.repositoryName,this._headers=e.headers||{},this._sendingRequestsInProgress=!1,this._uploadStack=[],this._uploadIndex=0,this._nbUploadInProgress=0,this._completedUploads=[],this.batchId="batch-"+(new Date).getTime()+"-"+Math.floor(1e5*Math.random()),this._automationParams.params.operationId=this._operationId,this._automationParams.params.batchId=this.batchId};return c.prototype.timeout=function(e){return this._timeout=e,this},c.prototype.header=function(e,t){return this._headers[e]=t,this},c.prototype.headers=function(e){return this._headers=jQuery.extend(!0,{},this._headers,e),this},c.prototype.repositoryName=function(e){return this._repositoryName=e,this},c.prototype.uploadFile=function(e,t){t&&(e.callback=t),this._uploadStack.push(e),this._directUpload&&!this._sendingRequestsInProgress&&this.uploadFiles()},c.prototype.uploadFiles=function(){var e=this;if(this._nbUploadInProgress>=this._numConcurrentUploads)return this._sendingRequestsInProgress=!1,void log("delaying upload for next file(s) "+this._uploadIndex+"+ since there are already "+this._nbUploadInProgress+" active uploads");for(this._batchStartedCallback(this.batchId),this._sendingRequestsInProgress=!0;this._uploadStack.length>0;){var r=this._uploadStack.shift(),n=new XMLHttpRequest,i=n.upload;i.fileIndex=this._uploadIndex+0,i.fileObj=r,i.downloadStartTime=(new Date).getTime(),i.currentStart=i.downloadStartTime,i.currentProgress=0,i.startData=0,i.batchId=this.batchId,i.addEventListener("progress",function(t){e._progress(t)},!1),r.callback&&(i.callback=r.callback),navigator.userAgent.indexOf("Firefox")>-1&&i.addEventListener("load",function(e){log("trigger load"),log(e),this._load(e.target)},!1),n.onreadystatechange=function(t){return function(){e._readyStateChange(t)}}(n);var o=5+this._timeout/1e3|0,s=t(this._url,"batch/upload");if(log("starting upload for file "+this._uploadIndex),n.open("POST",s),n.setRequestHeader("Cache-Control","no-cache"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("X-File-Name",encodeURIComponent(r.name)),n.setRequestHeader("X-File-Size",r.size),n.setRequestHeader("X-File-Type",r.type),n.setRequestHeader("X-Batch-Id",this.batchId),n.setRequestHeader("X-File-Idx",this._uploadIndex),n.setRequestHeader("Nuxeo-Transaction-Timeout",o),this._username&&this._password&&n.setRequestHeader("Authorization","Basic "+btoa(this._username+":"+this._password)),this._nbUploadInProgress++,this._uploadStartedCallback(this._uploadIndex,r),this._uploadIndex++,n.send(r),this._nbUploadInProgress>=this._numConcurrentUploads)return this._sendingRequestsInProgress=!1,void log("delaying upload for next file(s) "+this._uploadIndex+"+ since there are already "+this._nbUploadInProgress+" active uploads")}this._sendingRequestsInProgress=!1},c.prototype.execute=function(e,r){"function"==typeof e&&(r=e,e={}),e=e||{};var n=jQuery.extend(!0,{},this._headers);n["Nuxeo-Transaction-Timeout"]=5+this._timeout/1e3|0,n["Content-Type"]="application/json+nxrequest",n=jQuery.extend(!0,n,e.headers||{});var i={};this._username&&this._password&&(n.Authorization="Basic "+btoa(this._username+":"+this._password),i={withCredentials:!0});var o={type:"POST",timeout:this._timeout,headers:n,data:JSON.stringify(this._automationParams),url:t(this._url,"batch/execute"),xhrFields:i};jQuery.ajax(o).done(function(e,t,n){r&&r(null,e,n)}).fail(function(e,t,n){r&&r(n,null,e)})},c.prototype._readyStateChange=function(e){var t=e.upload;log("readyStateChange event on file upload "+t.fileIndex+" (state : "+e.readyState+")"),4==e.readyState&&(200==e.status?this._load(t):log("Upload failed, status: "+e.status))},c.prototype._load=function(e){var t=e.fileIndex;if(log("Received loaded event on  file "+t),!(this._completedUploads.indexOf(t)<0))return void log("Event already processsed for file "+t+", exiting");this._completedUploads.push(t);var r=(new Date).getTime(),n=r-e.downloadStartTime;this._uploadFinishedCallback(e.fileIndex,e.fileObj,n),log("upload of file "+e.fileIndex+" completed"),e.callback&&e.callback(e.fileIndex,e.fileObj,n),this._nbUploadInprogress--,!this._sendingRequestsInProgress&&this._uploadStack.length>0&&this._nbUploadInprogress<this._numConcurrentUploads?(log("restart pending uploads"),this.uploadFiles()):0==this._nbUploadInProgress&&this._batchFinishedCallback(batchId)},c.prototype._progress=function(e){if(log(e),e.lengthComputable){var t=Math.round(100*e.loaded/e.total);if(e.target.currentProgress!=t){log("progress event on upload of file "+e.target.fileIndex+" --> "+t+"%"),e.target.currentProgress=t,this._uploadProgressUpdatedCallback(e.target.fileIndex,e.target.fileObj,e.target.currentProgress);var r=(new Date).getTime(),n=r-e.target.currentStart;if(n>=this._uploadRateRefreshTime){var i=e.loaded-e.target.startData,o=i/n;this._uploadSpeedUpdatedCallback(e.target.fileIndex,e.target.fileObj,o),e.target.startData=e.loaded,e.target.currentStart=r}e.loaded==e.total?log("file "+e.target.fileIndex+" detected upload complete"):log("file "+e.target.fileIndex+" not completed :"+e.loaded+"/"+e.total)}}},e}(nuxeo||{});!function(e){"use strict";function t(e){return{configurable:!0,enumerable:!1,value:e,writable:!0}}function r(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++W+"$__"}function n(e){return K[e]}function i(){var e=r();return K[e]=!0,e}function o(e){return"object"==typeof e&&e instanceof c}function s(e){return o(e)?"symbol":typeof e}function a(e){var t=new c(e);if(!(this instanceof a))return t;throw new TypeError("Symbol cannot be new'ed")}function c(e){var t=r();L(this,Y,{value:this}),L(this,G,{value:t}),L(this,q,{value:e}),l(this),X[t]=this}function u(e){var t=e[Q];return t&&t.self===e?t:V(e)?(Z.hash.value=ee++,Z.self.value=e,J.value=P(null,Z),L(e,Q,J),J.value):void 0}function l(e){return u(e),N.apply(this,arguments)}function h(e){return u(e),H.apply(this,arguments)}function p(e){return u(e),$.apply(this,arguments)}function f(e){return X[e]||K[e]}function d(e){return o(e)?e[G]:e}function m(e){for(var t=[],r=0;r<e.length;r++)f(e[r])||t.push(e[r]);return t}function g(e){return m(M(e))}function y(e){return m(F(e))}function v(e){for(var t=[],r=M(e),n=0;n<r.length;n++){var i=X[r[n]];i&&t.push(i)}return t}function b(e,t){return D(e,d(t))}function S(e){return B.call(this,d(e))}function w(t){return e.traceur&&e.traceur.options[t]}function _(e,t,r){return o(t)&&(t=t[G]),L(e,t,r),e}function T(e){L(e,"defineProperty",{value:_}),L(e,"getOwnPropertyNames",{value:g}),L(e,"getOwnPropertyDescriptor",{value:b}),L(e.prototype,"hasOwnProperty",{value:S}),L(e,"freeze",{value:l}),L(e,"preventExtensions",{value:h}),L(e,"seal",{value:p}),L(e,"keys",{value:y})}function E(e){for(var t=1;t<arguments.length;t++)for(var r=M(arguments[t]),n=0;n<r.length;n++){var i=r[n];f(i)||!function(t,r){L(e,r,{get:function(){return t[r]},enumerable:!0})}(arguments[t],r[n])}return e}function C(e){return null!=e&&("object"==typeof e||"function"==typeof e)}function x(e){if(null==e)throw k();return j(e)}function R(e){if(null==e)throw new TypeError("Value cannot be converted to an Object");return e}function A(e,t){e.Symbol||(e.Symbol=t,Object.getOwnPropertySymbols=v),e.Symbol.iterator||(e.Symbol.iterator=t("Symbol.iterator"))}function O(e){A(e,a),e.Reflect=e.Reflect||{},e.Reflect.global=e.Reflect.global||e,T(e.Object)}if(!e.$traceurRuntime){var j=Object,k=TypeError,P=j.create,I=j.defineProperties,L=j.defineProperty,N=j.freeze,D=j.getOwnPropertyDescriptor,M=j.getOwnPropertyNames,F=j.keys,B=j.prototype.hasOwnProperty,H=(j.prototype.toString,Object.preventExtensions),$=Object.seal,V=Object.isExtensible,U={"void":function(){},any:function(){},string:function(){},number:function(){},"boolean":function(){}},z=t,W=0,G=r(),q=r(),Y=r(),X=P(null),K=P(null);L(a.prototype,"constructor",t(a)),L(a.prototype,"toString",z(function(){var e=this[Y];if(!w("symbols"))return e[G];if(!e)throw TypeError("Conversion from symbol to string");var t=e[q];return void 0===t&&(t=""),"Symbol("+t+")"})),L(a.prototype,"valueOf",z(function(){var e=this[Y];if(!e)throw TypeError("Conversion from symbol to string");return w("symbols")?e:e[G]})),L(c.prototype,"constructor",t(a)),L(c.prototype,"toString",{value:a.prototype.toString,enumerable:!1}),L(c.prototype,"valueOf",{value:a.prototype.valueOf,enumerable:!1});var Q=i(),J={value:void 0},Z={hash:{value:void 0},self:{value:void 0}},ee=0;l(c.prototype),O(e),e.$traceurRuntime={checkObjectCoercible:R,createPrivateName:i,defineProperties:I,defineProperty:L,exportStar:E,getOwnHashObject:u,getOwnPropertyDescriptor:D,getOwnPropertyNames:M,isObject:C,isPrivateName:n,isSymbolString:f,keys:F,setupGlobals:O,toObject:x,toProperty:d,type:U,"typeof":s}}}("undefined"!=typeof global?global:this),function(){"use strict";function e(){for(var e,t=[],r=0,n=0;n<arguments.length;n++){var i=$traceurRuntime.checkObjectCoercible(arguments[n]);if("function"!=typeof i[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var o=i[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=o.next()).done;)t[r++]=e.value}return t}$traceurRuntime.spread=e}(),function(){"use strict";function e(e,t){var r=d(e);do{var n=f(r,t);if(n)return n;r=d(r)}while(r);return void 0}function t(e,t,n,i){return r(e,t,n).apply(e,i)}function r(t,r,n){var i=e(r,n);return i?i.get?i.get.call(t):i.value:void 0}function n(t,r,n,i){var o=e(r,n);if(o&&o.set)return o.set.call(t,i),i;throw u("super has no setter '"+n+"'.")}function i(e){for(var t={},r=g(e),n=0;n<r.length;n++){var i=r[n];t[i]=f(e,i)}for(var o=y(e),n=0;n<o.length;n++){var s=o[n];t[$traceurRuntime.toProperty(s)]=f(e,$traceurRuntime.toProperty(s))}return t}function o(e,t,r,n){return p(t,"constructor",{value:e,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof n&&(e.__proto__=n),e.prototype=l(s(n),i(t))):e.prototype=t,p(e,"prototype",{configurable:!1,writable:!1}),h(e,i(r))}function s(e){if("function"==typeof e){var t=e.prototype;if(c(t)===t||null===t)return e.prototype;throw new u("super prototype must be an Object or null")}if(null===e)return null;throw new u("Super expression must either be null or a function, not "+typeof e+".")}function a(e,r,n){null!==d(r)&&t(e,r,"constructor",n)}var c=Object,u=TypeError,l=c.create,h=$traceurRuntime.defineProperties,p=$traceurRuntime.defineProperty,f=$traceurRuntime.getOwnPropertyDescriptor,d=($traceurRuntime.getOwnPropertyNames,Object.getPrototypeOf),m=Object,g=m.getOwnPropertyNames,y=m.getOwnPropertySymbols;$traceurRuntime.createClass=o,$traceurRuntime.defaultSuperCall=a,$traceurRuntime.superCall=t,$traceurRuntime.superGet=r,$traceurRuntime.superSet=n}(),function(){"use strict";function e(e){return{configurable:!0,enumerable:!1,value:e,writable:!0}}function t(e){return new Error("Traceur compiler bug: invalid state in state machine: "+e)}function r(){this.state=0,this.GState=y,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.tryStack_=[]}function n(e,t,r,n){switch(e.GState){case v:throw new Error('"'+r+'" on executing generator');case S:if("next"==r)return{value:void 0,done:!0};throw n;case y:if("throw"===r)throw e.GState=S,n;if(void 0!==n)throw g("Sent value to newborn generator");case b:e.GState=v,e.action=r,e.sent=n;var i=t(e),o=i===e;return o&&(i=e.returnValue),e.GState=o?S:b,{value:i,done:o}}}function i(){}function o(){}function s(e,t,n){var i=l(e,n),o=new r,s=m(t.prototype);return s[T]=o,s[E]=i,s}function a(e){return e.prototype=m(o.prototype),e.__proto__=o,e}function c(){r.call(this),this.err=void 0;var e=this;e.result=new Promise(function(t,r){e.resolve=t,e.reject=r})}function u(e,t){var r=l(e,t),n=new c;return n.createCallback=function(e){return function(t){n.state=e,n.value=t,r(n)}},n.errback=function(e){h(n,e),r(n)},r(n),n.result}function l(e,t){return function(r){for(;;)try{return e.call(t,r)}catch(n){h(r,n)}}}function h(e,t){e.storedException=t;var r=e.tryStack_[e.tryStack_.length-1];return r?(e.state=void 0!==r["catch"]?r["catch"]:r["finally"],void(void 0!==r.finallyFallThrough&&(e.finallyFallThrough=r.finallyFallThrough))):void e.handleException(t)}var p=$traceurRuntime.createPrivateName,f=$traceurRuntime.defineProperties,d=$traceurRuntime.defineProperty,m=Object.create,g=TypeError,y=0,v=1,b=2,S=3,w=-2,_=-3;r.prototype={pushTry:function(e,t){if(null!==t){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n]["catch"]){r=this.tryStack_[n]["catch"];break}null===r&&(r=_),this.tryStack_.push({"finally":t,finallyFallThrough:r})}null!==e&&this.tryStack_.push({"catch":e})},popTry:function(){this.tryStack_.pop()},get sent(){return this.maybeThrow(),this.sent_},set sent(e){this.sent_=e},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case w:return this;case _:throw this.storedException;default:throw t(this.state)}},handleException:function(e){throw this.GState=S,this.state=w,e}};var T=p(),E=p();i.prototype=o,d(o,"constructor",e(i)),o.prototype={constructor:o,next:function(e){return n(this[T],this[E],"next",e)},"throw":function(e){return n(this[T],this[E],"throw",e)}},f(o.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},"throw":{enumerable:!1}}),Object.defineProperty(o.prototype,Symbol.iterator,e(function(){return this})),c.prototype=m(r.prototype),c.prototype.end=function(){switch(this.state){case w:this.resolve(this.returnValue);break;case _:this.reject(this.storedException);break;default:this.reject(t(this.state))}},c.prototype.handleException=function(){this.state=_},$traceurRuntime.asyncWrap=u,$traceurRuntime.initGeneratorFunction=a,$traceurRuntime.createGeneratorInstance=s}(),function(){function e(e,t,r,n,i,o,s){var a=[];return e&&a.push(e,":"),r&&(a.push("//"),t&&a.push(t,"@"),a.push(r),n&&a.push(":",n)),i&&a.push(i),o&&a.push("?",o),s&&a.push("#",s),a.join("")}function t(e){return e.match(a)}function r(e){if("/"===e)return"/";for(var t="/"===e[0]?"/":"",r="/"===e.slice(-1)?"/":"",n=e.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length?i.pop():o++;break;default:i.push(a)}}if(!t){for(;o-->0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+r}function n(t){var n=t[c.PATH]||"";return n=r(n),t[c.PATH]=n,e(t[c.SCHEME],t[c.USER_INFO],t[c.DOMAIN],t[c.PORT],t[c.PATH],t[c.QUERY_DATA],t[c.FRAGMENT])}function i(e){var r=t(e);return n(r)}function o(e,r){var i=t(r),o=t(e);if(i[c.SCHEME])return n(i);i[c.SCHEME]=o[c.SCHEME];for(var s=c.SCHEME;s<=c.PORT;s++)i[s]||(i[s]=o[s]);if("/"==i[c.PATH][0])return n(i);var a=o[c.PATH],u=a.lastIndexOf("/");return a=a.slice(0,u+1)+i[c.PATH],i[c.PATH]=a,n(i)}function s(e){if(!e)return!1;if("/"===e[0])return!0;var r=t(e);return r[c.SCHEME]?!0:!1}var a=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),c={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=i,$traceurRuntime.isAbsolute=s,$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=o}(),function(e){"use strict";function t(e){if(e){var t=g.normalize(e);return c[t]}}function r(e){var t=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){var i,o;if(t===m){var s=Object.getOwnPropertyDescriptor(e,n);s.get&&(i=s.get)}i||(o=e[n],i=function(){return o}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var n,i=$traceurRuntime,o=i.canonicalizeUrl,s=i.resolveUrl,a=i.isAbsolute,c=Object.create(null);n=e.location&&e.location.href?s(e.location.href,"./"):"";var u=function(e,t){this.url=e,this.value_=t};$traceurRuntime.createClass(u,{},{});var l=function(e,t){this.message=this.constructor.name+": "+this.stripCause(t)+" in "+e,t instanceof h||!t.stack?this.stack="":this.stack=this.stripStack(t.stack)},h=l;$traceurRuntime.createClass(l,{stripError:function(e){return e.replace(/.*Error:/,this.constructor.name+":")},stripCause:function(e){return e?e.message?this.stripError(e.message):e+"":""},loadedBy:function(e){this.stack+="\n loaded by "+e},stripStack:function(e){var t=[];return e.split("\n").some(function(e){return/UncoatedModuleInstantiator/.test(e)?!0:void t.push(e)}),t[0]=this.stripError(t[0]),t.join("\n")}},{},Error);var p=function(e,t){$traceurRuntime.superCall(this,f.prototype,"constructor",[e,null]),this.func=t},f=p;$traceurRuntime.createClass(p,{getUncoatedModule:function(){if(this.value_)return this.value_;try{return this.value_=this.func.call(e)}catch(t){if(t instanceof l)throw t.loadedBy(this.url),t;throw new l(this.url,t)}}},{},u);var d=Object.create(null),m={},g={normalize:function(e,t,r){if("string"!=typeof e)throw new TypeError("module name must be a string, not "+typeof e);if(a(e))return o(e);if(/[^\.]\/\.\.\//.test(e))throw new Error("module name embeds /../: "+e);return"."===e[0]&&t?s(t,e):o(e)},get:function(e){var n=t(e);if(!n)return void 0;var i=d[n.url];return i?i:(i=r(n.getUncoatedModule(),m),d[n.url]=i)},set:function(e,t){e=String(e),c[e]=new p(e,function(){return t}),d[e]=t},get baseURL(){return n},set baseURL(e){n=String(e)},registerModule:function(e,t){var r=g.normalize(e);if(c[r])throw new Error("duplicate module named "+r);c[r]=new p(r,t)},bundleStore:Object.create(null),register:function(e,t,r){t&&(t.length||r.length)?this.bundleStore[e]={deps:t,execute:function(){var e=arguments,n={};t.forEach(function(t,r){return n[t]=e[r]});var i=r.call(this,n);return i.execute.call(this),i.exports}}:this.registerModule(e,r)},getAnonymousModule:function(t){return new r(t.call(e),m)},getForTesting:function(e){var t=this;return this.testingPrefix_||Object.keys(d).some(function(e){var r=/(traceur@[^\/]*\/)/.exec(e);return r?(t.testingPrefix_=r[1],!0):void 0}),this.get(this.testingPrefix_+e)}};g.set("@traceur/src/runtime/ModuleStore",new r({ModuleStore:g}));var y=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(e){y(e)},$traceurRuntime.ModuleStore=g,e.System={register:g.register.bind(g),get:g.get,set:g.set,normalize:g.normalize},$traceurRuntime.getModuleImpl=function(e){var r=t(e);return r&&r.getUncoatedModule()}}("undefined"!=typeof global?global:this),System.register("traceur@0.0.72/src/runtime/polyfills/utils",[],function(){"use strict";function e(e){return e>>>0}function t(e){return e&&("object"==typeof e||"function"==typeof e)}function r(e){return"function"==typeof e}function n(e){return"number"==typeof e}function i(e){return e=+e,S(e)?0:0!==e&&b(e)?e>0?v(e):y(e):e}function o(e){var t=i(e);return 0>t?0:_(t,E)}function s(e){return t(e)?e[Symbol.iterator]:void 0}function a(e){return r(e)}function c(e,t){return{value:e,done:t}}function u(e,t,r){t in e||Object.defineProperty(e,t,r)}function l(e,t,r){u(e,t,{value:r,configurable:!0,enumerable:!1,writable:!0})}function h(e,t,r){u(e,t,{value:r,configurable:!1,enumerable:!1,writable:!1})}function p(e,t){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];l(e,n,i)}}function f(e,t){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];h(e,n,i)}}function d(e,t,r){r&&r.iterator&&!e[r.iterator]&&(e["@@iterator"]&&(t=e["@@iterator"]),Object.defineProperty(e,r.iterator,{value:t,configurable:!0,enumerable:!1,writable:!0}))}function m(e){C.push(e)}function g(e){C.forEach(function(t){return t(e)})}var y=Math.ceil,v=Math.floor,b=isFinite,S=isNaN,w=Math.pow,_=Math.min,T=$traceurRuntime.toObject,E=w(2,53)-1,C=[];return{get toObject(){return T},get toUint32(){return e},get isObject(){return t},get isCallable(){return r},get isNumber(){return n},get toInteger(){return i},get toLength(){return o},get checkIterable(){return s},get isConstructor(){return a},get createIteratorResultObject(){return c},get maybeDefine(){return u},get maybeDefineMethod(){return l},get maybeDefineConst(){return h},get maybeAddFunctions(){return p},get maybeAddConsts(){return f},get maybeAddIterator(){return d},get registerPolyfill(){return m},get polyfillAll(){return g}}}),System.register("traceur@0.0.72/src/runtime/polyfills/Map",[],function(){"use strict";function e(e,t){if(i(t)){var r=a(t);return r&&e.objectIndex_[r.hash]}return"string"==typeof t?e.stringIndex_[t]:e.primitiveIndex_[t]}function t(e){e.entries_=[],e.objectIndex_=Object.create(null),e.stringIndex_=Object.create(null),e.primitiveIndex_=Object.create(null),e.deletedCount_=0}function r(e){var t=e,r=t.Object,n=t.Symbol;e.Map||(e.Map=l);var i=e.Map.prototype;void 0===i.entries&&(e.Map=l),i.entries&&(o(i,i.entries,n),o(r.getPrototypeOf((new e.Map).entries()),function(){return this},n))}var n=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),i=n.isObject,o=n.maybeAddIterator,s=n.registerPolyfill,a=$traceurRuntime.getOwnHashObject,c=Object.prototype.hasOwnProperty,u={},l=function(){var e=arguments[0];if(!i(this))throw new TypeError("Map called on incompatible type");if(c.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(t(this),null!==e&&void 0!==e)for(var r,n=e[Symbol.iterator]();!(r=n.next()).done;){var o=r.value,s=o[0],a=o[1];this.set(s,a)}};return $traceurRuntime.createClass(l,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(t){var r=e(this,t);return void 0!==r?this.entries_[r+1]:void 0},set:function(t,r){var n=i(t),o="string"==typeof t,s=e(this,t);if(void 0!==s)this.entries_[s+1]=r;else if(s=this.entries_.length,this.entries_[s]=t,this.entries_[s+1]=r,n){var c=a(t),u=c.hash;this.objectIndex_[u]=s}else o?this.stringIndex_[t]=s:this.primitiveIndex_[t]=s;return this},has:function(t){return void 0!==e(this,t)},"delete":function(e){var t,r,n=i(e),o="string"==typeof e;if(n){var s=a(e);s&&(t=this.objectIndex_[r=s.hash],delete this.objectIndex_[r])}else o?(t=this.stringIndex_[e],delete this.stringIndex_[e]):(t=this.primitiveIndex_[e],delete this.primitiveIndex_[e]);return void 0!==t?(this.entries_[t]=u,this.entries_[t+1]=void 0,this.deletedCount_++,!0):!1},clear:function(){t(this)},forEach:function(e){for(var t=arguments[1],r=0;r<this.entries_.length;r+=2){var n=this.entries_[r],i=this.entries_[r+1];n!==u&&e.call(t,i,n,this)}},entries:$traceurRuntime.initGeneratorFunction(function h(){var e,t,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:e=0,n.state=12;break;case 12:n.state=e<this.entries_.length?8:-2;break;case 4:e+=2,n.state=12;break;case 8:t=this.entries_[e],r=this.entries_[e+1],n.state=9;break;case 9:n.state=t===u?4:6;break;case 6:return n.state=2,[t,r];case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},h,this)}),keys:$traceurRuntime.initGeneratorFunction(function p(){var e,t,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:e=0,n.state=12;break;case 12:n.state=e<this.entries_.length?8:-2;break;case 4:e+=2,n.state=12;break;case 8:t=this.entries_[e],r=this.entries_[e+1],n.state=9;break;case 9:n.state=t===u?4:6;break;case 6:return n.state=2,t;case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},p,this)}),values:$traceurRuntime.initGeneratorFunction(function f(){var e,t,r;return $traceurRuntime.createGeneratorInstance(function(n){for(;;)switch(n.state){case 0:e=0,n.state=12;break;case 12:n.state=e<this.entries_.length?8:-2;break;case 4:e+=2,n.state=12;break;case 8:t=this.entries_[e],r=this.entries_[e+1],n.state=9;break;case 9:n.state=t===u?4:6;break;case 6:return n.state=2,r;case 2:n.maybeThrow(),n.state=4;break;default:return n.end()}},f,this)})},{}),Object.defineProperty(l.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:l.prototype.entries}),s(r),{get Map(){return l},get polyfillMap(){return r}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Map"),System.register("traceur@0.0.72/src/runtime/polyfills/Set",[],function(){"use strict";function e(e){e.map_=new s}function t(e){var t=e,r=t.Object,n=t.Symbol;e.Set||(e.Set=c);var o=e.Set.prototype;o.values&&(i(o,o.values,n),i(r.getPrototypeOf((new e.Set).values()),function(){return this},n))}var r=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),n=r.isObject,i=r.maybeAddIterator,o=r.registerPolyfill,s=System.get("traceur@0.0.72/src/runtime/polyfills/Map").Map,a=($traceurRuntime.getOwnHashObject,Object.prototype.hasOwnProperty),c=function(){var t=arguments[0];if(!n(this))throw new TypeError("Set called on incompatible type");
if(a.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(e(this),null!==t&&void 0!==t)for(var r,i=t[Symbol.iterator]();!(r=i.next()).done;){var o=r.value;this.add(o)}};return $traceurRuntime.createClass(c,{get size(){return this.map_.size},has:function(e){return this.map_.has(e)},add:function(e){return this.map_.set(e,e),this},"delete":function(e){return this.map_["delete"](e)},clear:function(){return this.map_.clear()},forEach:function(e){var t=arguments[1],r=this;return this.map_.forEach(function(n,i){e.call(t,i,i,r)})},values:$traceurRuntime.initGeneratorFunction(function u(){var e,t;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:e=this.map_.keys()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:t=e[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=t.done?3:2;break;case 3:r.sent=t.value,r.state=-2;break;case 2:return r.state=12,t.value;default:return r.end()}},u,this)}),entries:$traceurRuntime.initGeneratorFunction(function l(){var e,t;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:e=this.map_.entries()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:t=e[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=t.done?3:2;break;case 3:r.sent=t.value,r.state=-2;break;case 2:return r.state=12,t.value;default:return r.end()}},l,this)})},{}),Object.defineProperty(c.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:c.prototype.values}),Object.defineProperty(c.prototype,"keys",{configurable:!0,writable:!0,value:c.prototype.values}),o(t),{get Set(){return c},get polyfillSet(){return t}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Set"),System.register("traceur@0.0.72/node_modules/rsvp/lib/rsvp/asap",[],function(){"use strict";function e(e,t){p[a]=e,p[a+1]=t,a+=2,2===a&&s()}function t(){return function(){process.nextTick(o)}}function r(){var e=0,t=new l(o),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function n(){var e=new MessageChannel;return e.port1.onmessage=o,function(){e.port2.postMessage(0)}}function i(){return function(){setTimeout(o,1)}}function o(){for(var e=0;a>e;e+=2){var t=p[e],r=p[e+1];t(r),p[e]=void 0,p[e+1]=void 0}a=0}var s,a=0,c=e,u="undefined"!=typeof window?window:{},l=u.MutationObserver||u.WebKitMutationObserver,h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,p=new Array(1e3);return s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?r():h?n():i(),{get default(){return c}}}),System.register("traceur@0.0.72/src/runtime/polyfills/Promise",[],function(){"use strict";function e(e){return e&&"object"==typeof e&&void 0!==e.status_}function t(e){return e}function r(e){throw e}function n(e){var n=void 0!==arguments[1]?arguments[1]:t,o=void 0!==arguments[2]?arguments[2]:r,s=i(e.constructor);switch(e.status_){case void 0:throw TypeError;case 0:e.onResolve_.push(n,s),e.onReject_.push(o,s);break;case 1:l(e.value_,[n,s]);break;case-1:l(e.value_,[o,s])}return s.promise}function i(e){if(this===b){var t=s(new b(y));return{promise:t,resolve:function(e){a(t,e)},reject:function(e){c(t,e)}}}var r={};return r.promise=new e(function(e,t){r.resolve=e,r.reject=t}),r}function o(e,t,r,n,i){return e.status_=t,e.value_=r,e.onResolve_=n,e.onReject_=i,e}function s(e){return o(e,0,void 0,[],[])}function a(e,t){u(e,1,t,e.onResolve_)}function c(e,t){u(e,-1,t,e.onReject_)}function u(e,t,r,n){0===e.status_&&(l(r,n),o(e,t,r))}function l(e,t){m(function(){for(var r=0;r<t.length;r+=2)h(e,t[r],t[r+1])})}function h(t,r,i){try{var o=r(t);if(o===i.promise)throw new TypeError;e(o)?n(o,i.resolve,i.reject):i.resolve(o)}catch(s){try{i.reject(s)}catch(s){}}}function p(e){return e&&("object"==typeof e||"function"==typeof e)}function f(t,r){if(!e(r)&&p(r)){var n;try{n=r.then}catch(o){var s=S.call(t,o);return r[w]=s,s}if("function"==typeof n){var a=r[w];if(a)return a;var c=i(t);r[w]=c.promise;try{n.call(r,c.resolve,c.reject)}catch(o){c.reject(o)}return c.promise}}return r}function d(e){e.Promise||(e.Promise=v)}var m=System.get("traceur@0.0.72/node_modules/rsvp/lib/rsvp/asap")["default"],g=System.get("traceur@0.0.72/src/runtime/polyfills/utils").registerPolyfill,y={},v=function(e){if(e!==y){if("function"!=typeof e)throw new TypeError;var t=s(this);try{e(function(e){a(t,e)},function(e){c(t,e)})}catch(r){c(t,r)}}};$traceurRuntime.createClass(v,{"catch":function(e){return this.then(void 0,e)},then:function(i,o){"function"!=typeof i&&(i=t),"function"!=typeof o&&(o=r);var s=this,a=this.constructor;return n(this,function(t){return t=f(a,t),t===s?o(new TypeError):e(t)?t.then(i,o):i(t)},o)}},{resolve:function(t){return this===b?e(t)?t:o(new b(y),1,t):new this(function(e,r){e(t)})},reject:function(e){return this===b?o(new b(y),-1,e):new this(function(t,r){r(e)})},all:function(e){var t=i(this),r=[];try{var n=e.length;if(0===n)t.resolve(r);else for(var o=0;o<e.length;o++)this.resolve(e[o]).then(function(e,i){r[e]=i,0===--n&&t.resolve(r)}.bind(void 0,o),function(e){t.reject(e)})}catch(s){t.reject(s)}return t.promise},race:function(e){var t=i(this);try{for(var r=0;r<e.length;r++)this.resolve(e[r]).then(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(n){t.reject(n)}return t.promise}});var b=v,S=b.reject,w="@@thenable";return g(d),{get Promise(){return v},get polyfillPromise(){return d}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Promise"),System.register("traceur@0.0.72/src/runtime/polyfills/StringIterator",[],function(){"use strict";function e(e){var t=String(e),r=Object.create(u.prototype);return r[o(a)]=t,r[o(c)]=0,r}var t,r=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),n=r.createIteratorResultObject,i=r.isObject,o=$traceurRuntime.toProperty,s=Object.prototype.hasOwnProperty,a=Symbol("iteratedString"),c=Symbol("stringIteratorNextIndex"),u=function(){};return $traceurRuntime.createClass(u,(t={},Object.defineProperty(t,"next",{value:function(){var e=this;if(!i(e)||!s.call(e,a))throw new TypeError("this must be a StringIterator object");var t=e[o(a)];if(void 0===t)return n(void 0,!0);var r=e[o(c)],u=t.length;if(r>=u)return e[o(a)]=void 0,n(void 0,!0);var l,h=t.charCodeAt(r);if(55296>h||h>56319||r+1===u)l=String.fromCharCode(h);else{var p=t.charCodeAt(r+1);l=56320>p||p>57343?String.fromCharCode(h):String.fromCharCode(h)+String.fromCharCode(p)}return e[o(c)]=r+l.length,n(l,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(t,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),t),{}),{get createStringIterator(){return e}}}),System.register("traceur@0.0.72/src/runtime/polyfills/String",[],function(){"use strict";function e(e){var t=String(this);if(null==this||"[object RegExp]"==d.call(e))throw TypeError();var r=t.length,n=String(e),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);var s=Math.min(Math.max(o,0),r);return m.call(t,n,o)==s}function t(e){var t=String(this);if(null==this||"[object RegExp]"==d.call(e))throw TypeError();var r=t.length,n=String(e),i=n.length,o=r;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0,isNaN(o)&&(o=0))}var a=Math.min(Math.max(o,0),r),c=a-i;return 0>c?!1:g.call(t,n,c)==c}function r(e){if(null==this)throw TypeError();var t=String(this),r=t.length,n=String(e),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);Math.min(Math.max(o,0),r);return-1!=m.call(t,n,o)}function n(e){if(null==this)throw TypeError();var t=String(this),r=e?Number(e):0;if(isNaN(r)&&(r=0),0>r||r==1/0)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=t;return n}function i(e){if(null==this)throw TypeError();var t=String(this),r=t.length,n=e?Number(e):0;if(isNaN(n)&&(n=0),0>n||n>=r)return void 0;var i,o=t.charCodeAt(n);return o>=55296&&56319>=o&&r>n+1&&(i=t.charCodeAt(n+1),i>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}function o(e){var t=e.raw,r=t.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=t[i],i+1===r)return n;n+=arguments[++i]}}function s(){var e,t,r=[],n=Math.floor,i=-1,o=arguments.length;if(!o)return"";for(;++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||0>s||s>1114111||n(s)!=s)throw RangeError("Invalid code point: "+s);65535>=s?r.push(s):(s-=65536,e=(s>>10)+55296,t=s%1024+56320,r.push(e,t))}return String.fromCharCode.apply(null,r)}function a(){var e=$traceurRuntime.checkObjectCoercible(this),t=String(e);return u(t)}function c(c){var u=c.String;h(u.prototype,["codePointAt",i,"contains",r,"endsWith",t,"startsWith",e,"repeat",n]),h(u,["fromCodePoint",s,"raw",o]),p(u.prototype,a,Symbol)}var u=System.get("traceur@0.0.72/src/runtime/polyfills/StringIterator").createStringIterator,l=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),h=l.maybeAddFunctions,p=l.maybeAddIterator,f=l.registerPolyfill,d=Object.prototype.toString,m=String.prototype.indexOf,g=String.prototype.lastIndexOf;return f(c),{get startsWith(){return e},get endsWith(){return t},get contains(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return o},get fromCodePoint(){return s},get stringPrototypeIterator(){return a},get polyfillString(){return c}}}),System.get("traceur@0.0.72/src/runtime/polyfills/String"),System.register("traceur@0.0.72/src/runtime/polyfills/ArrayIterator",[],function(){"use strict";function e(e,t){var r=s(e),n=new p;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=t,n}function t(){return e(this,h)}function r(){return e(this,u)}function n(){return e(this,l)}var i,o=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),s=o.toObject,a=o.toUint32,c=o.createIteratorResultObject,u=1,l=2,h=3,p=function(){};return $traceurRuntime.createClass(p,(i={},Object.defineProperty(i,"next",{value:function(){var e=s(this),t=e.iteratorObject_;if(!t)throw new TypeError("Object is not an ArrayIterator");var r=e.arrayIteratorNextIndex_,n=e.arrayIterationKind_,i=a(t.length);return r>=i?(e.arrayIteratorNextIndex_=1/0,c(void 0,!0)):(e.arrayIteratorNextIndex_=r+1,n==l?c(t[r],!1):n==h?c([r,t[r]],!1):c(r,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),i),{}),{get entries(){return t},get keys(){return r},get values(){return n}}}),System.register("traceur@0.0.72/src/runtime/polyfills/Array",[],function(){"use strict";function e(e){var t,r,n=arguments[1],i=arguments[2],o=this,s=S(e),a=void 0!==n,c=0;if(a&&!f(n))throw TypeError();if(p(s)){t=d(o)?new o:[];for(var u,l=s[Symbol.iterator]();!(u=l.next()).done;){var h=u.value;a?t[c]=n.call(i,h,c):t[c]=h,c++}return t.length=c,t}for(r=b(s.length),t=d(o)?new o(r):new Array(r);r>c;c++)a?t[c]="undefined"==typeof i?n(s[c],c):n.call(i,s[c],c):t[c]=s[c];return t.length=r,t}function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this,n=e.length,i=d(r)?new r(n):new Array(n),o=0;n>o;o++)i[o]=e[o];return i.length=n,i}function r(e){var t=void 0!==arguments[1]?arguments[1]:0,r=arguments[2],n=S(this),i=b(n.length),o=v(t),s=void 0!==r?v(r):i;for(o=0>o?Math.max(i+o,0):Math.min(o,i),s=0>s?Math.max(i+s,0):Math.min(s,i);s>o;)n[o]=e,o++;return n}function n(e){var t=arguments[1];return o(this,e,t)}function i(e){var t=arguments[1];return o(this,e,t,!0)}function o(e,t){var r=arguments[2],n=void 0!==arguments[3]?arguments[3]:!1,i=S(e),o=b(i.length);if(!f(t))throw TypeError();for(var s=0;o>s;s++){var a=i[s];if(t.call(r,a,s,i))return n?s:a}return n?-1:void 0}function s(o){var s=o,a=s.Array,h=s.Object,p=s.Symbol;m(a.prototype,["entries",c,"keys",u,"values",l,"fill",r,"find",n,"findIndex",i]),m(a,["from",e,"of",t]),g(a.prototype,l,p),g(h.getPrototypeOf([].values()),function(){return this},p)}var a=System.get("traceur@0.0.72/src/runtime/polyfills/ArrayIterator"),c=a.entries,u=a.keys,l=a.values,h=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),p=h.checkIterable,f=h.isCallable,d=h.isConstructor,m=h.maybeAddFunctions,g=h.maybeAddIterator,y=h.registerPolyfill,v=h.toInteger,b=h.toLength,S=h.toObject;return y(s),{get from(){return e},get of(){return t},get fill(){return r},get find(){return n},get findIndex(){return i},get polyfillArray(){return s}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Array"),System.register("traceur@0.0.72/src/runtime/polyfills/Object",[],function(){"use strict";function e(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function t(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t],i=p(n),o=i.length;for(r=0;o>r;r++){var s=i[r];h(s)||(e[s]=n[s])}}return e}function r(e,t){var r,n,i=l(t),o=i.length;for(r=0;o>r;r++){var s=i[r];h(s)||(n=u(t,i[r]),c(e,i[r],n))}return e}function n(n){var i=n.Object;o(i,["assign",t,"is",e,"mixin",r])}var i=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),o=i.maybeAddFunctions,s=i.registerPolyfill,a=$traceurRuntime,c=a.defineProperty,u=a.getOwnPropertyDescriptor,l=a.getOwnPropertyNames,h=a.isPrivateName,p=a.keys;return s(n),{get is(){return e},get assign(){return t},get mixin(){return r},get polyfillObject(){return n}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Object"),System.register("traceur@0.0.72/src/runtime/polyfills/Number",[],function(){"use strict";function e(e){return s(e)&&p(e)}function t(t){return e(t)&&l(t)===t}function r(e){return s(e)&&f(e)}function n(t){if(e(t)){var r=l(t);if(r===t)return h(r)<=d}return!1}function i(i){var o=i.Number;a(o,["MAX_SAFE_INTEGER",d,"MIN_SAFE_INTEGER",m,"EPSILON",g]),c(o,["isFinite",e,"isInteger",t,"isNaN",r,"isSafeInteger",n])}var o=System.get("traceur@0.0.72/src/runtime/polyfills/utils"),s=o.isNumber,a=o.maybeAddConsts,c=o.maybeAddFunctions,u=o.registerPolyfill,l=o.toInteger,h=Math.abs,p=isFinite,f=isNaN,d=Math.pow(2,53)-1,m=-Math.pow(2,53)+1,g=Math.pow(2,-52);return u(i),{get MAX_SAFE_INTEGER(){return d},get MIN_SAFE_INTEGER(){return m},get EPSILON(){return g},get isFinite(){return e},get isInteger(){return t},get isNaN(){return r},get isSafeInteger(){return n},get polyfillNumber(){return i}}}),System.get("traceur@0.0.72/src/runtime/polyfills/Number"),System.register("traceur@0.0.72/src/runtime/polyfills/polyfills",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/runtime/polyfills/utils").polyfillAll;e(this);var t=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(r){t(r),e(r)},{}}),System.get("traceur@0.0.72/src/runtime/polyfills/polyfills"),System.register("traceur@0.0.72/src/Options",[],function(){"use strict";function e(e){var t=Object.create(null);return Object.keys(e).forEach(function(r){Object.defineProperty(t,r,{enumerable:!0,value:e[r]})}),t}function t(e){switch(e){case"false":return!1;case"true":case!0:return!0;default:return!!e&&String(e)}}function r(e,t){e.option("--referrer <name>","Bracket output code with System.referrerName=<name>",function(e){return t.setOption("referrer",e),System.map=System.semverMap(e),e}),e.option("--type-assertion-module <path>","Absolute path to the type assertion module.",function(e){return t.setOption("type-assertion-module",e),e}),e.option("--modules <"+f.join(", ")+">","select the output format for modules",function(e){t.modules=e}),e.option("--moduleName <string>","__moduleName value, + sign to use source name, or empty to omit",function(e){"+"===e&&(e=!0),t.moduleName=e}),e.option("--outputLanguage <es6|es5>","compilation target language",function(e){if("es6"!==e&&"es5"!==e)throw new Error("outputLanguage must be one of es5, es6");t.outputLanguage=e}),e.option("--source-maps [file|inline]","sourceMaps generated to file or inline with data: URL",function(e){return t.sourceMaps=e}),e.option("--experimental","Turns on all experimental features",function(){t.experimental=!0}),Object.keys(t).forEach(function(r){var n=i(r);if(!e.optionFor("--"+r)&&!e.optionFor("--"+n))if(r in u&&r in l)e.option("--"+n+" [true|false|parse]",g[r]),e.on(n,function(e){return t.setOption(n,e)});else{if(null===t[r])throw new Error("Unexpected null commandOption "+r);e.option("--"+n,g[r]),e.on(n,function(){return t.setOption(n,!0)})}}),t.setDefaults()}function n(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function o(e,t){t===b&&(p[e]=!0),Object.defineProperty(u,e,{get:function(){return!!m[e]},enumerable:!0,configurable:!0}),Object.defineProperty(l,e,{get:function(){var t=m[e];return"parse"===t?!1:t},enumerable:!0,configurable:!0});var r=m[e]||t===S;m[e]=r,h[e]=r}function s(e){h[e]=!1,m[e]=!1}var a=e({annotations:!1,arrayComprehension:!1,arrowFunctions:!0,asyncFunctions:!1,blockBinding:!0,classes:!0,commentCallback:!1,computedPropertyNames:!0,debug:!1,defaultParameters:!0,destructuring:!0,exponentiation:!1,forOf:!0,freeVariableChecker:!1,generatorComprehension:!1,generators:!0,moduleName:!1,modules:"register",numericLiterals:!0,outputLanguage:"es5",propertyMethods:!0,propertyNameShorthand:!0,referrer:"",unicodeExpressions:!0,restParameters:!0,script:!1,sourceMaps:!1,spread:!0,symbols:!1,templateLiterals:!0,typeAssertionModule:null,typeAssertions:!1,types:!1,unicodeEscapeSequences:!0,validate:!1}),c=a,u=Object.create(null),l=Object.create(null),h=Object.create(null),p=Object.create(null),f=["amd","commonjs","instantiate","inline","register"],d=function(){var e=void 0!==arguments[0]?arguments[0]:Object.create(null);this.reset(),Object.defineProperties(this,{modules_:{value:c.modules,writable:!0,enumerable:!1},sourceMaps_:{value:c.sourceMaps,writable:!0,enumerable:!1}}),this.setFromObject(e)};$traceurRuntime.createClass(d,{set experimental(e){var r=this;e=t(e),Object.keys(p).forEach(function(t){r[t]=e})},get experimental(){var e,t=this;return Object.keys(p).every(function(r){var n=t[r];return void 0===e?(e=n,!0):n!==e?(e=null,!1):!0}),e},get modules(){return this.modules_},set modules(e){if("boolean"!=typeof e||e||(e="register"),-1===f.indexOf(e))throw new Error("Invalid 'modules' option '"+e+"', not in "+f.join(", "));this.modules_=e},get sourceMaps(){return this.sourceMaps_},set sourceMaps(e){if(null===e||"boolean"==typeof e)return void(this.sourceMaps_=e?"file":!1);if("file"!==e&&"inline"!==e)throw new Error("Option sourceMaps should be [false|inline|file], not "+e);this.sourceMaps_=e},reset:function(){var e=arguments[0],t=this,r=void 0===e;Object.keys(h).forEach(function(e){t[e]=r&&h[e]}),this.setDefaults()},setDefaults:function(){this.modules="register",this.moduleName=!1,this.outputLanguage="es5",this.referrer="",this.sourceMaps=!1,this.typeAssertionModule=null},setFromObject:function(e){var t=this;return Object.keys(this).forEach(function(r){r in e&&t.setOption(r,e[r])}),this.modules=e.modules||this.modules,("boolean"==typeof e.sourceMaps||"string"==typeof e.sourceMaps)&&(this.sourceMaps=e.sourceMaps),this},setOption:function(e,t){if(e=n(e),!(e in this))throw Error("Unknown option: "+e);this[e]=t},diff:function(e){var t=this,r=[];return Object.keys(m).forEach(function(n){t[n]!==e[n]&&r.push({key:n,now:traceur.options[n],v01:e[n]})}),r}},{});var m=new d,g={experimental:"Turns on all experimental features",sourceMaps:"Generate source map and ('file') write to .map or ('inline') append data URL"},y=function(){$traceurRuntime.defaultSuperCall(this,v.prototype,arguments)},v=y;$traceurRuntime.createClass(y,{parseCommand:function(e){var r=/--([^=]+)(?:=(.+))?/,n=r.exec(e);if(n){var i=!0;"undefined"!=typeof n[2]&&(i=t(n[2])),this.setOption(n[1],i)}}},{fromString:function(e){return v.fromArgv(e.split(/\s+/))},fromArgv:function(e){var t=new v;return e.forEach(function(e){return t.parseCommand(e)}),t}},d);var b=0,S=1;return o("arrowFunctions",S),o("blockBinding",S),o("classes",S),o("computedPropertyNames",S),o("defaultParameters",S),o("destructuring",S),o("forOf",S),o("generators",S),o("modules","SPECIAL"),o("numericLiterals",S),o("propertyMethods",S),o("propertyNameShorthand",S),o("restParameters",S),o("sourceMaps","SPECIAL"),o("spread",S),o("templateLiterals",S),o("unicodeEscapeSequences",S),o("unicodeExpressions",S),o("annotations",b),o("arrayComprehension",b),o("asyncFunctions",b),o("exponentiation",b),o("generatorComprehension",b),o("symbols",b),o("types",b),s("commentCallback"),s("debug"),s("freeVariableChecker"),s("script"),s("typeAssertions"),s("validate"),{get optionsV01(){return a},get versionLockedOptions(){return c},get parseOptions(){return u},get transformOptions(){return l},get Options(){return d},get options(){return m},get CommandOptions(){return y},get addOptions(){return r},get toDashCase(){return i}}}),System.register("traceur@0.0.72/src/syntax/TokenType",[],function(){"use strict";var e="&",t="&=",r="&&",n="=>",i="@",o="`",s="!",a="|",c="|=",u="break",l="^",h="^=",p="case",f="catch",d="class",m=">",g="}",y=")",v="]",b=":",S=",",w="const",_="continue",T="debugger",E="default",C="delete",x="do",R="...",A="else",O="End of File",j="enum",k="=",P="==",I="===",L="error",N="export",D="extends",M="false",F="finally",B="for",H="function",$=">=",V="identifier",U="if",z="implements",W="import",G="in",q="instanceof",Y="interface",X="<<",K="<<=",Q="<=",J="let",Z="-",ee="-=",te="--",re="new",ne="no substitution template",ie="!=",oe="!==",se="null",ae="number literal",ce="<",ue="{",le="(",he="[",pe="||",fe="package",de="%",me="%=",ge=".",ye="+",ve="+=",be="++",Se="private",we="protected",_e="public",Te="?",Ee="regular expression literal",Ce="return",xe=">>",Re=">>=",Ae=";",Oe="/",je="/=",ke="*",Pe="*=",Ie="**",Le="**=",Ne="static",De="string literal",Me="super",Fe="switch",Be="template head",He="template middle",$e="template tail",Ve="this",Ue="throw",ze="~",We="true",Ge="try",qe="typeof",Ye=">>>",Xe=">>>=",Ke="var",Qe="void",Je="while",Ze="with",et="yield";return{get AMPERSAND(){return e},get AMPERSAND_EQUAL(){return t},get AND(){return r},get ARROW(){return n},get AT(){return i},get BACK_QUOTE(){return o},get BANG(){return s},get BAR(){return a},get BAR_EQUAL(){return c},get BREAK(){return u},get CARET(){return l},get CARET_EQUAL(){return h},get CASE(){return p},get CATCH(){return f},get CLASS(){return d},get CLOSE_ANGLE(){return m},get CLOSE_CURLY(){return g},get CLOSE_PAREN(){return y},get CLOSE_SQUARE(){return v},get COLON(){return b},get COMMA(){return S},get CONST(){return w},get CONTINUE(){return _},get DEBUGGER(){return T},get DEFAULT(){return E},get DELETE(){return C},get DO(){return x},get DOT_DOT_DOT(){return R},get ELSE(){return A},get END_OF_FILE(){return O},get ENUM(){return j},get EQUAL(){return k},get EQUAL_EQUAL(){return P},get EQUAL_EQUAL_EQUAL(){return I},get ERROR(){return L},get EXPORT(){return N},get EXTENDS(){return D},get FALSE(){return M},get FINALLY(){return F},get FOR(){return B},get FUNCTION(){return H},get GREATER_EQUAL(){return $},get IDENTIFIER(){return V},get IF(){return U},get IMPLEMENTS(){return z},get IMPORT(){return W},get IN(){return G},get INSTANCEOF(){return q},get INTERFACE(){return Y},get LEFT_SHIFT(){return X},get LEFT_SHIFT_EQUAL(){return K},get LESS_EQUAL(){return Q},get LET(){return J},get MINUS(){return Z},get MINUS_EQUAL(){return ee},get MINUS_MINUS(){return te},get NEW(){return re},get NO_SUBSTITUTION_TEMPLATE(){return ne},get NOT_EQUAL(){return ie},get NOT_EQUAL_EQUAL(){return oe},get NULL(){return se},get NUMBER(){return ae},get OPEN_ANGLE(){return ce},get OPEN_CURLY(){return ue},get OPEN_PAREN(){return le},get OPEN_SQUARE(){return he},get OR(){return pe},get PACKAGE(){return fe},get PERCENT(){return de},get PERCENT_EQUAL(){return me},get PERIOD(){return ge},get PLUS(){return ye},get PLUS_EQUAL(){return ve},get PLUS_PLUS(){return be},get PRIVATE(){return Se},get PROTECTED(){return we},get PUBLIC(){return _e},get QUESTION(){return Te},get REGULAR_EXPRESSION(){return Ee},get RETURN(){return Ce},get RIGHT_SHIFT(){return xe},get RIGHT_SHIFT_EQUAL(){return Re},get SEMI_COLON(){return Ae},get SLASH(){return Oe},get SLASH_EQUAL(){return je},get STAR(){return ke},get STAR_EQUAL(){return Pe},get STAR_STAR(){return Ie},get STAR_STAR_EQUAL(){return Le},get STATIC(){return Ne},get STRING(){return De},get SUPER(){return Me},get SWITCH(){return Fe},get TEMPLATE_HEAD(){return Be},get TEMPLATE_MIDDLE(){return He},get TEMPLATE_TAIL(){return $e},get THIS(){return Ve},get THROW(){return Ue},get TILDE(){return ze},get TRUE(){return We},get TRY(){return Ge},get TYPEOF(){return qe},get UNSIGNED_RIGHT_SHIFT(){return Ye},get UNSIGNED_RIGHT_SHIFT_EQUAL(){return Xe},get VAR(){return Ke},get VOID(){return Qe},get WHILE(){return Je},get WITH(){return Ze},get YIELD(){return et}}}),System.register("traceur@0.0.72/src/syntax/trees/ParseTreeType",[],function(){"use strict";var e="ANNOTATION",t="ANON_BLOCK",r="ARGUMENT_LIST",n="ARRAY_COMPREHENSION",i="ARRAY_LITERAL_EXPRESSION",o="ARRAY_PATTERN",s="ARROW_FUNCTION_EXPRESSION",a="ASSIGNMENT_ELEMENT",c="AWAIT_EXPRESSION",u="BINARY_EXPRESSION",l="BINDING_ELEMENT",h="BINDING_IDENTIFIER",p="BLOCK",f="BREAK_STATEMENT",d="CALL_EXPRESSION",m="CASE_CLAUSE",g="CATCH",y="CLASS_DECLARATION",v="CLASS_EXPRESSION",b="COMMA_EXPRESSION",S="COMPREHENSION_FOR",w="COMPREHENSION_IF",_="COMPUTED_PROPERTY_NAME",T="CONDITIONAL_EXPRESSION",E="CONTINUE_STATEMENT",C="COVER_FORMALS",x="COVER_INITIALIZED_NAME",R="DEBUGGER_STATEMENT",A="DEFAULT_CLAUSE",O="DO_WHILE_STATEMENT",j="EMPTY_STATEMENT",k="EXPORT_DECLARATION",P="EXPORT_DEFAULT",I="EXPORT_SPECIFIER",L="EXPORT_SPECIFIER_SET",N="EXPORT_STAR",D="EXPRESSION_STATEMENT",M="FINALLY",F="FOR_IN_STATEMENT",B="FOR_OF_STATEMENT",H="FOR_STATEMENT",$="FORMAL_PARAMETER",V="FORMAL_PARAMETER_LIST",U="FUNCTION_BODY",z="FUNCTION_DECLARATION",W="FUNCTION_EXPRESSION",G="GENERATOR_COMPREHENSION",q="GET_ACCESSOR",Y="IDENTIFIER_EXPRESSION",X="IF_STATEMENT",K="IMPORT_DECLARATION",Q="IMPORT_SPECIFIER",J="IMPORT_SPECIFIER_SET",Z="IMPORTED_BINDING",ee="LABELLED_STATEMENT",te="LITERAL_EXPRESSION",re="LITERAL_PROPERTY_NAME",ne="MEMBER_EXPRESSION",ie="MEMBER_LOOKUP_EXPRESSION",oe="MODULE",se="MODULE_DECLARATION",ae="MODULE_SPECIFIER",ce="NAMED_EXPORT",ue="NEW_EXPRESSION",le="OBJECT_LITERAL_EXPRESSION",he="OBJECT_PATTERN",pe="OBJECT_PATTERN_FIELD",fe="PAREN_EXPRESSION",de="POSTFIX_EXPRESSION",me="PREDEFINED_TYPE",ge="PROPERTY_METHOD_ASSIGNMENT",ye="PROPERTY_NAME_ASSIGNMENT",ve="PROPERTY_NAME_SHORTHAND",be="REST_PARAMETER",Se="RETURN_STATEMENT",we="SCRIPT",_e="SET_ACCESSOR",Te="SPREAD_EXPRESSION",Ee="SPREAD_PATTERN_ELEMENT",Ce="STATE_MACHINE",xe="SUPER_EXPRESSION",Re="SWITCH_STATEMENT",Ae="SYNTAX_ERROR_TREE",Oe="TEMPLATE_LITERAL_EXPRESSION",je="TEMPLATE_LITERAL_PORTION",ke="TEMPLATE_SUBSTITUTION",Pe="THIS_EXPRESSION",Ie="THROW_STATEMENT",Le="TRY_STATEMENT",Ne="TYPE_NAME",De="UNARY_EXPRESSION",Me="VARIABLE_DECLARATION",Fe="VARIABLE_DECLARATION_LIST",Be="VARIABLE_STATEMENT",He="WHILE_STATEMENT",$e="WITH_STATEMENT",Ve="YIELD_EXPRESSION";return{get ANNOTATION(){return e},get ANON_BLOCK(){return t},get ARGUMENT_LIST(){return r},get ARRAY_COMPREHENSION(){return n},get ARRAY_LITERAL_EXPRESSION(){return i},get ARRAY_PATTERN(){return o},get ARROW_FUNCTION_EXPRESSION(){return s},get ASSIGNMENT_ELEMENT(){return a},get AWAIT_EXPRESSION(){return c},get BINARY_EXPRESSION(){return u},get BINDING_ELEMENT(){return l},get BINDING_IDENTIFIER(){return h},get BLOCK(){return p},get BREAK_STATEMENT(){return f},get CALL_EXPRESSION(){return d},get CASE_CLAUSE(){return m},get CATCH(){return g},get CLASS_DECLARATION(){return y},get CLASS_EXPRESSION(){return v},get COMMA_EXPRESSION(){return b},get COMPREHENSION_FOR(){return S},get COMPREHENSION_IF(){return w},get COMPUTED_PROPERTY_NAME(){return _},get CONDITIONAL_EXPRESSION(){return T},get CONTINUE_STATEMENT(){return E},get COVER_FORMALS(){return C},get COVER_INITIALIZED_NAME(){return x},get DEBUGGER_STATEMENT(){return R},get DEFAULT_CLAUSE(){return A},get DO_WHILE_STATEMENT(){return O},get EMPTY_STATEMENT(){return j},get EXPORT_DECLARATION(){return k},get EXPORT_DEFAULT(){return P},get EXPORT_SPECIFIER(){return I},get EXPORT_SPECIFIER_SET(){return L},get EXPORT_STAR(){return N},get EXPRESSION_STATEMENT(){return D},get FINALLY(){return M},get FOR_IN_STATEMENT(){return F},get FOR_OF_STATEMENT(){return B},get FOR_STATEMENT(){return H},get FORMAL_PARAMETER(){return $},get FORMAL_PARAMETER_LIST(){return V},get FUNCTION_BODY(){return U},get FUNCTION_DECLARATION(){return z},get FUNCTION_EXPRESSION(){return W},get GENERATOR_COMPREHENSION(){return G},get GET_ACCESSOR(){return q},get IDENTIFIER_EXPRESSION(){return Y},get IF_STATEMENT(){return X},get IMPORT_DECLARATION(){return K},get IMPORT_SPECIFIER(){return Q},get IMPORT_SPECIFIER_SET(){return J},get IMPORTED_BINDING(){return Z},get LABELLED_STATEMENT(){return ee},get LITERAL_EXPRESSION(){return te},get LITERAL_PROPERTY_NAME(){return re},get MEMBER_EXPRESSION(){return ne},get MEMBER_LOOKUP_EXPRESSION(){return ie},get MODULE(){return oe},get MODULE_DECLARATION(){return se},get MODULE_SPECIFIER(){return ae},get NAMED_EXPORT(){return ce},get NEW_EXPRESSION(){return ue},get OBJECT_LITERAL_EXPRESSION(){return le},get OBJECT_PATTERN(){return he},get OBJECT_PATTERN_FIELD(){return pe},get PAREN_EXPRESSION(){return fe},get POSTFIX_EXPRESSION(){return de},get PREDEFINED_TYPE(){return me},get PROPERTY_METHOD_ASSIGNMENT(){return ge},get PROPERTY_NAME_ASSIGNMENT(){return ye},get PROPERTY_NAME_SHORTHAND(){return ve},get REST_PARAMETER(){return be},get RETURN_STATEMENT(){return Se},get SCRIPT(){return we},get SET_ACCESSOR(){return _e},get SPREAD_EXPRESSION(){return Te},get SPREAD_PATTERN_ELEMENT(){return Ee},get STATE_MACHINE(){return Ce},get SUPER_EXPRESSION(){return xe},get SWITCH_STATEMENT(){return Re},get SYNTAX_ERROR_TREE(){return Ae},get TEMPLATE_LITERAL_EXPRESSION(){return Oe},get TEMPLATE_LITERAL_PORTION(){return je},get TEMPLATE_SUBSTITUTION(){return ke},get THIS_EXPRESSION(){return Pe},get THROW_STATEMENT(){return Ie},get TRY_STATEMENT(){return Le},get TYPE_NAME(){return Ne},get UNARY_EXPRESSION(){return De},get VARIABLE_DECLARATION(){return Me},get VARIABLE_DECLARATION_LIST(){return Fe},get VARIABLE_STATEMENT(){return Be},get WHILE_STATEMENT(){return He},get WITH_STATEMENT(){return $e},get YIELD_EXPRESSION(){return Ve}}}),System.register("traceur@0.0.72/src/syntax/ParseTreeVisitor",[],function(){"use strict";var e=function(){};return $traceurRuntime.createClass(e,{visitAny:function(e){e&&e.visit(this)},visit:function(e){this.visitAny(e)},visitList:function(e){if(e)for(var t=0;t<e.length;t++)this.visitAny(e[t])},visitStateMachine:function(e){throw Error("State machines should not live outside of the GeneratorTransformer.")},visitAnnotation:function(e){this.visitAny(e.name),this.visitAny(e.args)},visitAnonBlock:function(e){this.visitList(e.statements)},visitArgumentList:function(e){this.visitList(e.args)},visitArrayComprehension:function(e){this.visitList(e.comprehensionList),this.visitAny(e.expression)},visitArrayLiteralExpression:function(e){this.visitList(e.elements)},visitArrayPattern:function(e){this.visitList(e.elements)},visitArrowFunctionExpression:function(e){this.visitAny(e.parameterList),this.visitAny(e.body)},visitAssignmentElement:function(e){this.visitAny(e.assignment),this.visitAny(e.initializer)},visitAwaitExpression:function(e){this.visitAny(e.expression)},visitBinaryExpression:function(e){this.visitAny(e.left),this.visitAny(e.right)},visitBindingElement:function(e){this.visitAny(e.binding),this.visitAny(e.initializer)},visitBindingIdentifier:function(e){},visitBlock:function(e){this.visitList(e.statements)},visitBreakStatement:function(e){},visitCallExpression:function(e){this.visitAny(e.operand),this.visitAny(e.args)},visitCaseClause:function(e){this.visitAny(e.expression),this.visitList(e.statements)},visitCatch:function(e){this.visitAny(e.binding),this.visitAny(e.catchBody)},visitClassDeclaration:function(e){this.visitAny(e.name),this.visitAny(e.superClass),this.visitList(e.elements),this.visitList(e.annotations)},visitClassExpression:function(e){this.visitAny(e.name),this.visitAny(e.superClass),this.visitList(e.elements),
this.visitList(e.annotations)},visitCommaExpression:function(e){this.visitList(e.expressions)},visitComprehensionFor:function(e){this.visitAny(e.left),this.visitAny(e.iterator)},visitComprehensionIf:function(e){this.visitAny(e.expression)},visitComputedPropertyName:function(e){this.visitAny(e.expression)},visitConditionalExpression:function(e){this.visitAny(e.condition),this.visitAny(e.left),this.visitAny(e.right)},visitContinueStatement:function(e){},visitCoverFormals:function(e){this.visitList(e.expressions)},visitCoverInitializedName:function(e){this.visitAny(e.initializer)},visitDebuggerStatement:function(e){},visitDefaultClause:function(e){this.visitList(e.statements)},visitDoWhileStatement:function(e){this.visitAny(e.body),this.visitAny(e.condition)},visitEmptyStatement:function(e){},visitExportDeclaration:function(e){this.visitAny(e.declaration),this.visitList(e.annotations)},visitExportDefault:function(e){this.visitAny(e.expression)},visitExportSpecifier:function(e){},visitExportSpecifierSet:function(e){this.visitList(e.specifiers)},visitExportStar:function(e){},visitExpressionStatement:function(e){this.visitAny(e.expression)},visitFinally:function(e){this.visitAny(e.block)},visitForInStatement:function(e){this.visitAny(e.initializer),this.visitAny(e.collection),this.visitAny(e.body)},visitForOfStatement:function(e){this.visitAny(e.initializer),this.visitAny(e.collection),this.visitAny(e.body)},visitForStatement:function(e){this.visitAny(e.initializer),this.visitAny(e.condition),this.visitAny(e.increment),this.visitAny(e.body)},visitFormalParameter:function(e){this.visitAny(e.parameter),this.visitAny(e.typeAnnotation),this.visitList(e.annotations)},visitFormalParameterList:function(e){this.visitList(e.parameters)},visitFunctionBody:function(e){this.visitList(e.statements)},visitFunctionDeclaration:function(e){this.visitAny(e.name),this.visitAny(e.parameterList),this.visitAny(e.typeAnnotation),this.visitList(e.annotations),this.visitAny(e.body)},visitFunctionExpression:function(e){this.visitAny(e.name),this.visitAny(e.parameterList),this.visitAny(e.typeAnnotation),this.visitList(e.annotations),this.visitAny(e.body)},visitGeneratorComprehension:function(e){this.visitList(e.comprehensionList),this.visitAny(e.expression)},visitGetAccessor:function(e){this.visitAny(e.name),this.visitAny(e.typeAnnotation),this.visitList(e.annotations),this.visitAny(e.body)},visitIdentifierExpression:function(e){},visitIfStatement:function(e){this.visitAny(e.condition),this.visitAny(e.ifClause),this.visitAny(e.elseClause)},visitImportedBinding:function(e){this.visitAny(e.binding)},visitImportDeclaration:function(e){this.visitAny(e.importClause),this.visitAny(e.moduleSpecifier)},visitImportSpecifier:function(e){this.visitAny(e.binding)},visitImportSpecifierSet:function(e){this.visitList(e.specifiers)},visitLabelledStatement:function(e){this.visitAny(e.statement)},visitLiteralExpression:function(e){},visitLiteralPropertyName:function(e){},visitMemberExpression:function(e){this.visitAny(e.operand)},visitMemberLookupExpression:function(e){this.visitAny(e.operand),this.visitAny(e.memberExpression)},visitModule:function(e){this.visitList(e.scriptItemList)},visitModuleDeclaration:function(e){this.visitAny(e.binding),this.visitAny(e.expression)},visitModuleSpecifier:function(e){},visitNamedExport:function(e){this.visitAny(e.moduleSpecifier),this.visitAny(e.specifierSet)},visitNewExpression:function(e){this.visitAny(e.operand),this.visitAny(e.args)},visitObjectLiteralExpression:function(e){this.visitList(e.propertyNameAndValues)},visitObjectPattern:function(e){this.visitList(e.fields)},visitObjectPatternField:function(e){this.visitAny(e.name),this.visitAny(e.element)},visitParenExpression:function(e){this.visitAny(e.expression)},visitPostfixExpression:function(e){this.visitAny(e.operand)},visitPredefinedType:function(e){},visitScript:function(e){this.visitList(e.scriptItemList)},visitPropertyMethodAssignment:function(e){this.visitAny(e.name),this.visitAny(e.parameterList),this.visitAny(e.typeAnnotation),this.visitList(e.annotations),this.visitAny(e.body)},visitPropertyNameAssignment:function(e){this.visitAny(e.name),this.visitAny(e.value)},visitPropertyNameShorthand:function(e){},visitRestParameter:function(e){this.visitAny(e.identifier)},visitReturnStatement:function(e){this.visitAny(e.expression)},visitSetAccessor:function(e){this.visitAny(e.name),this.visitAny(e.parameterList),this.visitList(e.annotations),this.visitAny(e.body)},visitSpreadExpression:function(e){this.visitAny(e.expression)},visitSpreadPatternElement:function(e){this.visitAny(e.lvalue)},visitSuperExpression:function(e){},visitSwitchStatement:function(e){this.visitAny(e.expression),this.visitList(e.caseClauses)},visitSyntaxErrorTree:function(e){},visitTemplateLiteralExpression:function(e){this.visitAny(e.operand),this.visitList(e.elements)},visitTemplateLiteralPortion:function(e){},visitTemplateSubstitution:function(e){this.visitAny(e.expression)},visitThisExpression:function(e){},visitThrowStatement:function(e){this.visitAny(e.value)},visitTryStatement:function(e){this.visitAny(e.body),this.visitAny(e.catchBlock),this.visitAny(e.finallyBlock)},visitTypeName:function(e){this.visitAny(e.moduleName)},visitUnaryExpression:function(e){this.visitAny(e.operand)},visitVariableDeclaration:function(e){this.visitAny(e.lvalue),this.visitAny(e.typeAnnotation),this.visitAny(e.initializer)},visitVariableDeclarationList:function(e){this.visitList(e.declarations)},visitVariableStatement:function(e){this.visitAny(e.declarations)},visitWhileStatement:function(e){this.visitAny(e.condition),this.visitAny(e.body)},visitWithStatement:function(e){this.visitAny(e.expression),this.visitAny(e.body)},visitYieldExpression:function(e){this.visitAny(e.expression)}},{}),{get ParseTreeVisitor(){return e}}}),System.register("traceur@0.0.72/src/syntax/PredefinedName",[],function(){"use strict";var e="$arguments",t="any",r="apply",n="arguments",i="Array",o="as",s="async",a="await",c="bind",u="call",l="configurable",h="constructor",p="create",f="current",d="defineProperty",m="enumerable",g="freeze",y="from",v="Function",b="get",S="has",w="length",_="module",T="new",E="Object",C="Object",x="of",R="preventExtensions",A="prototype",O="push",j="set",k="slice",P="this",I="$traceurRuntime",L="undefined",N="writable";return{get $ARGUMENTS(){return e},get ANY(){return t},get APPLY(){return r},get ARGUMENTS(){return n},get ARRAY(){return i},get AS(){return o},get ASYNC(){return s},get AWAIT(){return a},get BIND(){return c},get CALL(){return u},get CONFIGURABLE(){return l},get CONSTRUCTOR(){return h},get CREATE(){return p},get CURRENT(){return f},get DEFINE_PROPERTY(){return d},get ENUMERABLE(){return m},get FREEZE(){return g},get FROM(){return y},get FUNCTION(){return v},get GET(){return b},get HAS(){return S},get LENGTH(){return w},get MODULE(){return _},get NEW(){return T},get OBJECT(){return E},get OBJECT_NAME(){return C},get OF(){return x},get PREVENT_EXTENSIONS(){return R},get PROTOTYPE(){return A},get PUSH(){return O},get SET(){return j},get SLICE(){return k},get THIS(){return P},get TRACEUR_RUNTIME(){return I},get UNDEFINED(){return L},get WRITABLE(){return N}}}),System.register("traceur@0.0.72/src/semantics/util",[],function(){"use strict";function e(e){for(var t=0;t<e.length;t++){if(!e[t].isDirectivePrologue())return!1;if(e[t].isUseStrictDirective())return!0}return!1}function t(e){return e.type===a?t(e.expression):e.type===o&&e.identifierToken.value===u}function r(e){return e.type===a?r(e.expression):e.type===c&&e.operator.type===l&&n(e.operand)}function n(e){return e.type===a?n(e.expression):e.type===s}var i=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),o=i.IDENTIFIER_EXPRESSION,s=i.LITERAL_EXPRESSION,a=i.PAREN_EXPRESSION,c=i.UNARY_EXPRESSION,u=System.get("traceur@0.0.72/src/syntax/PredefinedName").UNDEFINED,l=System.get("traceur@0.0.72/src/syntax/TokenType").VOID;return{get hasUseStrict(){return e},get isUndefined(){return t},get isVoidExpression(){return r},get isLiteralExpression(){return n}}}),System.register("traceur@0.0.72/src/semantics/isTreeStrict",[],function(){"use strict";function e(t){switch(t.type){case n:case i:case u:return!0;case o:return f(t.statements);case a:case s:case l:return e(t.body);case r:return t.body.type===o?e(t.body):!1;case c:case p:return e(t.body);case h:return f(t.scriptItemList);default:return!1}}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),r=t.ARROW_FUNCTION_EXPRESSION,n=t.CLASS_DECLARATION,i=t.CLASS_EXPRESSION,o=t.FUNCTION_BODY,s=t.FUNCTION_DECLARATION,a=t.FUNCTION_EXPRESSION,c=t.GET_ACCESSOR,u=t.MODULE,l=t.PROPERTY_METHOD_ASSIGNMENT,h=t.SCRIPT,p=t.SET_ACCESSOR,f=System.get("traceur@0.0.72/src/semantics/util").hasUseStrict;return{get isTreeStrict(){return e}}}),System.register("traceur@0.0.72/src/semantics/Scope",[],function(){"use strict";function e(e,t,r){e.reportError(t.location&&t.location.start,"Duplicate declaration, "+r)}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),r=t.BLOCK,n=t.CATCH,i=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,o=System.get("traceur@0.0.72/src/semantics/isTreeStrict").isTreeStrict,s=function(e,t){this.parent=e,this.tree=t,this.variableDeclarations=Object.create(null),this.lexicalDeclarations=Object.create(null),this.strictMode=e&&e.strictMode||o(t)};return $traceurRuntime.createClass(s,{addBinding:function(e,t,r){t===i?this.addVar(e,r):this.addDeclaration(e,t,r)},addVar:function(t,r){var n=t.getStringValue();return this.lexicalDeclarations[n]?void e(r,t,n):(this.variableDeclarations[n]={type:i,tree:t},void(!this.isVarScope&&this.parent&&this.parent.addVar(t,r)))},addDeclaration:function(t,r,n){var i=t.getStringValue();return this.lexicalDeclarations[i]||this.variableDeclarations[i]?void e(n,t,i):void(this.lexicalDeclarations[i]={type:r,tree:t})},renameBinding:function(e,t,r,n){t.getStringValue();r==i?this.lexicalDeclarations[e]&&(delete this.lexicalDeclarations[e],this.addVar(t,n)):this.variableDeclarations[e]&&(delete this.variableDeclarations[e],this.addDeclaration(t,r,n),!this.isVarScope&&this.parent&&this.parent.renameBinding(e,t,r))},get isVarScope(){switch(this.tree.type){case r:case n:return!1}return!0},getVarScope:function(){return this.isVarScope?this:this.parent?this.parent.getVarScope():null},getBinding:function(e){var t=e.getStringValue();return this.getBindingByName(t)},getBindingByName:function(e){var t=this.lexicalDeclarations[e];return t?t:(t=this.variableDeclarations[e],t&&this.isVarScope?t:this.parent?this.parent.getBindingByName(e):null)},getAllBindingNames:function(){var e,t=Object.create(null);for(e in this.variableDeclarations)t[e]=!0;for(e in this.lexicalDeclarations)t[e]=!0;return t},getVariableBindingNames:function(){var e=Object.create(null);for(var t in this.variableDeclarations)e[t]=!0;return e},getLexicalBindingNames:function(){var e=Object.create(null);for(var t in this.lexicalDeclarations)e[t]=!0;return e},hasBindingName:function(e){return this.lexicalDeclarations[e]||this.variableDeclarations[e]},hasLexicalBindingName:function(e){return this.lexicalDeclarations[e]},hasVariableBindingName:function(e){return this.variableDeclarations[e]}},{}),{get Scope(){return s}}}),System.register("traceur@0.0.72/src/semantics/ScopeVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/runtime/polyfills/Map").Map,t=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,r=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,n=System.get("traceur@0.0.72/src/semantics/Scope").Scope,i=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),o=i.COMPREHENSION_FOR,s=i.VARIABLE_DECLARATION_LIST,a=function(){this.map_=new e,this.scope=null,this.withBlockCounter_=0},c=a;return $traceurRuntime.createClass(a,{getScopeForTree:function(e){return this.map_.get(e)},pushScope:function(e){var t=new n(this.scope,e);return this.map_.set(e,t),this.scope=t},popScope:function(e){if(this.scope!==e)throw new Error("ScopeVisitor scope mismatch");this.scope=e.parent},visitScript:function(e){var t=this.pushScope(e);$traceurRuntime.superCall(this,c.prototype,"visitScript",[e]),this.popScope(t)},visitModule:function(e){var t=this.pushScope(e);$traceurRuntime.superCall(this,c.prototype,"visitModule",[e]),this.popScope(t)},visitBlock:function(e){var t=this.pushScope(e);$traceurRuntime.superCall(this,c.prototype,"visitBlock",[e]),this.popScope(t)},visitCatch:function(e){var t=this.pushScope(e);this.visitAny(e.binding),this.visitList(e.catchBody.statements),this.popScope(t)},visitFunctionBodyForScope:function(e){var t=void 0!==arguments[1]?arguments[1]:e.parameterList,r=this.pushScope(e);this.visitAny(t),this.visitAny(e.body),this.popScope(r)},visitFunctionExpression:function(e){this.visitFunctionBodyForScope(e)},visitFunctionDeclaration:function(e){this.visitAny(e.name),this.visitFunctionBodyForScope(e)},visitArrowFunctionExpression:function(e){this.visitFunctionBodyForScope(e)},visitGetAccessor:function(e){this.visitFunctionBodyForScope(e,null)},visitSetAccessor:function(e){this.visitFunctionBodyForScope(e)},visitPropertyMethodAssignment:function(e){this.visitFunctionBodyForScope(e)},visitClassDeclaration:function(e){this.visitAny(e.superClass);var t=this.pushScope(e);this.visitAny(e.name),this.visitList(e.elements),this.popScope(t)},visitClassExpression:function(e){this.visitAny(e.superClass);var t;e.name&&(t=this.pushScope(e),this.visitAny(e.name)),this.visitList(e.elements),e.name&&this.popScope(t)},visitWithStatement:function(e){this.visitAny(e.expression),this.withBlockCounter_++,this.visitAny(e.body),this.withBlockCounter_--},get inWithBlock(){return this.withBlockCounter_>0},visitLoop_:function(e,t){if(e.initializer.type!==s||e.initializer.declarationType===r)return void t();var n=this.pushScope(e);t(),this.popScope(n)},visitForInStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,c.prototype,"visitForInStatement",[e])})},visitForOfStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,c.prototype,"visitForOfStatement",[e])})},visitForStatement:function(e){var t=this;e.initializer?this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,c.prototype,"visitForStatement",[e])}):$traceurRuntime.superCall(this,c.prototype,"visitForStatement",[e])},visitComprehension_:function(e){for(var t=[],r=0;r<e.comprehensionList.length;r++){var n=null;e.comprehensionList[r].type===o&&(n=this.pushScope(e.comprehensionList[r])),t.push(n),this.visitAny(e.comprehensionList[r])}this.visitAny(e.expression);for(var r=t.length-1;r>=0;r--)t[r]&&this.popScope(t[r])},visitArrayComprehension:function(e){this.visitComprehension_(e)},visitGeneratorComprehension:function(e){this.visitComprehension_(e)}},{},t),{get ScopeVisitor(){return a}}}),System.register("traceur@0.0.72/src/semantics/ScopeChainBuilder",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/TokenType"),t=e.CONST,r=e.LET,n=e.VAR,i=System.get("traceur@0.0.72/src/semantics/ScopeVisitor").ScopeVisitor,o=function(e){$traceurRuntime.superCall(this,s.prototype,"constructor",[]),this.reporter_=e,this.declarationType_=null},s=o;return $traceurRuntime.createClass(o,{visitCatch:function(e){var t=this.pushScope(e);this.declarationType_=r,this.visitAny(e.binding),this.visitList(e.catchBody.statements),this.popScope(t)},visitImportedBinding:function(e){this.declarationType_=t,$traceurRuntime.superCall(this,s.prototype,"visitImportedBinding",[e])},visitVariableDeclarationList:function(e){this.declarationType_=e.declarationType,$traceurRuntime.superCall(this,s.prototype,"visitVariableDeclarationList",[e])},visitBindingIdentifier:function(e){this.declareVariable(e)},visitFunctionExpression:function(e){var r=this.pushScope(e);e.name&&(this.declarationType_=t,this.visitAny(e.name)),this.visitAny(e.parameterList),this.visitAny(e.body),this.popScope(r)},visitFormalParameter:function(e){this.declarationType_=n,$traceurRuntime.superCall(this,s.prototype,"visitFormalParameter",[e])},visitFunctionDeclaration:function(e){if(this.scope)if(this.scope.isVarScope)this.declarationType_=n,this.visitAny(e.name);else{if(!this.scope.strictMode){var t=this.scope.getVarScope();t&&t.addVar(e.name,this.reporter_)}this.declarationType_=r,this.visitAny(e.name)}this.visitFunctionBodyForScope(e,e.parameterList,e.body)},visitClassDeclaration:function(e){this.visitAny(e.superClass),this.declarationType_=r,this.visitAny(e.name);var n=this.pushScope(e);this.declarationType_=t,this.visitAny(e.name),this.visitList(e.elements),this.popScope(n)},visitClassExpression:function(e){this.visitAny(e.superClass);var r;e.name&&(r=this.pushScope(e),this.declarationType_=t,this.visitAny(e.name)),this.visitList(e.elements),e.name&&this.popScope(r)},visitComprehensionFor:function(e){this.declarationType_=r,$traceurRuntime.superCall(this,s.prototype,"visitComprehensionFor",[e])},declareVariable:function(e){this.scope.addBinding(e,this.declarationType_,this.reporter_)}},{},i),{get ScopeChainBuilder(){return o}}}),System.register("traceur@0.0.72/src/semantics/ConstChecker",[],function(){"use strict";function e(e,t){var r=new a(t);r.visitAny(e);var n=new c(r,t);n.visitAny(e)}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType").IDENTIFIER_EXPRESSION,r=System.get("traceur@0.0.72/src/syntax/TokenType"),n=r.CONST,i=r.MINUS_MINUS,o=r.PLUS_PLUS,s=System.get("traceur@0.0.72/src/semantics/ScopeVisitor").ScopeVisitor,a=System.get("traceur@0.0.72/src/semantics/ScopeChainBuilder").ScopeChainBuilder,c=function(e,t){$traceurRuntime.superCall(this,u.prototype,"constructor",[]),this.scopeBuilder_=e,this.reporter_=t},u=c;return $traceurRuntime.createClass(c,{pushScope:function(e){return this.scope=this.scopeBuilder_.getScopeForTree(e)},visitUnaryExpression:function(e){e.operand.type!==t||e.operator.type!==o&&e.operator.type!==i||this.validateMutation_(e.operand),$traceurRuntime.superCall(this,u.prototype,"visitUnaryExpression",[e])},visitPostfixExpression:function(e){e.operand.type===t&&this.validateMutation_(e.operand),$traceurRuntime.superCall(this,u.prototype,"visitPostfixExpression",[e])},visitBinaryExpression:function(e){e.left.type===t&&e.operator.isAssignmentOperator()&&this.validateMutation_(e.left),$traceurRuntime.superCall(this,u.prototype,"visitBinaryExpression",[e])},validateMutation_:function(e){if(!this.inWithBlock){var t=this.scope.getBinding(e);if(null!==t){var r=t,i=r.type,o=r.tree;i===n&&this.reportError_(e.location,o.getStringValue()+" is read-only")}}},reportError_:function(e,t){this.reporter_.reportError(e.start,t)}},{},s),{get ConstChecker(){return c},get validate(){return e}}}),System.register("traceur@0.0.72/src/semantics/FreeVariableChecker",[],function(){"use strict";function e(e){for(;e;e=e.parent)switch(e.tree.type){case i:case o:case s:case u:case l:return!0}return!1}function t(e){for(;e;e=e.parent)if(e.tree.type===c)return!0;return!1}function r(e,t){var r=void 0!==arguments[2]?arguments[2]:Reflect.global,n=new f(t);n.visitAny(e);var i=new d(n,t,r);i.visitAny(e)}var n=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),i=n.FUNCTION_DECLARATION,o=n.FUNCTION_EXPRESSION,s=n.GET_ACCESSOR,a=n.IDENTIFIER_EXPRESSION,c=n.MODULE,u=n.PROPERTY_METHOD_ASSIGNMENT,l=n.SET_ACCESSOR,h=System.get("traceur@0.0.72/src/syntax/TokenType").TYPEOF,p=System.get("traceur@0.0.72/src/semantics/ScopeVisitor").ScopeVisitor,f=System.get("traceur@0.0.72/src/semantics/ScopeChainBuilder").ScopeChainBuilder,d=function(e,t){var r=void 0!==arguments[2]?arguments[2]:Object.create(null);$traceurRuntime.superCall(this,m.prototype,"constructor",[]),this.scopeBuilder_=e,this.reporter_=t,this.global_=r},m=d;return $traceurRuntime.createClass(d,{pushScope:function(e){return this.scope=this.scopeBuilder_.getScopeForTree(e)},visitUnaryExpression:function(e){if(e.operator.type===h&&e.operand.type===a){var t=this.scope,r=t.getBinding(e.operand);r||t.addVar(e.operand,this.reporter_)}else $traceurRuntime.superCall(this,m.prototype,"visitUnaryExpression",[e])},visitIdentifierExpression:function(r){if(!this.inWithBlock){var n=this.scope,i=n.getBinding(r);if(!i){var o=r.getStringValue();"arguments"===o&&e(n)||"__moduleName"===o&&t(n)||o in this.global_||this.reporter_.reportError(r.location.start,o+" is not defined")}}}},{},p),{get validate(){return r}}}),System.register("traceur@0.0.72/src/util/JSON",[],function(){"use strict";function e(e){var r=void 0!==arguments[1]?arguments[1]:function(e,t){return t};return t(r("",e),r)}function t(e,r){var n,i;if(Array.isArray(e)){var o=e.length;n=Array(o);for(var s=0;o>s;s++)i=t(r(String(s),e[s]),r),n[s]=void 0===i?null:i;return n}return e instanceof Object?(n={},Object.keys(e).forEach(function(o){i=t(r(o,e[o]),r),void 0!==i&&(n[o]=i)}),n):e}return{get transform(){return e}}}),System.register("traceur@0.0.72/src/syntax/Token",[],function(){"use strict";function e(e){switch(e){case r:case n:case i:case o:case s:case a:case c:case u:case l:case h:case p:case f:case d:return!0}return!1}var t=System.get("traceur@0.0.72/src/syntax/TokenType"),r=t.AMPERSAND_EQUAL,n=t.BAR_EQUAL,i=t.CARET_EQUAL,o=t.EQUAL,s=t.LEFT_SHIFT_EQUAL,a=t.MINUS_EQUAL,c=t.PERCENT_EQUAL,u=t.PLUS_EQUAL,l=t.RIGHT_SHIFT_EQUAL,h=t.SLASH_EQUAL,p=t.STAR_EQUAL,f=t.STAR_STAR_EQUAL,d=t.UNSIGNED_RIGHT_SHIFT_EQUAL,m=function(e,t){this.type=e,this.location=t};return $traceurRuntime.createClass(m,{toString:function(){return this.type},isAssignmentOperator:function(){return e(this.type)},isKeyword:function(){return!1},isStrictKeyword:function(){return!1}},{}),{get Token(){return m},get isAssignmentOperator(){return e}}}),System.register("traceur@0.0.72/src/syntax/trees/ParseTree",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),t=System.get("traceur@0.0.72/src/syntax/TokenType"),r=t.IDENTIFIER,n=t.STAR,i=t.STRING,o=t.VAR,s=System.get("traceur@0.0.72/src/syntax/Token").Token,a=System.get("traceur@0.0.72/src/util/JSON"),c=System.get("traceur@0.0.72/src/syntax/PredefinedName").ASYNC,u=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),l=u.ARRAY_COMPREHENSION,h=u.ARRAY_LITERAL_EXPRESSION,p=u.ARRAY_PATTERN,f=u.ARROW_FUNCTION_EXPRESSION,d=u.AWAIT_EXPRESSION,m=u.BINARY_EXPRESSION,g=u.BINDING_IDENTIFIER,y=u.BLOCK,v=u.BREAK_STATEMENT,b=u.CALL_EXPRESSION,S=u.CLASS_DECLARATION,w=u.CLASS_EXPRESSION,_=u.COMMA_EXPRESSION,T=u.CONDITIONAL_EXPRESSION,E=u.CONTINUE_STATEMENT,C=u.DEBUGGER_STATEMENT,x=u.DO_WHILE_STATEMENT,R=u.EMPTY_STATEMENT,A=u.EXPORT_DECLARATION,O=u.EXPRESSION_STATEMENT,j=u.FOR_IN_STATEMENT,k=u.FOR_OF_STATEMENT,P=u.FOR_STATEMENT,I=u.FORMAL_PARAMETER,L=u.FUNCTION_DECLARATION,N=u.FUNCTION_EXPRESSION,D=u.GENERATOR_COMPREHENSION,M=u.IDENTIFIER_EXPRESSION,F=u.IF_STATEMENT,B=u.IMPORT_DECLARATION,H=u.IMPORTED_BINDING,$=u.LABELLED_STATEMENT,V=u.LITERAL_EXPRESSION,U=u.MEMBER_EXPRESSION,z=u.MEMBER_LOOKUP_EXPRESSION,W=u.MODULE_DECLARATION,G=u.NEW_EXPRESSION,q=u.OBJECT_LITERAL_EXPRESSION,Y=u.OBJECT_PATTERN,X=u.PAREN_EXPRESSION,K=u.POSTFIX_EXPRESSION,Q=u.PROPERTY_NAME_SHORTHAND,J=u.REST_PARAMETER,Z=u.RETURN_STATEMENT,ee=u.SPREAD_EXPRESSION,te=u.SPREAD_PATTERN_ELEMENT,re=u.SUPER_EXPRESSION,ne=u.SWITCH_STATEMENT,ie=u.TEMPLATE_LITERAL_EXPRESSION,oe=u.THIS_EXPRESSION,se=u.THROW_STATEMENT,ae=u.TRY_STATEMENT,ce=u.UNARY_EXPRESSION,ue=u.VARIABLE_DECLARATION,le=u.VARIABLE_STATEMENT,he=u.WHILE_STATEMENT,pe=u.WITH_STATEMENT,fe=u.YIELD_EXPRESSION,de=function(e,t){throw new Error("Don't use for now. 'super' is currently very slow.")},me=de;return $traceurRuntime.createClass(de,{isPattern:function(){switch(this.type){case p:case Y:return!0;default:return!1}},isLeftHandSideExpression:function(){switch(this.type){case oe:case w:case re:case M:case V:case h:case q:case G:case U:case z:case b:case N:case ie:return!0;case X:return this.expression.isLeftHandSideExpression();default:return!1}},isAssignmentExpression:function(){switch(this.type){case l:case h:case f:case d:case m:case b:case w:case T:case N:case D:case M:case V:case U:case z:case G:case q:case X:case K:case ie:case re:case oe:case ce:case fe:return!0;default:return!1}},isMemberExpression:function(){switch(this.type){case oe:case w:case re:case M:case V:case h:case q:case X:case ie:case N:case z:case U:case b:return!0;case G:return null!=this.args}return!1},isExpression:function(){return this.isAssignmentExpression()||this.type==_},isAssignmentOrSpread:function(){return this.isAssignmentExpression()||this.type==ee},isRestParameter:function(){return this.type==J||this.type==I&&this.parameter.isRestParameter()},isSpreadPatternElement:function(){return this.type==te},isStatementListItem:function(){return this.isStatement()||this.isDeclaration()},isStatement:function(){switch(this.type){case y:case le:case R:case O:case F:case E:case v:case Z:case pe:case $:case se:case ae:case C:return!0}return this.isBreakableStatement()},isDeclaration:function(){switch(this.type){case L:case S:return!0}return this.isLexicalDeclaration()},isLexicalDeclaration:function(){switch(this.type){case le:return this.declarations.declarationType!==o}return!1},isBreakableStatement:function(){switch(this.type){case ne:return!0}return this.isIterationStatement()},isIterationStatement:function(){switch(this.type){case x:case j:case k:case P:case he:return!0}return!1},isScriptElement:function(){switch(this.type){case S:case A:case L:case B:case W:case ue:return!0}return this.isStatement()},isGenerator:function(){return null!==this.functionKind&&this.functionKind.type===n},isAsyncFunction:function(){return null!==this.functionKind&&this.functionKind.type===r&&this.functionKind.value===c},getDirectivePrologueStringToken_:function(){var e=this;return e.type===O&&(e=e.expression)&&e.type===V&&(e=e.literalToken)?e.type!==i?null:e:null},isDirectivePrologue:function(){return null!==this.getDirectivePrologueStringToken_()},isUseStrictDirective:function(){var e=this.getDirectivePrologueStringToken_();if(!e)return!1;var t=e.value;return'"use strict"'===t||"'use strict'"===t},toJSON:function(){return a.transform(this,me.replacer)},stringify:function(){var e=void 0!==arguments[0]?arguments[0]:2;return JSON.stringify(this,me.replacer,e)},getStringValue:function(){switch(this.type){case M:case g:return this.identifierToken.toString();case H:return this.binding.getStringValue();case Q:return this.name.toString()}throw new Error("Not yet implemented")}},{stripLocation:function(e,t){return"location"===e?void 0:t},replacer:function(e,t){if(t instanceof me||t instanceof s){var r={type:t.type};return Object.keys(t).forEach(function(e){"location"!==e&&(r[e]=t[e])}),r}return t}}),{get ParseTreeType(){return e},get ParseTree(){return de}}}),System.register("traceur@0.0.72/src/syntax/trees/ParseTrees",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTree").ParseTree,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),r=t.ANNOTATION,n=function(e,t,r){this.location=e,this.name=t,this.args=r};$traceurRuntime.createClass(n,{transform:function(e){return e.transformAnnotation(this)},visit:function(e){e.visitAnnotation(this)},get type(){return r}},{},e);var i=t.ANON_BLOCK,o=function(e,t){this.location=e,this.statements=t};$traceurRuntime.createClass(o,{transform:function(e){return e.transformAnonBlock(this)},visit:function(e){e.visitAnonBlock(this)},get type(){return i}},{},e);var s=t.ARGUMENT_LIST,a=function(e,t){this.location=e,this.args=t};$traceurRuntime.createClass(a,{transform:function(e){return e.transformArgumentList(this)},visit:function(e){e.visitArgumentList(this)},get type(){return s}},{},e);var c=t.ARRAY_COMPREHENSION,u=function(e,t,r){this.location=e,this.comprehensionList=t,this.expression=r};$traceurRuntime.createClass(u,{transform:function(e){return e.transformArrayComprehension(this)},visit:function(e){e.visitArrayComprehension(this)},get type(){return c}},{},e);var l=t.ARRAY_LITERAL_EXPRESSION,h=function(e,t){this.location=e,this.elements=t};$traceurRuntime.createClass(h,{transform:function(e){return e.transformArrayLiteralExpression(this)},visit:function(e){e.visitArrayLiteralExpression(this)},get type(){return l}},{},e);var p=t.ARRAY_PATTERN,f=function(e,t){this.location=e,this.elements=t};$traceurRuntime.createClass(f,{transform:function(e){return e.transformArrayPattern(this)},visit:function(e){e.visitArrayPattern(this)},get type(){return p}},{},e);var d=t.ARROW_FUNCTION_EXPRESSION,m=function(e,t,r,n){this.location=e,this.functionKind=t,this.parameterList=r,this.body=n};$traceurRuntime.createClass(m,{transform:function(e){return e.transformArrowFunctionExpression(this)},visit:function(e){e.visitArrowFunctionExpression(this)},get type(){return d}},{},e);var g=t.ASSIGNMENT_ELEMENT,y=function(e,t,r){this.location=e,this.assignment=t,this.initializer=r};$traceurRuntime.createClass(y,{transform:function(e){return e.transformAssignmentElement(this)},visit:function(e){e.visitAssignmentElement(this)},get type(){return g}},{},e);var v=t.AWAIT_EXPRESSION,b=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(b,{transform:function(e){return e.transformAwaitExpression(this)},visit:function(e){e.visitAwaitExpression(this)},get type(){return v}},{},e);var S=t.BINARY_EXPRESSION,w=function(e,t,r,n){this.location=e,this.left=t,this.operator=r,this.right=n};$traceurRuntime.createClass(w,{transform:function(e){return e.transformBinaryExpression(this)},visit:function(e){e.visitBinaryExpression(this)},get type(){return S}},{},e);var _=t.BINDING_ELEMENT,T=function(e,t,r){this.location=e,this.binding=t,this.initializer=r};$traceurRuntime.createClass(T,{transform:function(e){return e.transformBindingElement(this)},visit:function(e){e.visitBindingElement(this)},get type(){return _}},{},e);var E=t.BINDING_IDENTIFIER,C=function(e,t){this.location=e,this.identifierToken=t};$traceurRuntime.createClass(C,{transform:function(e){return e.transformBindingIdentifier(this)},visit:function(e){e.visitBindingIdentifier(this)},get type(){return E}},{},e);var x=t.BLOCK,R=function(e,t){this.location=e,this.statements=t};$traceurRuntime.createClass(R,{transform:function(e){return e.transformBlock(this)},visit:function(e){e.visitBlock(this)},get type(){return x}},{},e);var A=t.BREAK_STATEMENT,O=function(e,t){this.location=e,this.name=t};$traceurRuntime.createClass(O,{transform:function(e){return e.transformBreakStatement(this)},visit:function(e){e.visitBreakStatement(this)},get type(){return A}},{},e);var j=t.CALL_EXPRESSION,k=function(e,t,r){this.location=e,this.operand=t,this.args=r};$traceurRuntime.createClass(k,{transform:function(e){return e.transformCallExpression(this)},visit:function(e){e.visitCallExpression(this)},get type(){return j}},{},e);var P=t.CASE_CLAUSE,I=function(e,t,r){this.location=e,this.expression=t,this.statements=r};$traceurRuntime.createClass(I,{transform:function(e){return e.transformCaseClause(this)},visit:function(e){e.visitCaseClause(this)},get type(){return P}},{},e);var L=t.CATCH,N=function(e,t,r){this.location=e,this.binding=t,this.catchBody=r};$traceurRuntime.createClass(N,{transform:function(e){return e.transformCatch(this)},visit:function(e){e.visitCatch(this)},get type(){return L}},{},e);var D=t.CLASS_DECLARATION,M=function(e,t,r,n,i){this.location=e,this.name=t,this.superClass=r,this.elements=n,this.annotations=i};$traceurRuntime.createClass(M,{transform:function(e){return e.transformClassDeclaration(this)},visit:function(e){e.visitClassDeclaration(this)},get type(){return D}},{},e);var F=t.CLASS_EXPRESSION,B=function(e,t,r,n,i){this.location=e,this.name=t,this.superClass=r,this.elements=n,this.annotations=i};$traceurRuntime.createClass(B,{transform:function(e){return e.transformClassExpression(this)},visit:function(e){e.visitClassExpression(this)},get type(){return F}},{},e);var H=t.COMMA_EXPRESSION,$=function(e,t){this.location=e,this.expressions=t};$traceurRuntime.createClass($,{transform:function(e){return e.transformCommaExpression(this)},visit:function(e){
e.visitCommaExpression(this)},get type(){return H}},{},e);var V=t.COMPREHENSION_FOR,U=function(e,t,r){this.location=e,this.left=t,this.iterator=r};$traceurRuntime.createClass(U,{transform:function(e){return e.transformComprehensionFor(this)},visit:function(e){e.visitComprehensionFor(this)},get type(){return V}},{},e);var z=t.COMPREHENSION_IF,W=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(W,{transform:function(e){return e.transformComprehensionIf(this)},visit:function(e){e.visitComprehensionIf(this)},get type(){return z}},{},e);var G=t.COMPUTED_PROPERTY_NAME,q=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(q,{transform:function(e){return e.transformComputedPropertyName(this)},visit:function(e){e.visitComputedPropertyName(this)},get type(){return G}},{},e);var Y=t.CONDITIONAL_EXPRESSION,X=function(e,t,r,n){this.location=e,this.condition=t,this.left=r,this.right=n};$traceurRuntime.createClass(X,{transform:function(e){return e.transformConditionalExpression(this)},visit:function(e){e.visitConditionalExpression(this)},get type(){return Y}},{},e);var K=t.CONTINUE_STATEMENT,Q=function(e,t){this.location=e,this.name=t};$traceurRuntime.createClass(Q,{transform:function(e){return e.transformContinueStatement(this)},visit:function(e){e.visitContinueStatement(this)},get type(){return K}},{},e);var J=t.COVER_FORMALS,Z=function(e,t){this.location=e,this.expressions=t};$traceurRuntime.createClass(Z,{transform:function(e){return e.transformCoverFormals(this)},visit:function(e){e.visitCoverFormals(this)},get type(){return J}},{},e);var ee=t.COVER_INITIALIZED_NAME,te=function(e,t,r,n){this.location=e,this.name=t,this.equalToken=r,this.initializer=n};$traceurRuntime.createClass(te,{transform:function(e){return e.transformCoverInitializedName(this)},visit:function(e){e.visitCoverInitializedName(this)},get type(){return ee}},{},e);var re=t.DEBUGGER_STATEMENT,ne=function(e){this.location=e};$traceurRuntime.createClass(ne,{transform:function(e){return e.transformDebuggerStatement(this)},visit:function(e){e.visitDebuggerStatement(this)},get type(){return re}},{},e);var ie=t.DEFAULT_CLAUSE,oe=function(e,t){this.location=e,this.statements=t};$traceurRuntime.createClass(oe,{transform:function(e){return e.transformDefaultClause(this)},visit:function(e){e.visitDefaultClause(this)},get type(){return ie}},{},e);var se=t.DO_WHILE_STATEMENT,ae=function(e,t,r){this.location=e,this.body=t,this.condition=r};$traceurRuntime.createClass(ae,{transform:function(e){return e.transformDoWhileStatement(this)},visit:function(e){e.visitDoWhileStatement(this)},get type(){return se}},{},e);var ce=t.EMPTY_STATEMENT,ue=function(e){this.location=e};$traceurRuntime.createClass(ue,{transform:function(e){return e.transformEmptyStatement(this)},visit:function(e){e.visitEmptyStatement(this)},get type(){return ce}},{},e);var le=t.EXPORT_DECLARATION,he=function(e,t,r){this.location=e,this.declaration=t,this.annotations=r};$traceurRuntime.createClass(he,{transform:function(e){return e.transformExportDeclaration(this)},visit:function(e){e.visitExportDeclaration(this)},get type(){return le}},{},e);var pe=t.EXPORT_DEFAULT,fe=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(fe,{transform:function(e){return e.transformExportDefault(this)},visit:function(e){e.visitExportDefault(this)},get type(){return pe}},{},e);var de=t.EXPORT_SPECIFIER,me=function(e,t,r){this.location=e,this.lhs=t,this.rhs=r};$traceurRuntime.createClass(me,{transform:function(e){return e.transformExportSpecifier(this)},visit:function(e){e.visitExportSpecifier(this)},get type(){return de}},{},e);var ge=t.EXPORT_SPECIFIER_SET,ye=function(e,t){this.location=e,this.specifiers=t};$traceurRuntime.createClass(ye,{transform:function(e){return e.transformExportSpecifierSet(this)},visit:function(e){e.visitExportSpecifierSet(this)},get type(){return ge}},{},e);var ve=t.EXPORT_STAR,be=function(e){this.location=e};$traceurRuntime.createClass(be,{transform:function(e){return e.transformExportStar(this)},visit:function(e){e.visitExportStar(this)},get type(){return ve}},{},e);var Se=t.EXPRESSION_STATEMENT,we=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(we,{transform:function(e){return e.transformExpressionStatement(this)},visit:function(e){e.visitExpressionStatement(this)},get type(){return Se}},{},e);var _e=t.FINALLY,Te=function(e,t){this.location=e,this.block=t};$traceurRuntime.createClass(Te,{transform:function(e){return e.transformFinally(this)},visit:function(e){e.visitFinally(this)},get type(){return _e}},{},e);var Ee=t.FOR_IN_STATEMENT,Ce=function(e,t,r,n){this.location=e,this.initializer=t,this.collection=r,this.body=n};$traceurRuntime.createClass(Ce,{transform:function(e){return e.transformForInStatement(this)},visit:function(e){e.visitForInStatement(this)},get type(){return Ee}},{},e);var xe=t.FOR_OF_STATEMENT,Re=function(e,t,r,n){this.location=e,this.initializer=t,this.collection=r,this.body=n};$traceurRuntime.createClass(Re,{transform:function(e){return e.transformForOfStatement(this)},visit:function(e){e.visitForOfStatement(this)},get type(){return xe}},{},e);var Ae=t.FOR_STATEMENT,Oe=function(e,t,r,n,i){this.location=e,this.initializer=t,this.condition=r,this.increment=n,this.body=i};$traceurRuntime.createClass(Oe,{transform:function(e){return e.transformForStatement(this)},visit:function(e){e.visitForStatement(this)},get type(){return Ae}},{},e);var je=t.FORMAL_PARAMETER,ke=function(e,t,r,n){this.location=e,this.parameter=t,this.typeAnnotation=r,this.annotations=n};$traceurRuntime.createClass(ke,{transform:function(e){return e.transformFormalParameter(this)},visit:function(e){e.visitFormalParameter(this)},get type(){return je}},{},e);var Pe=t.FORMAL_PARAMETER_LIST,Ie=function(e,t){this.location=e,this.parameters=t};$traceurRuntime.createClass(Ie,{transform:function(e){return e.transformFormalParameterList(this)},visit:function(e){e.visitFormalParameterList(this)},get type(){return Pe}},{},e);var Le=t.FUNCTION_BODY,Ne=function(e,t){this.location=e,this.statements=t};$traceurRuntime.createClass(Ne,{transform:function(e){return e.transformFunctionBody(this)},visit:function(e){e.visitFunctionBody(this)},get type(){return Le}},{},e);var De=t.FUNCTION_DECLARATION,Me=function(e,t,r,n,i,o,s){this.location=e,this.name=t,this.functionKind=r,this.parameterList=n,this.typeAnnotation=i,this.annotations=o,this.body=s};$traceurRuntime.createClass(Me,{transform:function(e){return e.transformFunctionDeclaration(this)},visit:function(e){e.visitFunctionDeclaration(this)},get type(){return De}},{},e);var Fe=t.FUNCTION_EXPRESSION,Be=function(e,t,r,n,i,o,s){this.location=e,this.name=t,this.functionKind=r,this.parameterList=n,this.typeAnnotation=i,this.annotations=o,this.body=s};$traceurRuntime.createClass(Be,{transform:function(e){return e.transformFunctionExpression(this)},visit:function(e){e.visitFunctionExpression(this)},get type(){return Fe}},{},e);var He=t.GENERATOR_COMPREHENSION,$e=function(e,t,r){this.location=e,this.comprehensionList=t,this.expression=r};$traceurRuntime.createClass($e,{transform:function(e){return e.transformGeneratorComprehension(this)},visit:function(e){e.visitGeneratorComprehension(this)},get type(){return He}},{},e);var Ve=t.GET_ACCESSOR,Ue=function(e,t,r,n,i,o){this.location=e,this.isStatic=t,this.name=r,this.typeAnnotation=n,this.annotations=i,this.body=o};$traceurRuntime.createClass(Ue,{transform:function(e){return e.transformGetAccessor(this)},visit:function(e){e.visitGetAccessor(this)},get type(){return Ve}},{},e);var ze=t.IDENTIFIER_EXPRESSION,We=function(e,t){this.location=e,this.identifierToken=t};$traceurRuntime.createClass(We,{transform:function(e){return e.transformIdentifierExpression(this)},visit:function(e){e.visitIdentifierExpression(this)},get type(){return ze}},{},e);var Ge=t.IF_STATEMENT,qe=function(e,t,r,n){this.location=e,this.condition=t,this.ifClause=r,this.elseClause=n};$traceurRuntime.createClass(qe,{transform:function(e){return e.transformIfStatement(this)},visit:function(e){e.visitIfStatement(this)},get type(){return Ge}},{},e);var Ye=t.IMPORTED_BINDING,Xe=function(e,t){this.location=e,this.binding=t};$traceurRuntime.createClass(Xe,{transform:function(e){return e.transformImportedBinding(this)},visit:function(e){e.visitImportedBinding(this)},get type(){return Ye}},{},e);var Ke=t.IMPORT_DECLARATION,Qe=function(e,t,r){this.location=e,this.importClause=t,this.moduleSpecifier=r};$traceurRuntime.createClass(Qe,{transform:function(e){return e.transformImportDeclaration(this)},visit:function(e){e.visitImportDeclaration(this)},get type(){return Ke}},{},e);var Je=t.IMPORT_SPECIFIER,Ze=function(e,t,r){this.location=e,this.binding=t,this.name=r};$traceurRuntime.createClass(Ze,{transform:function(e){return e.transformImportSpecifier(this)},visit:function(e){e.visitImportSpecifier(this)},get type(){return Je}},{},e);var et=t.IMPORT_SPECIFIER_SET,tt=function(e,t){this.location=e,this.specifiers=t};$traceurRuntime.createClass(tt,{transform:function(e){return e.transformImportSpecifierSet(this)},visit:function(e){e.visitImportSpecifierSet(this)},get type(){return et}},{},e);var rt=t.LABELLED_STATEMENT,nt=function(e,t,r){this.location=e,this.name=t,this.statement=r};$traceurRuntime.createClass(nt,{transform:function(e){return e.transformLabelledStatement(this)},visit:function(e){e.visitLabelledStatement(this)},get type(){return rt}},{},e);var it=t.LITERAL_EXPRESSION,ot=function(e,t){this.location=e,this.literalToken=t};$traceurRuntime.createClass(ot,{transform:function(e){return e.transformLiteralExpression(this)},visit:function(e){e.visitLiteralExpression(this)},get type(){return it}},{},e);var st=t.LITERAL_PROPERTY_NAME,at=function(e,t){this.location=e,this.literalToken=t};$traceurRuntime.createClass(at,{transform:function(e){return e.transformLiteralPropertyName(this)},visit:function(e){e.visitLiteralPropertyName(this)},get type(){return st}},{},e);var ct=t.MEMBER_EXPRESSION,ut=function(e,t,r){this.location=e,this.operand=t,this.memberName=r};$traceurRuntime.createClass(ut,{transform:function(e){return e.transformMemberExpression(this)},visit:function(e){e.visitMemberExpression(this)},get type(){return ct}},{},e);var lt=t.MEMBER_LOOKUP_EXPRESSION,ht=function(e,t,r){this.location=e,this.operand=t,this.memberExpression=r};$traceurRuntime.createClass(ht,{transform:function(e){return e.transformMemberLookupExpression(this)},visit:function(e){e.visitMemberLookupExpression(this)},get type(){return lt}},{},e);var pt=t.MODULE,ft=function(e,t,r){this.location=e,this.scriptItemList=t,this.moduleName=r};$traceurRuntime.createClass(ft,{transform:function(e){return e.transformModule(this)},visit:function(e){e.visitModule(this)},get type(){return pt}},{},e);var dt=t.MODULE_DECLARATION,mt=function(e,t,r){this.location=e,this.binding=t,this.expression=r};$traceurRuntime.createClass(mt,{transform:function(e){return e.transformModuleDeclaration(this)},visit:function(e){e.visitModuleDeclaration(this)},get type(){return dt}},{},e);var gt=t.MODULE_SPECIFIER,yt=function(e,t){this.location=e,this.token=t};$traceurRuntime.createClass(yt,{transform:function(e){return e.transformModuleSpecifier(this)},visit:function(e){e.visitModuleSpecifier(this)},get type(){return gt}},{},e);var vt=t.NAMED_EXPORT,bt=function(e,t,r){this.location=e,this.moduleSpecifier=t,this.specifierSet=r};$traceurRuntime.createClass(bt,{transform:function(e){return e.transformNamedExport(this)},visit:function(e){e.visitNamedExport(this)},get type(){return vt}},{},e);var St=t.NEW_EXPRESSION,wt=function(e,t,r){this.location=e,this.operand=t,this.args=r};$traceurRuntime.createClass(wt,{transform:function(e){return e.transformNewExpression(this)},visit:function(e){e.visitNewExpression(this)},get type(){return St}},{},e);var _t=t.OBJECT_LITERAL_EXPRESSION,Tt=function(e,t){this.location=e,this.propertyNameAndValues=t};$traceurRuntime.createClass(Tt,{transform:function(e){return e.transformObjectLiteralExpression(this)},visit:function(e){e.visitObjectLiteralExpression(this)},get type(){return _t}},{},e);var Et=t.OBJECT_PATTERN,Ct=function(e,t){this.location=e,this.fields=t};$traceurRuntime.createClass(Ct,{transform:function(e){return e.transformObjectPattern(this)},visit:function(e){e.visitObjectPattern(this)},get type(){return Et}},{},e);var xt=t.OBJECT_PATTERN_FIELD,Rt=function(e,t,r){this.location=e,this.name=t,this.element=r};$traceurRuntime.createClass(Rt,{transform:function(e){return e.transformObjectPatternField(this)},visit:function(e){e.visitObjectPatternField(this)},get type(){return xt}},{},e);var At=t.PAREN_EXPRESSION,Ot=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(Ot,{transform:function(e){return e.transformParenExpression(this)},visit:function(e){e.visitParenExpression(this)},get type(){return At}},{},e);var jt=t.POSTFIX_EXPRESSION,kt=function(e,t,r){this.location=e,this.operand=t,this.operator=r};$traceurRuntime.createClass(kt,{transform:function(e){return e.transformPostfixExpression(this)},visit:function(e){e.visitPostfixExpression(this)},get type(){return jt}},{},e);var Pt=t.PREDEFINED_TYPE,It=function(e,t){this.location=e,this.typeToken=t};$traceurRuntime.createClass(It,{transform:function(e){return e.transformPredefinedType(this)},visit:function(e){e.visitPredefinedType(this)},get type(){return Pt}},{},e);var Lt=t.SCRIPT,Nt=function(e,t,r){this.location=e,this.scriptItemList=t,this.moduleName=r};$traceurRuntime.createClass(Nt,{transform:function(e){return e.transformScript(this)},visit:function(e){e.visitScript(this)},get type(){return Lt}},{},e);var Dt=t.PROPERTY_METHOD_ASSIGNMENT,Mt=function(e,t,r,n,i,o,s,a){this.location=e,this.isStatic=t,this.functionKind=r,this.name=n,this.parameterList=i,this.typeAnnotation=o,this.annotations=s,this.body=a};$traceurRuntime.createClass(Mt,{transform:function(e){return e.transformPropertyMethodAssignment(this)},visit:function(e){e.visitPropertyMethodAssignment(this)},get type(){return Dt}},{},e);var Ft=t.PROPERTY_NAME_ASSIGNMENT,Bt=function(e,t,r){this.location=e,this.name=t,this.value=r};$traceurRuntime.createClass(Bt,{transform:function(e){return e.transformPropertyNameAssignment(this)},visit:function(e){e.visitPropertyNameAssignment(this)},get type(){return Ft}},{},e);var Ht=t.PROPERTY_NAME_SHORTHAND,$t=function(e,t){this.location=e,this.name=t};$traceurRuntime.createClass($t,{transform:function(e){return e.transformPropertyNameShorthand(this)},visit:function(e){e.visitPropertyNameShorthand(this)},get type(){return Ht}},{},e);var Vt=t.REST_PARAMETER,Ut=function(e,t){this.location=e,this.identifier=t};$traceurRuntime.createClass(Ut,{transform:function(e){return e.transformRestParameter(this)},visit:function(e){e.visitRestParameter(this)},get type(){return Vt}},{},e);var zt=t.RETURN_STATEMENT,Wt=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(Wt,{transform:function(e){return e.transformReturnStatement(this)},visit:function(e){e.visitReturnStatement(this)},get type(){return zt}},{},e);var Gt=t.SET_ACCESSOR,qt=function(e,t,r,n,i,o){this.location=e,this.isStatic=t,this.name=r,this.parameterList=n,this.annotations=i,this.body=o};$traceurRuntime.createClass(qt,{transform:function(e){return e.transformSetAccessor(this)},visit:function(e){e.visitSetAccessor(this)},get type(){return Gt}},{},e);var Yt=t.SPREAD_EXPRESSION,Xt=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(Xt,{transform:function(e){return e.transformSpreadExpression(this)},visit:function(e){e.visitSpreadExpression(this)},get type(){return Yt}},{},e);var Kt=t.SPREAD_PATTERN_ELEMENT,Qt=function(e,t){this.location=e,this.lvalue=t};$traceurRuntime.createClass(Qt,{transform:function(e){return e.transformSpreadPatternElement(this)},visit:function(e){e.visitSpreadPatternElement(this)},get type(){return Kt}},{},e);var Jt=t.SUPER_EXPRESSION,Zt=function(e){this.location=e};$traceurRuntime.createClass(Zt,{transform:function(e){return e.transformSuperExpression(this)},visit:function(e){e.visitSuperExpression(this)},get type(){return Jt}},{},e);var er=t.SWITCH_STATEMENT,tr=function(e,t,r){this.location=e,this.expression=t,this.caseClauses=r};$traceurRuntime.createClass(tr,{transform:function(e){return e.transformSwitchStatement(this)},visit:function(e){e.visitSwitchStatement(this)},get type(){return er}},{},e);var rr=t.SYNTAX_ERROR_TREE,nr=function(e,t,r){this.location=e,this.nextToken=t,this.message=r};$traceurRuntime.createClass(nr,{transform:function(e){return e.transformSyntaxErrorTree(this)},visit:function(e){e.visitSyntaxErrorTree(this)},get type(){return rr}},{},e);var ir=t.TEMPLATE_LITERAL_EXPRESSION,or=function(e,t,r){this.location=e,this.operand=t,this.elements=r};$traceurRuntime.createClass(or,{transform:function(e){return e.transformTemplateLiteralExpression(this)},visit:function(e){e.visitTemplateLiteralExpression(this)},get type(){return ir}},{},e);var sr=t.TEMPLATE_LITERAL_PORTION,ar=function(e,t){this.location=e,this.value=t};$traceurRuntime.createClass(ar,{transform:function(e){return e.transformTemplateLiteralPortion(this)},visit:function(e){e.visitTemplateLiteralPortion(this)},get type(){return sr}},{},e);var cr=t.TEMPLATE_SUBSTITUTION,ur=function(e,t){this.location=e,this.expression=t};$traceurRuntime.createClass(ur,{transform:function(e){return e.transformTemplateSubstitution(this)},visit:function(e){e.visitTemplateSubstitution(this)},get type(){return cr}},{},e);var lr=t.THIS_EXPRESSION,hr=function(e){this.location=e};$traceurRuntime.createClass(hr,{transform:function(e){return e.transformThisExpression(this)},visit:function(e){e.visitThisExpression(this)},get type(){return lr}},{},e);var pr=t.THROW_STATEMENT,fr=function(e,t){this.location=e,this.value=t};$traceurRuntime.createClass(fr,{transform:function(e){return e.transformThrowStatement(this)},visit:function(e){e.visitThrowStatement(this)},get type(){return pr}},{},e);var dr=t.TRY_STATEMENT,mr=function(e,t,r,n){this.location=e,this.body=t,this.catchBlock=r,this.finallyBlock=n};$traceurRuntime.createClass(mr,{transform:function(e){return e.transformTryStatement(this)},visit:function(e){e.visitTryStatement(this)},get type(){return dr}},{},e);var gr=t.TYPE_NAME,yr=function(e,t,r){this.location=e,this.moduleName=t,this.name=r};$traceurRuntime.createClass(yr,{transform:function(e){return e.transformTypeName(this)},visit:function(e){e.visitTypeName(this)},get type(){return gr}},{},e);var vr=t.UNARY_EXPRESSION,br=function(e,t,r){this.location=e,this.operator=t,this.operand=r};$traceurRuntime.createClass(br,{transform:function(e){return e.transformUnaryExpression(this)},visit:function(e){e.visitUnaryExpression(this)},get type(){return vr}},{},e);var Sr=t.VARIABLE_DECLARATION,wr=function(e,t,r,n){this.location=e,this.lvalue=t,this.typeAnnotation=r,this.initializer=n};$traceurRuntime.createClass(wr,{transform:function(e){return e.transformVariableDeclaration(this)},visit:function(e){e.visitVariableDeclaration(this)},get type(){return Sr}},{},e);var _r=t.VARIABLE_DECLARATION_LIST,Tr=function(e,t,r){this.location=e,this.declarationType=t,this.declarations=r};$traceurRuntime.createClass(Tr,{transform:function(e){return e.transformVariableDeclarationList(this)},visit:function(e){e.visitVariableDeclarationList(this)},get type(){return _r}},{},e);var Er=t.VARIABLE_STATEMENT,Cr=function(e,t){this.location=e,this.declarations=t};$traceurRuntime.createClass(Cr,{transform:function(e){return e.transformVariableStatement(this)},visit:function(e){e.visitVariableStatement(this)},get type(){return Er}},{},e);var xr=t.WHILE_STATEMENT,Rr=function(e,t,r){this.location=e,this.condition=t,this.body=r};$traceurRuntime.createClass(Rr,{transform:function(e){return e.transformWhileStatement(this)},visit:function(e){e.visitWhileStatement(this)},get type(){return xr}},{},e);var Ar=t.WITH_STATEMENT,Or=function(e,t,r){this.location=e,this.expression=t,this.body=r};$traceurRuntime.createClass(Or,{transform:function(e){return e.transformWithStatement(this)},visit:function(e){e.visitWithStatement(this)},get type(){return Ar}},{},e);var jr=t.YIELD_EXPRESSION,kr=function(e,t,r){this.location=e,this.expression=t,this.isYieldFor=r};return $traceurRuntime.createClass(kr,{transform:function(e){return e.transformYieldExpression(this)},visit:function(e){e.visitYieldExpression(this)},get type(){return jr}},{},e),{get Annotation(){return n},get AnonBlock(){return o},get ArgumentList(){return a},get ArrayComprehension(){return u},get ArrayLiteralExpression(){return h},get ArrayPattern(){return f},get ArrowFunctionExpression(){return m},get AssignmentElement(){return y},get AwaitExpression(){return b},get BinaryExpression(){return w},get BindingElement(){return T},get BindingIdentifier(){return C},get Block(){return R},get BreakStatement(){return O},get CallExpression(){return k},get CaseClause(){return I},get Catch(){return N},get ClassDeclaration(){return M},get ClassExpression(){return B},get CommaExpression(){return $},get ComprehensionFor(){return U},get ComprehensionIf(){return W},get ComputedPropertyName(){return q},get ConditionalExpression(){return X},get ContinueStatement(){return Q},get CoverFormals(){return Z},get CoverInitializedName(){return te},get DebuggerStatement(){return ne},get DefaultClause(){return oe},get DoWhileStatement(){return ae},get EmptyStatement(){return ue},get ExportDeclaration(){return he},get ExportDefault(){return fe},get ExportSpecifier(){return me},get ExportSpecifierSet(){return ye},get ExportStar(){return be},get ExpressionStatement(){return we},get Finally(){return Te},get ForInStatement(){return Ce},get ForOfStatement(){return Re},get ForStatement(){return Oe},get FormalParameter(){return ke},get FormalParameterList(){return Ie},get FunctionBody(){return Ne},get FunctionDeclaration(){return Me},get FunctionExpression(){return Be},get GeneratorComprehension(){return $e},get GetAccessor(){return Ue},get IdentifierExpression(){return We},get IfStatement(){return qe},get ImportedBinding(){return Xe},get ImportDeclaration(){return Qe},get ImportSpecifier(){return Ze},get ImportSpecifierSet(){return tt},get LabelledStatement(){return nt},get LiteralExpression(){return ot},get LiteralPropertyName(){return at},get MemberExpression(){return ut},get MemberLookupExpression(){return ht},get Module(){return ft},get ModuleDeclaration(){return mt},get ModuleSpecifier(){return yt},get NamedExport(){return bt},get NewExpression(){return wt},get ObjectLiteralExpression(){return Tt},get ObjectPattern(){return Ct},get ObjectPatternField(){return Rt},get ParenExpression(){return Ot},get PostfixExpression(){return kt},get PredefinedType(){return It},get Script(){return Nt},get PropertyMethodAssignment(){return Mt},get PropertyNameAssignment(){return Bt},get PropertyNameShorthand(){return $t},get RestParameter(){return Ut},get ReturnStatement(){return Wt},get SetAccessor(){return qt},get SpreadExpression(){return Xt},get SpreadPatternElement(){return Qt},get SuperExpression(){return Zt},get SwitchStatement(){return tr},get SyntaxErrorTree(){return nr},get TemplateLiteralExpression(){return or},get TemplateLiteralPortion(){return ar},get TemplateSubstitution(){return ur},get ThisExpression(){return hr},get ThrowStatement(){return fr},get TryStatement(){return mr},get TypeName(){return yr},get UnaryExpression(){return br},get VariableDeclaration(){return wr},get VariableDeclarationList(){return Tr},get VariableStatement(){return Cr},get WhileStatement(){return Rr},get WithStatement(){return Or},get YieldExpression(){return kr}}}),System.register("traceur@0.0.72/src/util/assert",[],function(){"use strict";function e(e){if(!e&&t.debug)throw Error("Assertion failed")}var t=System.get("traceur@0.0.72/src/Options").options;return{get assert(){return e}}}),System.register("traceur@0.0.72/src/syntax/IdentifierToken",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/Token").Token,t=System.get("traceur@0.0.72/src/syntax/TokenType").IDENTIFIER,r=function(e,t){this.location=e,this.value=t};return $traceurRuntime.createClass(r,{toString:function(){return this.value},get type(){return t}},{},e),{get IdentifierToken(){return r}}}),System.register("traceur@0.0.72/src/syntax/LiteralToken",[],function(){"use strict";var e,t=System.get("traceur@0.0.72/src/syntax/Token").Token,r=System.get("traceur@0.0.72/src/syntax/TokenType"),n=r.NULL,i=r.NUMBER,o=r.STRING,s=function(e){this.value=e,this.index=0};$traceurRuntime.createClass(s,(e={},Object.defineProperty(e,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(e,"next",{value:function(){return++this.index>=this.value.length-1?{value:void 0,done:!0}:{value:this.value[this.index],done:!1}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(e,"parse",{value:function(){if(-1===this.value.indexOf("\\"))return this.value.slice(1,-1);for(var e,t="",r=this[Symbol.iterator]();!(e=r.next()).done;){var n=e.value;t+="\\"===n?this.parseEscapeSequence():n}return t},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(e,"parseEscapeSequence",{value:function(){var e=this.next().value;switch(e){case"\n":case"\r":case"\u2028":case"\u2029":return"";case"0":return"\x00";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"	";case"v":return"";case"x":return String.fromCharCode(parseInt(this.next().value+this.next().value,16));case"u":var t=this.next().value;if("{"===t){for(var r="";"}"!==(t=this.next().value);)r+=t;var n=parseInt(r,16);if(65535>=n)return String.fromCharCode(n);var i=Math.floor((n-65536)/1024)+55296,o=(n-65536)%1024+56320;return String.fromCharCode(i,o)}return String.fromCharCode(parseInt(t+this.next().value+this.next().value+this.next().value,16));default:if(Number(e)<8)throw new Error("Octal literals are not supported");return e}},configurable:!0,enumerable:!0,writable:!0}),e),{});var a=function(e,t,r){this.type=e,this.location=r,this.value=t};return $traceurRuntime.createClass(a,{toString:function(){return this.value},get processedValue(){switch(this.type){case n:return null;case i:var e=this.value;if(48===e.charCodeAt(0))switch(e.charCodeAt(1)){case 66:case 98:return parseInt(this.value.slice(2),2);case 79:case 111:return parseInt(this.value.slice(2),8)}return Number(this.value);case o:var t=new s(this.value);return t.parse();default:throw new Error("Not implemented")}}},{},t),{get LiteralToken(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/ParseTreeFactory",[],function(){"use strict";function e(e){return new Le(e,null)}function t(e){return new _e(null,e)}function r(e){return new Te(He,JSON.stringify(e),null)}function n(e){return new Le(e?$e:Me,null)}function i(){return new Te(Fe,"null",null)}function o(e){return new Te(Be,String(e),null)}function s(){return new pt(null,[])}function a(e){return new We(null,e)}function c(){return a([])}function u(e){return new Ge(null,e)}function l(){return u([])}function h(t,r){return new qe(null,t,e(De),r)}function p(e,t,r){return new qe(null,e,t,r)}function f(e){if("string"==typeof e)e=t(e);else{if(e.type===xe.BINDING_IDENTIFIER)return e;if(e.type===xe.IDENTIFIER_EXPRESSION)return new Ye(e.location,e.identifierToken)}return new Ye(null,e)}function d(e){var t=f(e);return new yt(t.location,t)}function m(){return new st(null)}function g(){return y([])}function y(e){return new Xe(null,e)}function v(e){return new ft(null,e)}function b(e,t){return Ue("FUNCTION_BODY"===e.type),T(ie(B(s(),e)),t)}function S(e){return Ue("FUNCTION_BODY"===e.type),w(ie(B(s(),e)))}function w(e){var t=void 0!==arguments[1]?arguments[1]:c();return new Qe(null,e,t)}function _(){var e=void 0!==arguments[0]?arguments[0]:null;return new Ke(null,e)}function T(e,t){return w(X(e,Ae),a([t]))}function E(e,t){return new Je(null,e,t)}function C(e,t){return e=f(e),new Ze(null,e,t)}function x(e,t,r){return new et(null,e,t,r,[])}function R(e){return new tt(null,e)}function A(e,t,r){return new rt(null,e,t,r)}function O(){var e=void 0!==arguments[0]?arguments[0]:null;return new nt(null,e)}function j(e){return new it(null,e)}function k(e,t){return new ot(null,e,t)}function P(e,t){return L(h(e,t))}function I(e){var t=arguments[1];return L(w(e,t))}function L(e){return new at(null,e)}function N(e){return new ct(null,e)}function D(e,t,r){return new lt(null,e,t,r)}function M(e,t,r){return new ut(null,e,t,r)}function F(e,t,r,n){return new ht(null,e,t,r,n)}function B(e,t){return Ue("FUNCTION_BODY"===t.type),new dt(null,null,!1,e,null,[],t)}function H(e){return"string"==typeof e?e=t(e):e instanceof Ye&&(e=e.identifierToken),new mt(null,e)}function $(){return H(Ie)}function V(e,t){var r=void 0!==arguments[2]?arguments[2]:null;return new gt(null,e,t,r)}function U(e){return new vt(null,r(e))}function z(e){return new vt(null,n(e))}function W(){return z(!0)}function G(){return z(!1)}function q(){return new vt(null,i())}function Y(e){return new vt(null,o(e))}function X(e,r,n){("string"==typeof e||e instanceof _e)&&(e=H(e)),"string"==typeof r&&(r=t(r)),r instanceof Te&&(r=new vt(null,r));for(var i=r instanceof vt?new wt(null,e,r):new St(null,e,r),o=2;o<arguments.length;o++)i=X(i,arguments[o]);return i}function K(e,t){return new wt(null,e,t)}function Q(){return new jt(null)}function J(e,t){return new _t(null,e,t)}function Z(e){return w(X(Pe,ke),a([e]))}function ee(e,t){var r=[e];return t&&r.push(t),w(X(Pe,Oe),a(r))}function te(e){var t=Object.keys(e).map(function(t){var r=e[t];return r instanceof Ce||(r=z(!!r)),ae(t,r)});return ne(t)}function re(e,t,r){return"string"==typeof t&&(t=U(t)),w(X(Pe,je),a([e,t,te(r)]))}function ne(e){return new Tt(null,e)}function ie(e){return new Et(null,e)}function oe(e,t){return new Ct(null,e,t)}function se(e){return new xt(null,e)}function ae(e,t){return"string"==typeof e&&(e=ce(e)),new Rt(null,e,t)}function ce(e){return new bt(null,t(e))}function ue(e){return new At(null,e)}function le(e,t){return new Ot(null,e,t)}function he(e){return new kt(null,e)}function pe(e,t){var r=void 0!==arguments[2]?arguments[2]:null;return new Pt(null,e,t,r)}function fe(e,t){return new It(null,e,t)}function de(){return L(U("use strict"))}function me(e,t,r){if(t instanceof Array){var n=t;return new Nt(null,e,n)}var i=t;return me(e,[ge(i,r)])}function ge(e,t){return e instanceof Ce&&(e.type===xe.BINDING_IDENTIFIER||e.type===xe.OBJECT_PATTERN||e.type===xe.ARRAY_PATTERN)||(e=f(e)),new Lt(null,e,null,t)}function ye(e,t,r){if(e instanceof Nt)return new Dt(null,e);var n=e,i=me(n,t,r);return ye(i)}function ve(){return ie(fe(e(Ve),Y(0)))}function be(e,t){return new Mt(null,e,t)}function Se(e,t){return new Ft(null,e,t)}function we(e){return P(X("$ctx","state"),Y(e))}var _e=System.get("traceur@0.0.72/src/syntax/IdentifierToken").IdentifierToken,Te=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,Ee=System.get("traceur@0.0.72/src/syntax/trees/ParseTree"),Ce=Ee.ParseTree,xe=Ee.ParseTreeType,Re=System.get("traceur@0.0.72/src/syntax/PredefinedName"),Ae=Re.CALL,Oe=Re.CREATE,je=Re.DEFINE_PROPERTY,ke=Re.FREEZE,Pe=Re.OBJECT,Ie=Re.UNDEFINED,Le=System.get("traceur@0.0.72/src/syntax/Token").Token,Ne=System.get("traceur@0.0.72/src/syntax/TokenType"),De=Ne.EQUAL,Me=Ne.FALSE,Fe=Ne.NULL,Be=Ne.NUMBER,He=Ne.STRING,$e=Ne.TRUE,Ve=Ne.VOID,Ue=System.get("traceur@0.0.72/src/util/assert").assert,ze=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),We=ze.ArgumentList,Ge=ze.ArrayLiteralExpression,qe=ze.BinaryExpression,Ye=ze.BindingIdentifier,Xe=ze.Block,Ke=ze.BreakStatement,Qe=ze.CallExpression,Je=ze.CaseClause,Ze=ze.Catch,et=ze.ClassDeclaration,tt=ze.CommaExpression,rt=ze.ConditionalExpression,nt=ze.ContinueStatement,it=ze.DefaultClause,ot=ze.DoWhileStatement,st=ze.EmptyStatement,at=ze.ExpressionStatement,ct=ze.Finally,ut=ze.ForInStatement,lt=ze.ForOfStatement,ht=ze.ForStatement,pt=ze.FormalParameterList,ft=ze.FunctionBody,dt=ze.FunctionExpression,mt=ze.IdentifierExpression,gt=ze.IfStatement,yt=ze.ImportedBinding,vt=ze.LiteralExpression,bt=ze.LiteralPropertyName,St=ze.MemberExpression,wt=ze.MemberLookupExpression,_t=ze.NewExpression,Tt=ze.ObjectLiteralExpression,Et=ze.ParenExpression,Ct=ze.PostfixExpression,xt=ze.Script,Rt=ze.PropertyNameAssignment,At=(ze.RestParameter,
ze.ReturnStatement),Ot=(ze.SpreadExpression,ze.SwitchStatement),jt=ze.ThisExpression,kt=ze.ThrowStatement,Pt=ze.TryStatement,It=ze.UnaryExpression,Lt=ze.VariableDeclaration,Nt=ze.VariableDeclarationList,Dt=ze.VariableStatement,Mt=ze.WhileStatement,Ft=ze.WithStatement;Array.prototype.slice.call.bind(Array.prototype.slice),Array.prototype.map.call.bind(Array.prototype.map);return{get createOperatorToken(){return e},get createIdentifierToken(){return t},get createStringLiteralToken(){return r},get createBooleanLiteralToken(){return n},get createNullLiteralToken(){return i},get createNumberLiteralToken(){return o},get createEmptyParameterList(){return s},get createArgumentList(){return a},get createEmptyArgumentList(){return c},get createArrayLiteralExpression(){return u},get createEmptyArrayLiteralExpression(){return l},get createAssignmentExpression(){return h},get createBinaryExpression(){return p},get createBindingIdentifier(){return f},get createImportedBinding(){return d},get createEmptyStatement(){return m},get createEmptyBlock(){return g},get createBlock(){return y},get createFunctionBody(){return v},get createScopedExpression(){return b},get createImmediatelyInvokedFunctionExpression(){return S},get createCallExpression(){return w},get createBreakStatement(){return _},get createCaseClause(){return E},get createCatch(){return C},get createClassDeclaration(){return x},get createCommaExpression(){return R},get createConditionalExpression(){return A},get createContinueStatement(){return O},get createDefaultClause(){return j},get createDoWhileStatement(){return k},get createAssignmentStatement(){return P},get createCallStatement(){return I},get createExpressionStatement(){return L},get createFinally(){return N},get createForOfStatement(){return D},get createForInStatement(){return M},get createForStatement(){return F},get createFunctionExpression(){return B},get createIdentifierExpression(){return H},get createUndefinedExpression(){return $},get createIfStatement(){return V},get createStringLiteral(){return U},get createBooleanLiteral(){return z},get createTrueLiteral(){return W},get createFalseLiteral(){return G},get createNullLiteral(){return q},get createNumberLiteral(){return Y},get createMemberExpression(){return X},get createMemberLookupExpression(){return K},get createThisExpression(){return Q},get createNewExpression(){return J},get createObjectFreeze(){return Z},get createObjectCreate(){return ee},get createObjectLiteral(){return te},get createDefineProperty(){return re},get createObjectLiteralExpression(){return ne},get createParenExpression(){return ie},get createPostfixExpression(){return oe},get createScript(){return se},get createPropertyNameAssignment(){return ae},get createReturnStatement(){return ue},get createSwitchStatement(){return le},get createThrowStatement(){return he},get createTryStatement(){return pe},get createUnaryExpression(){return fe},get createUseStrictDirective(){return de},get createVariableDeclarationList(){return me},get createVariableDeclaration(){return ge},get createVariableStatement(){return ye},get createVoid0(){return ve},get createWhileStatement(){return be},get createWithStatement(){return Se},get createAssignStateStatement(){return we}}}),System.register("traceur@0.0.72/src/codegeneration/FindVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,t=function(e){var t=arguments[1];this.found_=!1,this.shouldContinue_=!0,this.keepOnGoing_=t,this.visitAny(e)};return $traceurRuntime.createClass(t,{get found(){return this.found_},set found(e){e&&(this.found_=!0,this.keepOnGoing_||(this.shouldContinue_=!1))},visitAny:function(e){this.shouldContinue_&&e&&e.visit(this)},visitList:function(e){if(e)for(var t=0;this.shouldContinue_&&t<e.length;t++)this.visitAny(e[t])}},{},e),{get FindVisitor(){return t}}}),System.register("traceur@0.0.72/src/syntax/Keywords",[],function(){"use strict";function e(e){return i[e]}function t(t){return e(t)===s}var r=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","finally","for","function","if","import","in","instanceof","let","new","return","super","switch","this","throw","try","typeof","var","void","while","with","enum","extends","null","true","false"],n=["implements","interface","package","private","protected","public","static","yield"],i=Object.create(null),o=1,s=2;return r.forEach(function(e){i[e]=o}),n.forEach(function(e){i[e]=s}),{get NORMAL_KEYWORD(){return o},get STRICT_KEYWORD(){return s},get getKeywordType(){return e},get isStrictKeyword(){return t}}}),System.register("traceur@0.0.72/src/staticsemantics/StrictParams",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,t=System.get("traceur@0.0.72/src/syntax/Keywords").isStrictKeyword,r=function(e){$traceurRuntime.superCall(this,n.prototype,"constructor",[]),this.errorReporter=e},n=r;return $traceurRuntime.createClass(r,{visitBindingIdentifier:function(e){var r=e.identifierToken.toString();t(r)&&this.errorReporter.reportError(e.location.start,r+" is a reserved identifier")}},{visit:function(e,t){new n(t).visitAny(e)}},e),{get StrictParams(){return r}}}),System.register("traceur@0.0.72/src/util/SourceRange",[],function(){"use strict";var e=function(e,t){this.start=e,this.end=t};return $traceurRuntime.createClass(e,{toString:function(){var e=this.start.source.contents;return e.slice(this.start.offset,this.end.offset)}},{}),{get SourceRange(){return e}}}),System.register("traceur@0.0.72/src/util/ErrorReporter",[],function(){"use strict";function e(e,t){var r=arguments[2],n=0;return t=t.replace(/%./g,function(e){switch(e){case"%s":return r&&r[n++];case"%%":return"%"}return e}),e&&(t=e+": "+t),t}var t=function(){this.hadError_=!1};return $traceurRuntime.createClass(t,{reportError:function(e,t){this.hadError_=!0,this.reportMessageInternal(e,t)},reportMessageInternal:function(e,t){e&&(t=e+": "+t),console.error(t)},hadError:function(){return this.hadError_},clearError:function(){this.hadError_=!1}},{}),t.format=e,{get ErrorReporter(){return t},get format(){return e}}}),System.register("traceur@0.0.72/src/util/SyntaxErrorReporter",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/util/ErrorReporter"),t=e.ErrorReporter,r=e.format,n=function(){$traceurRuntime.defaultSuperCall(this,i.prototype,arguments)},i=n;return $traceurRuntime.createClass(n,{reportMessageInternal:function(e,t){var n=r(e,t);throw new SyntaxError(n)}},{},t),{get SyntaxErrorReporter(){return n}}}),System.register("traceur@0.0.72/src/syntax/KeywordToken",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/Keywords").STRICT_KEYWORD,t=System.get("traceur@0.0.72/src/syntax/Token").Token,r=function(t,r,n){this.type=t,this.location=n,this.isStrictKeyword_=r===e};return $traceurRuntime.createClass(r,{isKeyword:function(){return!0},isStrictKeyword:function(){return this.isStrictKeyword_}},{},t),{get KeywordToken(){return r}}}),System.register("traceur@0.0.72/src/syntax/unicode-tables",[],function(){"use strict";var e=[170,170,181,181,186,186,192,214,216,246,248,442,443,443,444,447,448,451,452,659,660,660,661,687,688,705,710,721,736,740,748,748,750,750,880,883,884,884,886,887,890,890,891,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1599,1600,1600,1601,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2417,2418,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3653,3654,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4348,4349,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6210,6211,6211,6212,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7287,7288,7293,7401,7404,7406,7409,7413,7414,7424,7467,7468,7530,7531,7543,7544,7544,7545,7578,7579,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8472,8472,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8494,8494,8495,8500,8501,8504,8505,8505,8508,8511,8517,8521,8526,8526,8544,8578,8579,8580,8581,8584,11264,11310,11312,11358,11360,11387,11388,11389,11390,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12293,12294,12294,12295,12295,12321,12329,12337,12341,12344,12346,12347,12347,12348,12348,12353,12438,12443,12444,12445,12446,12447,12447,12449,12538,12540,12542,12543,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,40980,40981,40981,40982,42124,42192,42231,42232,42237,42240,42507,42508,42508,42512,42527,42538,42539,42560,42605,42606,42606,42623,42623,42624,42647,42656,42725,42726,42735,42775,42783,42786,42863,42864,42864,42865,42887,42888,42888,42891,42894,42896,42899,42912,42922,43e3,43001,43002,43002,43003,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43631,43632,43632,43633,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43740,43741,43741,43744,43754,43762,43762,43763,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65391,65392,65392,65393,65437,65438,65439,65440,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66334,66352,66368,66369,66369,66370,66377,66378,66378,66432,66461,66464,66499,66504,66511,66513,66517,66560,66639,66640,66717,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67840,67861,67872,67897,67968,68023,68030,68031,68096,68096,68112,68115,68117,68119,68121,68147,68192,68220,68352,68405,68416,68437,68448,68466,68608,68680,69635,69687,69763,69807,69840,69864,69891,69926,70019,70066,70081,70084,71296,71338,73728,74606,74752,74850,77824,78894,92160,92728,93952,94020,94032,94032,94099,94111,110592,110593,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,131072,173782,173824,177972,177984,178205,194560,195101],t=[183,183,768,879,903,903,1155,1159,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1552,1562,1611,1631,1632,1641,1648,1648,1750,1756,1759,1764,1767,1768,1770,1773,1776,1785,1809,1809,1840,1866,1958,1968,1984,1993,2027,2035,2070,2073,2075,2083,2085,2087,2089,2093,2137,2139,2276,2302,2304,2306,2307,2307,2362,2362,2363,2363,2364,2364,2366,2368,2369,2376,2377,2380,2381,2381,2382,2383,2385,2391,2402,2403,2406,2415,2433,2433,2434,2435,2492,2492,2494,2496,2497,2500,2503,2504,2507,2508,2509,2509,2519,2519,2530,2531,2534,2543,2561,2562,2563,2563,2620,2620,2622,2624,2625,2626,2631,2632,2635,2637,2641,2641,2662,2671,2672,2673,2677,2677,2689,2690,2691,2691,2748,2748,2750,2752,2753,2757,2759,2760,2761,2761,2763,2764,2765,2765,2786,2787,2790,2799,2817,2817,2818,2819,2876,2876,2878,2878,2879,2879,2880,2880,2881,2884,2887,2888,2891,2892,2893,2893,2902,2902,2903,2903,2914,2915,2918,2927,2946,2946,3006,3007,3008,3008,3009,3010,3014,3016,3018,3020,3021,3021,3031,3031,3046,3055,3073,3075,3134,3136,3137,3140,3142,3144,3146,3149,3157,3158,3170,3171,3174,3183,3202,3203,3260,3260,3262,3262,3263,3263,3264,3268,3270,3270,3271,3272,3274,3275,3276,3277,3285,3286,3298,3299,3302,3311,3330,3331,3390,3392,3393,3396,3398,3400,3402,3404,3405,3405,3415,3415,3426,3427,3430,3439,3458,3459,3530,3530,3535,3537,3538,3540,3542,3542,3544,3551,3570,3571,3633,3633,3636,3642,3655,3662,3664,3673,3761,3761,3764,3769,3771,3772,3784,3789,3792,3801,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3903,3953,3966,3967,3967,3968,3972,3974,3975,3981,3991,3993,4028,4038,4038,4139,4140,4141,4144,4145,4145,4146,4151,4152,4152,4153,4154,4155,4156,4157,4158,4160,4169,4182,4183,4184,4185,4190,4192,4194,4196,4199,4205,4209,4212,4226,4226,4227,4228,4229,4230,4231,4236,4237,4237,4239,4239,4240,4249,4250,4252,4253,4253,4957,4959,4969,4977,5906,5908,5938,5940,5970,5971,6002,6003,6068,6069,6070,6070,6071,6077,6078,6085,6086,6086,6087,6088,6089,6099,6109,6109,6112,6121,6155,6157,6160,6169,6313,6313,6432,6434,6435,6438,6439,6440,6441,6443,6448,6449,6450,6450,6451,6456,6457,6459,6470,6479,6576,6592,6600,6601,6608,6617,6618,6618,6679,6680,6681,6683,6741,6741,6742,6742,6743,6743,6744,6750,6752,6752,6753,6753,6754,6754,6755,6756,6757,6764,6765,6770,6771,6780,6783,6783,6784,6793,6800,6809,6912,6915,6916,6916,6964,6964,6965,6965,6966,6970,6971,6971,6972,6972,6973,6977,6978,6978,6979,6980,6992,7001,7019,7027,7040,7041,7042,7042,7073,7073,7074,7077,7078,7079,7080,7081,7082,7082,7083,7083,7084,7085,7088,7097,7142,7142,7143,7143,7144,7145,7146,7148,7149,7149,7150,7150,7151,7153,7154,7155,7204,7211,7212,7219,7220,7221,7222,7223,7232,7241,7248,7257,7376,7378,7380,7392,7393,7393,7394,7400,7405,7405,7410,7411,7412,7412,7616,7654,7676,7679,8255,8256,8276,8276,8400,8412,8417,8417,8421,8432,11503,11505,11647,11647,11744,11775,12330,12333,12334,12335,12441,12442,42528,42537,42607,42607,42612,42621,42655,42655,42736,42737,43010,43010,43014,43014,43019,43019,43043,43044,43045,43046,43047,43047,43136,43137,43188,43203,43204,43204,43216,43225,43232,43249,43264,43273,43302,43309,43335,43345,43346,43347,43392,43394,43395,43395,43443,43443,43444,43445,43446,43449,43450,43451,43452,43452,43453,43456,43472,43481,43561,43566,43567,43568,43569,43570,43571,43572,43573,43574,43587,43587,43596,43596,43597,43597,43600,43609,43643,43643,43696,43696,43698,43700,43703,43704,43710,43711,43713,43713,43755,43755,43756,43757,43758,43759,43765,43765,43766,43766,44003,44004,44005,44005,44006,44007,44008,44008,44009,44010,44012,44012,44013,44013,44016,44025,64286,64286,65024,65039,65056,65062,65075,65076,65101,65103,65296,65305,65343,65343,66045,66045,66720,66729,68097,68099,68101,68102,68108,68111,68152,68154,68159,68159,69632,69632,69633,69633,69634,69634,69688,69702,69734,69743,69760,69761,69762,69762,69808,69810,69811,69814,69815,69816,69817,69818,69872,69881,69888,69890,69927,69931,69932,69932,69933,69940,69942,69951,70016,70017,70018,70018,70067,70069,70070,70078,70079,70080,70096,70105,71339,71339,71340,71340,71341,71341,71342,71343,71344,71349,71350,71350,71351,71351,71360,71369,94033,94078,94095,94098,119141,119142,119143,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,120782,120831,917760,917999];return{get idStartTable(){return e},get idContinueTable(){return t}}}),System.register("traceur@0.0.72/src/syntax/Scanner",[],function(){"use strict";function e(e){if(128>e)return Rt[e];switch(e){case 160:case 65279:case 8232:case 8233:return!0}return!1}function t(e){switch(e){case 10:case 13:case 8232:case 8233:return!0}return!1}function r(e){return e>=48&&57>=e}function n(e){return 128>e&&Ot[e]}function i(e){return 48===e||49===e}function o(e){return e>=48&&55>=e}function s(e){return 128>e?jt[e]:c(de,e)}function a(e){return 128>e?kt[e]:c(de,e)||c(fe,e)||8204===e||8205===e}function c(e,t){for(var r=0;r<e.length;){if(t<e[r++])return!1;if(t<=e[r++])return!0}return!1}function u(e){switch(e){case 47:return!1;case 91:case 92:return!0}return!t(e)}function l(e){return u(e)&&42!==e}function h(e){return Bt.getSourcePosition(e)}function p(e){return Bt.getSourceRange(e,Pt)}function f(){return Nt?Nt.location.start.offset:Pt}function d(){var e=Pt-Nt.toString().length;if((Nt.type!=mt||47!==Ft)&&!m())return new ue(lt,z(e),p(e));if(47!==Ft)return se("Expected '/' in regular expression literal"),new ue(lt,z(e),p(e));for(ie();a(Ft);)ie();return new ue(lt,z(e),p(e))}function m(){if(!l(Ft))return se("Expected regular expression first char"),!1;for(;!ne()&&u(Ft);)if(!g())return!1;return!0}function g(){switch(Ft){case 92:return y();case 91:return v();default:return ie(),!0}}function y(){return ie(),t(Ft)||ne()?(se("New line not allowed in regular expression literal"),!1):(ie(),!0)}function v(){for(ie();!ne()&&b();)if(!S())return!1;return 93!==Ft?(se("']' expected"),!1):(ie(),!0)}function b(){return 93!==Ft&&!t(Ft)}function S(){return 92===Ft?y():(ie(),!0)}function w(){for(;!ne();)switch(Ft){case 96:return;case 92:q();break;case 36:var e=It.charCodeAt(Pt+1);if(123===e)return;default:ie()}}function _(e){return ne()?(se("Unterminated template literal"),Dt=H(De,e)):E(Ye,wt)}function T(){return ne()?(se("Expected '}' after expression in template literal"),H(De,Pt)):Nt.type!==je?(se("Expected '}' after expression in template literal"),H(He,Pt)):E(Tt,_t)}function E(e,t){var r=Pt;if(w(),ne())return se("Unterminated template literal"),H(He,r);var n=z(r);switch(Ft){case 96:return ie(),Dt=new ue(e,n,p(r-1));case 36:return ie(),ie(),Dt=new ue(t,n,p(r-1))}}function C(){var e=R();return Nt=Mt||D(),Mt=null,Dt=e,e}function x(){for(var e=R(),r=Dt.location.end.offset,n=e.location.start.offset,i=r;n>i;i++){var o=It.charCodeAt(i);if(t(o))return null;if(47===o){if(o=It.charCodeAt(++i),47===o)return null;i=It.indexOf("*/",i)+2}}return e}function R(){return Nt||(Nt=D())}function A(){return Nt||(Nt=D()),Mt||(Mt=D()),Mt}function O(){for(;!ne()&&j();)ie()}function j(){return e(Ft)}function k(){for(;P(););}function P(){O();var e=Ft;if(47===e)switch(e=It.charCodeAt(Pt+1)){case 47:return L(),!0;case 42:return N(),!0}return!1}function I(e,t){ge.commentCallback&&$t.handleComment(Bt.getSourceRange(e,t))}function L(){var e=Pt;for(Pt+=2;!ne()&&!t(It.charCodeAt(Pt++)););oe(),I(e,Pt)}function N(){var e=Pt,t=It.indexOf("*/",Pt+2);Pt=-1!==t?t+2:Lt,oe(),I(e,Pt)}function D(){k();var e=Pt;if(ne())return H(De,e);var t=Ft;switch(ie(),t){case 123:return H(Ze,e);case 125:return H(je,e);case 40:return H(et,e);case 41:return H(ke,e);case 91:return H(tt,e);case 93:return H(Pe,e);case 46:switch(Ft){case 46:if(46===It.charCodeAt(Pt+1))return ie(),ie(),H(Ne,e);break;default:if(r(Ft))return M(e)}return H(ot,e);case 59:return H(ft,e);case 44:return H(Le,e);case 126:return H(Et,e);case 63:return H(ut,e);case 58:return H(Ie,e);case 60:switch(Ft){case 60:return ie(),61===Ft?(ie(),H(Ue,e)):H(Ve,e);case 61:return ie(),H(ze,e);default:return H(Je,e)}case 62:switch(Ft){case 62:switch(ie(),Ft){case 61:return ie(),H(pt,e);case 62:return ie(),61===Ft?(ie(),H(xt,e)):H(Ct,e);default:return H(ht,e)}case 61:return ie(),H($e,e);default:return H(Oe,e)}case 61:return 61===Ft?(ie(),61===Ft?(ie(),H(Be,e)):H(Fe,e)):62===Ft&&ye.arrowFunctions?(ie(),H(_e,e)):H(Me,e);case 33:return 61===Ft?(ie(),61===Ft?(ie(),H(Ke,e)):H(Xe,e)):H(Ee,e);case 42:return 61===Ft?(ie(),H(yt,e)):42===Ft&&ye.exponentiation?(ie(),61===Ft?(ie(),H(bt,e)):H(vt,e)):H(gt,e);case 37:return 61===Ft?(ie(),H(it,e)):H(nt,e);case 94:return 61===Ft?(ie(),H(Ae,e)):H(Re,e);case 47:return 61===Ft?(ie(),H(mt,e)):H(dt,e);case 43:switch(Ft){case 43:return ie(),H(ct,e);case 61:return ie(),H(at,e);default:return H(st,e)}case 45:switch(Ft){case 45:return ie(),H(qe,e);case 61:return ie(),H(Ge,e);default:return H(We,e)}case 38:switch(Ft){case 38:return ie(),H(we,e);case 61:return ie(),H(Se,e);default:return H(be,e)}case 124:switch(Ft){case 124:return ie(),H(rt,e);case 61:return ie(),H(xe,e);default:return H(Ce,e)}case 96:return _(e);case 64:return H(Te,e);case 48:return B(e);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return F(e);case 34:case 39:return U(e,t);default:return V(e,t)}}function M(e){return Z(),J(e)}function F(e){return Z(),Q(e)}function B(e){switch(Ft){case 46:return Q(e);case 88:case 120:return ie(),n(Ft)||se("Hex Integer Literal must contain at least one digit"),ee(),new ue(Qe,z(e),p(e));case 66:case 98:if(!ye.numericLiterals)break;return ie(),i(Ft)||se("Binary Integer Literal must contain at least one digit"),te(),new ue(Qe,z(e),p(e));case 79:case 111:if(!ye.numericLiterals)break;return ie(),o(Ft)||se("Octal Integer Literal must contain at least one digit"),re(),new ue(Qe,z(e),p(e));case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return F(e)}return new ue(Qe,z(e),p(e))}function H(e,t){return new le(e,p(t))}function $(){var e=Pt;return 117===Ft&&(ie(),X()&&X()&&X()&&X())?parseInt(z(e+1),16):(se("Invalid unicode escape sequence in identifier",e-1),0)}function V(e,t){var r;if(92===t&&(t=$(),r=[t]),!s(t))return se("Character code '"+t+"' is not a valid identifier start char",e),H(He,e);for(;;)if(t=Ft,a(t))ie();else{if(92!==t)break;if(ie(),t=$(),r||(r=[]),r.push(t),!a(t))return H(He,e)}var n=It.slice(e,Pt),i=he(n);if(i)return new ce(n,i,p(e));if(r){var o=0;n=n.replace(/\\u..../g,function(e){return String.fromCharCode(r[o++])})}return new ae(p(e),n)}function U(e,t){for(;W(t);)if(!G())return new ue(St,z(e),p(e));return Ft!==t?se("Unterminated String Literal",e):ie(),new ue(St,z(e),p(e))}function z(e){return It.substring(e,Pt)}function W(e){return!ne()&&Ft!==e&&!t(Ft)}function G(){return 92===Ft?q():(ie(),!0)}function q(){if(ie(),ne())return se("Unterminated string literal escape sequence"),!1;if(t(Ft))return K(),!0;var e=Ft;switch(ie(),e){case 39:case 34:case 92:case 98:case 102:case 110:case 114:case 116:case 118:case 48:return!0;case 120:return X()&&X();case 117:return Y();default:return!0}}function Y(){if(123===Ft&&ye.unicodeEscapeSequences){ie();var e=Pt;if(!n(Ft))return se("Hex digit expected"),!1;if(ee(),125!==Ft)return se("Hex digit expected"),!1;var t=z(e,Pt);return parseInt(t,16)>1114111?(se("The code point in a Unicode escape sequence cannot exceed 10FFFF"),!1):(ie(),!0)}return X()&&X()&&X()&&X()}function X(){return n(Ft)?(ie(),!0):(se("Hex digit expected"),!1)}function K(){var e=Ft;ie(),13===e&&10===Ft&&ie()}function Q(e){return 46===Ft&&(ie(),Z()),J(e)}function J(e){switch(Ft){case 101:case 69:switch(ie(),Ft){case 43:case 45:ie()}r(Ft)||se("Exponent part must contain at least one digit"),Z()}return new ue(Qe,z(e),p(e))}function Z(){for(;r(Ft);)ie()}function ee(){for(;n(Ft);)ie()}function te(){for(;i(Ft);)ie()}function re(){for(;o(Ft);)ie()}function ne(){return Pt===Lt}function ie(){Pt++,oe()}function oe(){Ft=It.charCodeAt(Pt)}function se(e){var t=void 0!==arguments[1]?arguments[1]:Pt,r=h(t);Ht.reportError(r,e)}for(var ae=System.get("traceur@0.0.72/src/syntax/IdentifierToken").IdentifierToken,ce=System.get("traceur@0.0.72/src/syntax/KeywordToken").KeywordToken,ue=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,le=System.get("traceur@0.0.72/src/syntax/Token").Token,he=System.get("traceur@0.0.72/src/syntax/Keywords").getKeywordType,pe=System.get("traceur@0.0.72/src/syntax/unicode-tables"),fe=pe.idContinueTable,de=pe.idStartTable,me=System.get("traceur@0.0.72/src/Options"),ge=me.options,ye=me.parseOptions,ve=System.get("traceur@0.0.72/src/syntax/TokenType"),be=ve.AMPERSAND,Se=ve.AMPERSAND_EQUAL,we=ve.AND,_e=ve.ARROW,Te=ve.AT,Ee=ve.BANG,Ce=ve.BAR,xe=ve.BAR_EQUAL,Re=ve.CARET,Ae=ve.CARET_EQUAL,Oe=ve.CLOSE_ANGLE,je=ve.CLOSE_CURLY,ke=ve.CLOSE_PAREN,Pe=ve.CLOSE_SQUARE,Ie=ve.COLON,Le=ve.COMMA,Ne=ve.DOT_DOT_DOT,De=ve.END_OF_FILE,Me=ve.EQUAL,Fe=ve.EQUAL_EQUAL,Be=ve.EQUAL_EQUAL_EQUAL,He=ve.ERROR,$e=ve.GREATER_EQUAL,Ve=ve.LEFT_SHIFT,Ue=ve.LEFT_SHIFT_EQUAL,ze=ve.LESS_EQUAL,We=ve.MINUS,Ge=ve.MINUS_EQUAL,qe=ve.MINUS_MINUS,Ye=ve.NO_SUBSTITUTION_TEMPLATE,Xe=ve.NOT_EQUAL,Ke=ve.NOT_EQUAL_EQUAL,Qe=ve.NUMBER,Je=ve.OPEN_ANGLE,Ze=ve.OPEN_CURLY,et=ve.OPEN_PAREN,tt=ve.OPEN_SQUARE,rt=ve.OR,nt=ve.PERCENT,it=ve.PERCENT_EQUAL,ot=ve.PERIOD,st=ve.PLUS,at=ve.PLUS_EQUAL,ct=ve.PLUS_PLUS,ut=ve.QUESTION,lt=ve.REGULAR_EXPRESSION,ht=ve.RIGHT_SHIFT,pt=ve.RIGHT_SHIFT_EQUAL,ft=ve.SEMI_COLON,dt=ve.SLASH,mt=ve.SLASH_EQUAL,gt=ve.STAR,yt=ve.STAR_EQUAL,vt=ve.STAR_STAR,bt=ve.STAR_STAR_EQUAL,St=ve.STRING,wt=ve.TEMPLATE_HEAD,_t=ve.TEMPLATE_MIDDLE,Tt=ve.TEMPLATE_TAIL,Et=ve.TILDE,Ct=ve.UNSIGNED_RIGHT_SHIFT,xt=ve.UNSIGNED_RIGHT_SHIFT_EQUAL,Rt=[],At=0;128>At;At++)Rt[At]=At>=9&&13>=At||32===At;for(var Rt=[],At=0;128>At;At++)Rt[At]=At>=9&&13>=At||32===At;for(var Ot=[],At=0;128>At;At++)Ot[At]=At>=48&&57>=At||At>=65&&70>=At||At>=97&&102>=At;for(var jt=[],At=0;128>At;At++)jt[At]=36===At||At>=65&&90>=At||95===At||At>=97&&122>=At;for(var kt=[],At=0;128>At;At++)kt[At]=s(At)||r(At);var Pt,It,Lt,Nt,Dt,Mt,Ft,Bt,Ht,$t,Vt=function(e,t,r){Ht=e,Bt=t.lineNumberTable,It=t.contents,Lt=t.contents.length,this.index=0,$t=r};return $traceurRuntime.createClass(Vt,{get lastToken(){return Dt},getPosition:function(){return h(f())},nextRegularExpressionLiteralToken:function(){return Dt=d(),Nt=D(),Dt},nextTemplateLiteralToken:function(){var e=T();return Nt=D(),e},nextToken:function(){return C()},peekToken:function(e){return e?A():R()},peekTokenNoLineTerminator:function(){return x()},isAtEnd:function(){return ne()},set index(e){Pt=e,Dt=null,Nt=null,Mt=null,oe()},get index(){return Pt}},{}),{get isWhitespace(){return e},get isLineTerminator(){return t},get isIdentifierPart(){return a},get Scanner(){return Vt}}}),System.register("traceur@0.0.72/src/syntax/Parser",[],function(){"use strict";function e(e){return e.some(function(e){return e.initializer})}var t=System.get("traceur@0.0.72/src/codegeneration/FindVisitor").FindVisitor,r=System.get("traceur@0.0.72/src/syntax/IdentifierToken").IdentifierToken,n=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),i=n.ARRAY_LITERAL_EXPRESSION,o=n.BINDING_IDENTIFIER,s=n.CALL_EXPRESSION,a=n.COMPUTED_PROPERTY_NAME,c=n.COVER_FORMALS,u=n.FORMAL_PARAMETER_LIST,l=n.IDENTIFIER_EXPRESSION,h=n.LITERAL_PROPERTY_NAME,p=n.OBJECT_LITERAL_EXPRESSION,f=n.REST_PARAMETER,d=n.SYNTAX_ERROR_TREE,m=System.get("traceur@0.0.72/src/syntax/PredefinedName"),g=m.AS,y=m.ASYNC,v=m.AWAIT,b=m.FROM,S=m.GET,w=(m.MODULE,m.OF),_=m.SET,T=System.get("traceur@0.0.72/src/util/SyntaxErrorReporter").SyntaxErrorReporter,E=System.get("traceur@0.0.72/src/syntax/Scanner").Scanner,C=System.get("traceur@0.0.72/src/util/SourceRange").SourceRange,x=System.get("traceur@0.0.72/src/staticsemantics/StrictParams").StrictParams,R=System.get("traceur@0.0.72/src/syntax/Token"),A=R.Token,O=R.isAssignmentOperator,j=System.get("traceur@0.0.72/src/syntax/Keywords").getKeywordType,k=System.get("traceur@0.0.72/src/Options"),P=k.parseOptions,I=k.options,L=System.get("traceur@0.0.72/src/syntax/TokenType"),N=L.AMPERSAND,D=L.AND,M=L.ARROW,F=L.AT,B=L.BANG,H=L.BAR,$=L.BREAK,V=L.CARET,U=L.CASE,z=L.CATCH,W=L.CLASS,G=L.CLOSE_ANGLE,q=L.CLOSE_CURLY,Y=L.CLOSE_PAREN,X=L.CLOSE_SQUARE,K=L.COLON,Q=L.COMMA,J=L.CONST,Z=L.CONTINUE,ee=L.DEBUGGER,te=L.DEFAULT,re=L.DELETE,ne=L.DO,ie=L.DOT_DOT_DOT,oe=L.ELSE,se=L.END_OF_FILE,ae=L.EQUAL,ce=L.EQUAL_EQUAL,ue=L.EQUAL_EQUAL_EQUAL,le=L.ERROR,he=L.EXPORT,pe=L.EXTENDS,fe=L.FALSE,de=L.FINALLY,me=L.FOR,ge=L.FUNCTION,ye=L.GREATER_EQUAL,ve=L.IDENTIFIER,be=L.IF,Se=L.IMPLEMENTS,we=L.IMPORT,_e=L.IN,Te=L.INSTANCEOF,Ee=L.INTERFACE,Ce=L.LEFT_SHIFT,xe=L.LESS_EQUAL,Re=L.LET,Ae=L.MINUS,Oe=L.MINUS_MINUS,je=L.NEW,ke=L.NO_SUBSTITUTION_TEMPLATE,Pe=L.NOT_EQUAL,Ie=L.NOT_EQUAL_EQUAL,Le=L.NULL,Ne=L.NUMBER,De=L.OPEN_ANGLE,Me=L.OPEN_CURLY,Fe=L.OPEN_PAREN,Be=L.OPEN_SQUARE,He=L.OR,$e=L.PACKAGE,Ve=L.PERCENT,Ue=L.PERIOD,ze=L.PLUS,We=L.PLUS_PLUS,Ge=L.PRIVATE,qe=L.PROTECTED,Ye=L.PUBLIC,Xe=L.QUESTION,Ke=L.RETURN,Qe=L.RIGHT_SHIFT,Je=L.SEMI_COLON,Ze=L.SLASH,et=L.SLASH_EQUAL,tt=L.STAR,rt=L.STAR_STAR,nt=L.STATIC,it=L.STRING,ot=L.SUPER,st=L.SWITCH,at=L.TEMPLATE_HEAD,ct=L.TEMPLATE_TAIL,ut=L.THIS,lt=L.THROW,ht=L.TILDE,pt=L.TRUE,ft=L.TRY,dt=L.TYPEOF,mt=L.UNSIGNED_RIGHT_SHIFT,gt=L.VAR,yt=L.VOID,vt=L.WHILE,bt=L.WITH,St=L.YIELD,wt=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),_t=wt.ArgumentList,Tt=wt.ArrayComprehension,Et=wt.ArrayLiteralExpression,Ct=wt.ArrayPattern,xt=wt.ArrowFunctionExpression,Rt=wt.AssignmentElement,At=wt.AwaitExpression,Ot=wt.BinaryExpression,jt=wt.BindingElement,kt=wt.BindingIdentifier,Pt=wt.Block,It=wt.BreakStatement,Lt=wt.CallExpression,Nt=wt.CaseClause,Dt=wt.Catch,Mt=wt.ClassDeclaration,Ft=wt.ClassExpression,Bt=wt.CommaExpression,Ht=wt.ComprehensionFor,$t=wt.ComprehensionIf,Vt=wt.ComputedPropertyName,Ut=wt.ConditionalExpression,zt=wt.ContinueStatement,Wt=wt.CoverFormals,Gt=wt.CoverInitializedName,qt=wt.DebuggerStatement,Yt=wt.Annotation,Xt=wt.DefaultClause,Kt=wt.DoWhileStatement,Qt=wt.EmptyStatement,Jt=wt.ExportDeclaration,Zt=wt.ExportDefault,er=wt.ExportSpecifier,tr=wt.ExportSpecifierSet,rr=wt.ExportStar,nr=wt.ExpressionStatement,ir=wt.Finally,or=wt.ForInStatement,sr=wt.ForOfStatement,ar=wt.ForStatement,cr=wt.FormalParameter,ur=wt.FormalParameterList,lr=wt.FunctionBody,hr=wt.FunctionDeclaration,pr=wt.FunctionExpression,fr=wt.GeneratorComprehension,dr=wt.GetAccessor,mr=wt.IdentifierExpression,gr=wt.IfStatement,yr=wt.ImportDeclaration,vr=wt.ImportSpecifier,br=wt.ImportSpecifierSet,Sr=wt.ImportedBinding,wr=wt.LabelledStatement,_r=wt.LiteralExpression,Tr=wt.LiteralPropertyName,Er=wt.MemberExpression,Cr=wt.MemberLookupExpression,xr=wt.Module,Rr=wt.ModuleDeclaration,Ar=wt.ModuleSpecifier,Or=wt.NamedExport,jr=wt.NewExpression,kr=wt.ObjectLiteralExpression,Pr=wt.ObjectPattern,Ir=wt.ObjectPatternField,Lr=wt.ParenExpression,Nr=wt.PostfixExpression,Dr=wt.PredefinedType,Mr=wt.Script,Fr=wt.PropertyMethodAssignment,Br=wt.PropertyNameAssignment,Hr=wt.PropertyNameShorthand,$r=wt.RestParameter,Vr=wt.ReturnStatement,Ur=wt.SetAccessor,zr=wt.SpreadExpression,Wr=wt.SpreadPatternElement,Gr=wt.SuperExpression,qr=wt.SwitchStatement,Yr=wt.SyntaxErrorTree,Xr=wt.TemplateLiteralExpression,Kr=wt.TemplateLiteralPortion,Qr=wt.TemplateSubstitution,Jr=wt.ThisExpression,Zr=wt.ThrowStatement,en=wt.TryStatement,tn=wt.TypeName,rn=wt.UnaryExpression,nn=wt.VariableDeclaration,on=wt.VariableDeclarationList,sn=wt.VariableStatement,an=wt.WhileStatement,cn=wt.WithStatement,un=wt.YieldExpression,ln={
NO_IN:"NO_IN",NORMAL:"NORMAL"},hn={REQUIRED:"REQUIRED",OPTIONAL:"OPTIONAL"},pn={ALLOWED:"ALLOWED",REQUIRED:"REQUIRED"},fn=function(e){this.errorToken=null,$traceurRuntime.superCall(this,dn.prototype,"constructor",[e])},dn=fn;$traceurRuntime.createClass(fn,{visitCoverInitializedName:function(e){this.errorToken=e.equalToken,this.found=!0}},{},t);var mn=function(e){var t=void 0!==arguments[1]?arguments[1]:new T;this.errorReporter_=t,this.scanner_=new E(t,e,this),this.allowYield=!1,this.allowAwait=!1,this.coverInitializedNameCount_=0,this.strictMode_=!1,this.annotations_=[]};return $traceurRuntime.createClass(mn,{parseScript:function(){this.strictMode_=!1;var e=this.getTreeStartLocation_(),t=this.parseStatementList_(!0);return this.eat_(se),new Mr(this.getTreeLocation_(e),t)},parseStatementList_:function(e){for(var t,r=[];(t=this.peekType_())!==q&&t!==se;){var n=this.parseStatementListItem_(t);e&&(n.isDirectivePrologue()?n.isUseStrictDirective()&&(this.strictMode_=!0,e=!1):e=!1),r.push(n)}return r},parseStatementListItem_:function(e){return this.parseStatementWithType_(e)},parseModule:function(){var e=this.getTreeStartLocation_(),t=this.parseModuleItemList_();return this.eat_(se),new xr(this.getTreeLocation_(e),t,null)},parseModuleItemList_:function(){this.strictMode_=!0;for(var e,t=[];(e=this.peekType_())!==se;){var r=this.parseModuleItem_(e);t.push(r)}return t},parseModuleItem_:function(e){switch(e){case we:return this.parseImportDeclaration_();case he:return this.parseExportDeclaration_();case F:if(P.annotations)return this.parseAnnotatedDeclarations_(!0)}return this.parseStatementListItem_(e)},parseModuleSpecifier_:function(){var e=this.getTreeStartLocation_(),t=this.eat_(it);return new Ar(this.getTreeLocation_(e),t)},parseImportDeclaration_:function(){var e=this.getTreeStartLocation_();if(this.eat_(we),this.peek_(tt)){this.eat_(tt),this.eatId_(g);var t=this.parseImportedBinding_();this.eatId_(b);var r=this.parseModuleSpecifier_();return this.eatPossibleImplicitSemiColon_(),new Rr(this.getTreeLocation_(e),t,r)}var n=null;this.peekImportClause_(this.peekType_())&&(n=this.parseImportClause_(),this.eatId_(b));var r=this.parseModuleSpecifier_();return this.eatPossibleImplicitSemiColon_(),new yr(this.getTreeLocation_(e),n,r)},peekImportClause_:function(e){return e===Me||this.peekBindingIdentifier_(e)},parseImportClause_:function(){var e=this.getTreeStartLocation_();if(this.eatIf_(Me)){for(var t=[];!this.peek_(q)&&!this.isAtEnd()&&(t.push(this.parseImportSpecifier_()),this.eatIf_(Q)););return this.eat_(q),new br(this.getTreeLocation_(e),t)}return this.parseImportedBinding_()},parseImportedBinding_:function(){var e=this.getTreeStartLocation_(),t=this.parseBindingIdentifier_();return new Sr(this.getTreeLocation_(e),t)},parseImportSpecifier_:function(){var e,t=this.getTreeStartLocation_(),r=this.peekToken_(),n=r.isKeyword(),i=this.eatIdName_();return n||this.peekPredefinedString_(g)?(this.eatId_(g),e=this.parseImportedBinding_()):(e=new Sr(i.location,new kt(i.location,i)),i=null),new vr(this.getTreeLocation_(t),e,i)},parseExportDeclaration_:function(){var e=this.getTreeStartLocation_();this.eat_(he);var t,r=this.popAnnotations_(),n=this.peekType_();switch(n){case J:case Re:case gt:t=this.parseVariableStatement_();break;case ge:t=this.parseFunctionDeclaration_();break;case W:t=this.parseClassDeclaration_();break;case te:t=this.parseExportDefault_();break;case Me:case tt:t=this.parseNamedExport_();break;case ve:if(I.asyncFunctions&&this.peekPredefinedString_(y)){var i=this.eatId_();t=this.parseAsyncFunctionDeclaration_(i);break}default:return this.parseUnexpectedToken_(n)}return new Jt(this.getTreeLocation_(e),t,r)},parseExportDefault_:function(){var e=this.getTreeStartLocation_();this.eat_(te);var t;switch(this.peekType_()){case ge:var r=this.parseFunctionExpression_();r.name&&(r=new hr(r.location,r.name,r.functionKind,r.parameterList,r.typeAnnotation,r.annotations,r.body)),t=r;break;case W:if(P.classes){var r=this.parseClassExpression_();r.name&&(r=new Mt(r.location,r.name,r.superClass,r.elements,r.annotations)),t=r;break}default:t=this.parseAssignmentExpression(),this.eatPossibleImplicitSemiColon_()}return new Zt(this.getTreeLocation_(e),t)},parseNamedExport_:function(){var e,t=this.getTreeStartLocation_(),r=null;return this.peek_(Me)?(e=this.parseExportSpecifierSet_(),this.peekPredefinedString_(b)?(this.eatId_(b),r=this.parseModuleSpecifier_()):this.validateExportSpecifierSet_(e)):(this.eat_(tt),e=new rr(this.getTreeLocation_(t)),this.eatId_(b),r=this.parseModuleSpecifier_()),this.eatPossibleImplicitSemiColon_(),new Or(this.getTreeLocation_(t),r,e)},parseExportSpecifierSet_:function(){var e=this.getTreeStartLocation_();this.eat_(Me);for(var t=[this.parseExportSpecifier_()];this.eatIf_(Q)&&!this.peek_(q);)t.push(this.parseExportSpecifier_());return this.eat_(q),new tr(this.getTreeLocation_(e),t)},parseExportSpecifier_:function(){var e=this.getTreeStartLocation_(),t=this.eatIdName_(),r=null;return this.peekPredefinedString_(g)&&(this.eatId_(),r=this.eatIdName_()),new er(this.getTreeLocation_(e),t,r)},validateExportSpecifierSet_:function(e){for(var t=0;t<e.specifiers.length;t++){var r=e.specifiers[t];j(r.lhs.value)&&this.reportError_(r.lhs.location,"Unexpected token "+r.lhs.value)}},peekId_:function(e){return e===ve?!0:this.strictMode_?!1:this.peekToken_().isStrictKeyword()},peekIdName_:function(e){return e.type===ve||e.isKeyword()},parseClassShared_:function(e){var t=this.getTreeStartLocation_(),r=this.strictMode_;this.strictMode_=!0,this.eat_(W);var n=null,i=[];(e==Mt||!this.peek_(pe)&&!this.peek_(Me))&&(n=this.parseBindingIdentifier_(),i=this.popAnnotations_());var o=null;this.eatIf_(pe)&&(o=this.parseAssignmentExpression()),this.eat_(Me);var s=this.parseClassElements_();return this.eat_(q),this.strictMode_=r,new e(this.getTreeLocation_(t),n,o,s,i)},parseClassDeclaration_:function(){return this.parseClassShared_(Mt)},parseClassExpression_:function(){return this.parseClassShared_(Ft)},parseClassElements_:function(){for(var e=[];;){var t=this.peekType_();if(t===Je)this.nextToken_();else{if(!this.peekClassElement_(this.peekType_()))break;e.push(this.parseClassElement_())}}return e},peekClassElement_:function(e){return this.peekPropertyName_(e)||e===tt&&P.generators||e===F&&P.annotations},parsePropertyName_:function(){return this.peek_(Be)?this.parseComputedPropertyName_():this.parseLiteralPropertyName_()},parseLiteralPropertyName_:function(){var e=this.getTreeStartLocation_(),t=this.nextToken_();return new Tr(this.getTreeLocation_(e),t)},parseComputedPropertyName_:function(){var e=this.getTreeStartLocation_();this.eat_(Be);var t=this.parseAssignmentExpression();return this.eat_(X),new Vt(this.getTreeLocation_(e),t)},parseStatement:function(){return this.parseModuleItem_(this.peekType_())},parseStatements:function(){return this.parseModuleItemList_()},parseStatement_:function(){return this.parseStatementWithType_(this.peekType_())},parseStatementWithType_:function(e){switch(e){case Ke:return this.parseReturnStatement_();case J:case Re:if(!P.blockBinding)break;case gt:return this.parseVariableStatement_();case be:return this.parseIfStatement_();case me:return this.parseForStatement_();case $:return this.parseBreakStatement_();case st:return this.parseSwitchStatement_();case lt:return this.parseThrowStatement_();case vt:return this.parseWhileStatement_();case ge:return this.parseFunctionDeclaration_();case F:if(P.annotations)return this.parseAnnotatedDeclarations_(!1);break;case W:if(P.classes)return this.parseClassDeclaration_();break;case Z:return this.parseContinueStatement_();case ee:return this.parseDebuggerStatement_();case ne:return this.parseDoWhileStatement_();case Me:return this.parseBlock_();case Je:return this.parseEmptyStatement_();case ft:return this.parseTryStatement_();case bt:return this.parseWithStatement_()}return this.parseFallThroughStatement_()},parseFunctionDeclaration_:function(){return this.parseFunction_(hr)},parseFunctionExpression_:function(){return this.parseFunction_(pr)},parseAsyncFunctionDeclaration_:function(e){return this.parseAsyncFunction_(e,hr)},parseAsyncFunctionExpression_:function(e){return this.parseAsyncFunction_(e,pr)},parseAsyncFunction_:function(e,t){var r=e.location.start;return this.eat_(ge),this.parseFunction2_(r,e,t)},parseFunction_:function(e){var t=this.getTreeStartLocation_();this.eat_(ge);var r=null;return P.generators&&this.peek_(tt)&&(r=this.eat_(tt)),this.parseFunction2_(t,r,e)},parseFunction2_:function(e,t,r){var n=null,i=[];(r===hr||this.peekBindingIdentifier_(this.peekType_()))&&(n=this.parseBindingIdentifier_(),i=this.popAnnotations_()),this.eat_(Fe);var o=this.parseFormalParameters_();this.eat_(Y);var s=this.parseTypeAnnotationOpt_(),a=this.parseFunctionBody_(t,o);return new r(this.getTreeLocation_(e),n,t,o,s,i,a)},peekRest_:function(e){return e===ie&&P.restParameters},parseFormalParameters_:function(){var e=this.getTreeStartLocation_(),t=[];this.pushAnnotations_();var r=this.peekType_();if(this.peekRest_(r))t.push(this.parseFormalRestParameter_());else for(this.peekFormalParameter_(this.peekType_())&&t.push(this.parseFormalParameter_());this.eatIf_(Q);){if(this.pushAnnotations_(),this.peekRest_(this.peekType_())){t.push(this.parseFormalRestParameter_());break}t.push(this.parseFormalParameter_())}return new ur(this.getTreeLocation_(e),t)},peekFormalParameter_:function(e){return this.peekBindingElement_(e)},parseFormalParameter_:function(){var e=arguments[0],t=this.getTreeStartLocation_(),r=this.parseBindingElementBinding_(),n=this.parseTypeAnnotationOpt_(),i=this.parseBindingElementInitializer_(e);return new cr(this.getTreeLocation_(t),new jt(this.getTreeLocation_(t),r,i),n,this.popAnnotations_())},parseFormalRestParameter_:function(){var e=this.getTreeStartLocation_(),t=this.parseRestParameter_(),r=this.parseTypeAnnotationOpt_();return new cr(this.getTreeLocation_(e),t,r,this.popAnnotations_())},parseRestParameter_:function(){var e=this.getTreeStartLocation_();this.eat_(ie);var t=this.parseBindingIdentifier_();return new $r(this.getTreeLocation_(e),t)},parseFunctionBody_:function(e,t){var r=this.getTreeStartLocation_();this.eat_(Me);var n=this.allowYield,i=this.allowAwait,o=this.strictMode_;this.allowYield=e&&e.type===tt,this.allowAwait=e&&e.type===ve&&e.value===y;var s=this.parseStatementList_(!o);return!o&&this.strictMode_&&t&&x.visit(t,this.errorReporter_),this.strictMode_=o,this.allowYield=n,this.allowAwait=i,this.eat_(q),new lr(this.getTreeLocation_(r),s)},parseSpreadExpression_:function(){if(!P.spread)return this.parseUnexpectedToken_(ie);var e=this.getTreeStartLocation_();this.eat_(ie);var t=this.parseAssignmentExpression();return new zr(this.getTreeLocation_(e),t)},parseBlock_:function(){var e=this.getTreeStartLocation_();this.eat_(Me);var t=this.parseStatementList_(!1);return this.eat_(q),new Pt(this.getTreeLocation_(e),t)},parseVariableStatement_:function(){var e=this.getTreeStartLocation_(),t=this.parseVariableDeclarationList_();return this.checkInitializers_(t),this.eatPossibleImplicitSemiColon_(),new sn(this.getTreeLocation_(e),t)},parseVariableDeclarationList_:function(){var e=void 0!==arguments[0]?arguments[0]:ln.NORMAL,t=void 0!==arguments[1]?arguments[1]:hn.REQUIRED,r=this.peekType_();switch(r){case J:case Re:!P.blockBinding;case gt:this.nextToken_();break;default:throw Error("unreachable")}var n=this.getTreeStartLocation_(),i=[];for(i.push(this.parseVariableDeclaration_(r,e,t));this.eatIf_(Q);)i.push(this.parseVariableDeclaration_(r,e,t));return new on(this.getTreeLocation_(n),r,i)},parseVariableDeclaration_:function(e,t){var r,n,i=void 0!==arguments[2]?arguments[2]:hn.REQUIRED,o=i!==hn.OPTIONAL,s=this.getTreeStartLocation_();this.peekPattern_(this.peekType_())?(r=this.parseBindingPattern_(),n=null):(r=this.parseBindingIdentifier_(),n=this.parseTypeAnnotationOpt_());var i=null;return this.peek_(ae)?i=this.parseInitializer_(t):r.isPattern()&&o&&this.reportError_("destructuring must have an initializer"),new nn(this.getTreeLocation_(s),r,n,i)},parseInitializer_:function(e){return this.eat_(ae),this.parseAssignmentExpression(e)},parseInitializerOpt_:function(e){return this.eatIf_(ae)?this.parseAssignmentExpression(e):null},parseEmptyStatement_:function(){var e=this.getTreeStartLocation_();return this.eat_(Je),new Qt(this.getTreeLocation_(e))},parseFallThroughStatement_:function(){var e,t=this.getTreeStartLocation_();if(P.asyncFunctions&&this.peekPredefinedString_(y)&&this.peek_(ge,1)){var r=this.eatId_(),n=this.peekTokenNoLineTerminator_();if(null!==n)return this.parseAsyncFunctionDeclaration_(r);e=new mr(this.getTreeLocation_(t),r)}else e=this.parseExpression();if(e.type===l&&this.eatIf_(K)){var i=e.identifierToken,o=this.parseStatement_();return new wr(this.getTreeLocation_(t),i,o)}return this.eatPossibleImplicitSemiColon_(),new nr(this.getTreeLocation_(t),e)},parseIfStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(be),this.eat_(Fe);var t=this.parseExpression();this.eat_(Y);var r=this.parseStatement_(),n=null;return this.eatIf_(oe)&&(n=this.parseStatement_()),new gr(this.getTreeLocation_(e),t,r,n)},parseDoWhileStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(ne);var t=this.parseStatement_();this.eat_(vt),this.eat_(Fe);var r=this.parseExpression();return this.eat_(Y),this.eatPossibleImplicitSemiColon_(),new Kt(this.getTreeLocation_(e),t,r)},parseWhileStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(vt),this.eat_(Fe);var t=this.parseExpression();this.eat_(Y);var r=this.parseStatement_();return new an(this.getTreeLocation_(e),t,r)},parseForStatement_:function(){var t=this.getTreeStartLocation_();this.eat_(me),this.eat_(Fe);var r=this.peekType_();if(this.peekVariableDeclarationList_(r)){var n=this.parseVariableDeclarationList_(ln.NO_IN,hn.OPTIONAL),i=n.declarations;return i.length>1||e(i)?this.parseForStatement2_(t,n):(r=this.peekType_(),r===_e?this.parseForInStatement_(t,n):this.peekOf_(r)?this.parseForOfStatement_(t,n):(this.checkInitializers_(n),this.parseForStatement2_(t,n)))}if(r===Je)return this.parseForStatement2_(t,null);var o=this.coverInitializedNameCount_,s=this.parseExpressionAllowPattern_(ln.NO_IN);return r=this.peekType_(),s.isLeftHandSideExpression()&&(r===_e||this.peekOf_(r))?(s=this.transformLeftHandSideExpression_(s),this.peekOf_(r)?this.parseForOfStatement_(t,s):this.parseForInStatement_(t,s)):(this.ensureNoCoverInitializedNames_(s,o),this.parseForStatement2_(t,s))},peekOf_:function(e){return e===ve&&P.forOf&&this.peekToken_().value===w},parseForOfStatement_:function(e,t){this.eatId_();var r=this.parseExpression();this.eat_(Y);var n=this.parseStatement_();return new sr(this.getTreeLocation_(e),t,r,n)},checkInitializers_:function(e){if(P.blockBinding&&e.declarationType==J)for(var t=e.declarationType,r=0;r<e.declarations.length&&this.checkInitializer_(t,e.declarations[r]);r++);},checkInitializer_:function(e,t){return P.blockBinding&&e==J&&null==t.initializer?(this.reportError_("const variables must have an initializer"),!1):!0},peekVariableDeclarationList_:function(e){switch(e){case gt:return!0;case J:case Re:return P.blockBinding;default:return!1}},parseForStatement2_:function(e,t){this.eat_(Je);var r=null;this.peek_(Je)||(r=this.parseExpression()),this.eat_(Je);var n=null;this.peek_(Y)||(n=this.parseExpression()),this.eat_(Y);var i=this.parseStatement_();return new ar(this.getTreeLocation_(e),t,r,n,i)},parseForInStatement_:function(e,t){this.eat_(_e);var r=this.parseExpression();this.eat_(Y);var n=this.parseStatement_();return new or(this.getTreeLocation_(e),t,r,n)},parseContinueStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(Z);var t=null;return this.peekImplicitSemiColon_(this.peekType_())||(t=this.eatIdOpt_()),this.eatPossibleImplicitSemiColon_(),new zt(this.getTreeLocation_(e),t)},parseBreakStatement_:function(){var e=this.getTreeStartLocation_();this.eat_($);var t=null;return this.peekImplicitSemiColon_(this.peekType_())||(t=this.eatIdOpt_()),this.eatPossibleImplicitSemiColon_(),new It(this.getTreeLocation_(e),t)},parseReturnStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(Ke);var t=null;return this.peekImplicitSemiColon_(this.peekType_())||(t=this.parseExpression()),this.eatPossibleImplicitSemiColon_(),new Vr(this.getTreeLocation_(e),t)},parseYieldExpression_:function(){var e=this.getTreeStartLocation_();this.eat_(St);var t=null,r=!1;return this.peekImplicitSemiColon_(this.peekType_())||(r=this.eatIf_(tt),t=this.parseAssignmentExpression()),new un(this.getTreeLocation_(e),t,r)},parseWithStatement_:function(){this.strictMode_&&this.reportError_("Strict mode code may not include a with statement");var e=this.getTreeStartLocation_();this.eat_(bt),this.eat_(Fe);var t=this.parseExpression();this.eat_(Y);var r=this.parseStatement_();return new cn(this.getTreeLocation_(e),t,r)},parseSwitchStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(st),this.eat_(Fe);var t=this.parseExpression();this.eat_(Y),this.eat_(Me);var r=this.parseCaseClauses_();return this.eat_(q),new qr(this.getTreeLocation_(e),t,r)},parseCaseClauses_:function(){for(var e=!1,t=[];;){var r=this.getTreeStartLocation_();switch(this.peekType_()){case U:this.nextToken_();var n=this.parseExpression();this.eat_(K);var i=this.parseCaseStatementsOpt_();t.push(new Nt(this.getTreeLocation_(r),n,i));break;case te:e?this.reportError_("Switch statements may have at most one default clause"):e=!0,this.nextToken_(),this.eat_(K),t.push(new Xt(this.getTreeLocation_(r),this.parseCaseStatementsOpt_()));break;default:return t}}},parseCaseStatementsOpt_:function(){for(var e,t=[];;){switch(e=this.peekType_()){case U:case te:case q:case se:return t}t.push(this.parseStatementWithType_(e))}},parseThrowStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(lt);var t=null;return this.peekImplicitSemiColon_(this.peekType_())||(t=this.parseExpression()),this.eatPossibleImplicitSemiColon_(),new Zr(this.getTreeLocation_(e),t)},parseTryStatement_:function(){var e=this.getTreeStartLocation_();this.eat_(ft);var t=this.parseBlock_(),r=null;this.peek_(z)&&(r=this.parseCatch_());var n=null;return this.peek_(de)&&(n=this.parseFinallyBlock_()),null==r&&null==n&&this.reportError_("'catch' or 'finally' expected."),new en(this.getTreeLocation_(e),t,r,n)},parseCatch_:function(){var e,t=this.getTreeStartLocation_();this.eat_(z),this.eat_(Fe);var r;r=this.peekPattern_(this.peekType_())?this.parseBindingPattern_():this.parseBindingIdentifier_(),this.eat_(Y);var n=this.parseBlock_();return e=new Dt(this.getTreeLocation_(t),r,n)},parseFinallyBlock_:function(){var e=this.getTreeStartLocation_();this.eat_(de);var t=this.parseBlock_();return new ir(this.getTreeLocation_(e),t)},parseDebuggerStatement_:function(){var e=this.getTreeStartLocation_();return this.eat_(ee),this.eatPossibleImplicitSemiColon_(),new qt(this.getTreeLocation_(e))},parsePrimaryExpression_:function(){switch(this.peekType_()){case W:return P.classes?this.parseClassExpression_():this.parseSyntaxError_("Unexpected reserved word");case ut:return this.parseThisExpression_();case ve:var e=this.parseIdentifierExpression_();if(P.asyncFunctions&&e.identifierToken.value===y){var t=this.peekTokenNoLineTerminator_();if(t&&t.type===ge){var r=e.identifierToken;return this.parseAsyncFunctionExpression_(r)}}return e;case Ne:case it:case pt:case fe:case Le:return this.parseLiteralExpression_();case Be:return this.parseArrayLiteral_();case Me:return this.parseObjectLiteral_();case Fe:return this.parsePrimaryExpressionStartingWithParen_();case Ze:case et:return this.parseRegularExpressionLiteral_();case ke:case at:return this.parseTemplateLiteral_(null);case Se:case Ee:case $e:case Ge:case qe:case Ye:case nt:case St:if(!this.strictMode_)return this.parseIdentifierExpression_();this.reportReservedIdentifier_(this.nextToken_());case se:return this.parseSyntaxError_("Unexpected end of input");default:return this.parseUnexpectedToken_(this.peekToken_())}},parseSuperExpression_:function(){var e=this.getTreeStartLocation_();return this.eat_(ot),new Gr(this.getTreeLocation_(e))},parseThisExpression_:function(){var e=this.getTreeStartLocation_();return this.eat_(ut),new Jr(this.getTreeLocation_(e))},peekBindingIdentifier_:function(e){return this.peekId_(e)},parseBindingIdentifier_:function(){var e=this.getTreeStartLocation_(),t=this.eatId_();return new kt(this.getTreeLocation_(e),t)},parseIdentifierExpression_:function(){var e=this.getTreeStartLocation_(),t=this.eatId_();return new mr(this.getTreeLocation_(e),t)},parseIdentifierNameExpression_:function(){var e=this.getTreeStartLocation_(),t=this.eatIdName_();return new mr(this.getTreeLocation_(e),t)},parseLiteralExpression_:function(){var e=this.getTreeStartLocation_(),t=this.nextLiteralToken_();return new _r(this.getTreeLocation_(e),t)},nextLiteralToken_:function(){return this.nextToken_()},parseRegularExpressionLiteral_:function(){var e=this.getTreeStartLocation_(),t=this.nextRegularExpressionLiteralToken_();return new _r(this.getTreeLocation_(e),t)},peekSpread_:function(e){return e===ie&&P.spread},parseArrayLiteral_:function(){var e,t=this.getTreeStartLocation_(),r=[];this.eat_(Be);var n=this.peekType_();if(n===me&&P.arrayComprehension)return this.parseArrayComprehension_(t);for(;;){if(n=this.peekType_(),n===Q)e=null;else if(this.peekSpread_(n))e=this.parseSpreadExpression_();else{if(!this.peekAssignmentExpression_(n))break;e=this.parseAssignmentExpression()}r.push(e),n=this.peekType_(),n!==X&&this.eat_(Q)}return this.eat_(X),new Et(this.getTreeLocation_(t),r)},parseArrayComprehension_:function(e){var t=this.parseComprehensionList_(),r=this.parseAssignmentExpression();return this.eat_(X),new Tt(this.getTreeLocation_(e),t,r)},parseComprehensionList_:function(){for(var e=[this.parseComprehensionFor_()];;){var t=this.peekType_();switch(t){case me:e.push(this.parseComprehensionFor_());break;case be:e.push(this.parseComprehensionIf_());break;default:return e}}},parseComprehensionFor_:function(){var e=this.getTreeStartLocation_();this.eat_(me),this.eat_(Fe);var t=this.parseForBinding_();this.eatId_(w);var r=this.parseExpression();return this.eat_(Y),new Ht(this.getTreeLocation_(e),t,r)},parseComprehensionIf_:function(){var e=this.getTreeStartLocation_();this.eat_(be),this.eat_(Fe);var t=this.parseExpression();return this.eat_(Y),new $t(this.getTreeLocation_(e),t)},parseObjectLiteral_:function(){var e=this.getTreeStartLocation_(),t=[];for(this.eat_(Me);this.peekPropertyDefinition_(this.peekType_());){var r=this.parsePropertyDefinition();if(t.push(r),!this.eatIf_(Q))break}return this.eat_(q),new kr(this.getTreeLocation_(e),t)},parsePropertyDefinition:function(){var e=this.getTreeStartLocation_(),t=null,n=!1;if(P.generators&&P.propertyMethods&&this.peek_(tt))return this.parseGeneratorMethod_(e,n,[]);var i=this.peekToken_(),o=this.parsePropertyName_();if(P.propertyMethods&&this.peek_(Fe))return this.parseMethod_(e,n,t,o,[]);if(this.eatIf_(K)){var s=this.parseAssignmentExpression();return new Br(this.getTreeLocation_(e),o,s)}var c=this.peekType_();if(o.type===h){var u=o.literalToken;if(u.value===S&&this.peekPropertyName_(c))return this.parseGetAccessor_(e,n,[]);if(u.value===_&&this.peekPropertyName_(c))return this.parseSetAccessor_(e,n,[]);if(P.asyncFunctions&&u.value===y&&this.peekPropertyName_(c)){var l=u,o=this.parsePropertyName_();return this.parseMethod_(e,n,l,o,[])}if(P.propertyNameShorthand&&u.type===ve||!this.strictMode_&&u.type===St){if(this.peek_(ae)){i=this.nextToken_();var p=this.coverInitializedNameCount_,f=this.parseAssignmentExpression();return this.ensureNoCoverInitializedNames_(f,p),this.coverInitializedNameCount_++,new Gt(this.getTreeLocation_(e),u,i,f)}return u.type===St&&(u=new r(u.location,St)),new Hr(this.getTreeLocation_(e),u)}this.strictMode_&&u.isStrictKeyword()&&this.reportReservedIdentifier_(u)}return o.type===a&&(i=this.peekToken_()),this.parseUnexpectedToken_(i)},parseClassElement_:function(){var e=this.getTreeStartLocation_(),t=this.parseAnnotations_(),r=this.peekType_(),n=!1,i=null;switch(r){case nt:var o=this.nextToken_();switch(r=this.peekType_()){case Fe:var s=new Tr(e,o);return this.parseMethod_(e,n,i,s,t);default:return n=!0,r===tt&&P.generators?this.parseGeneratorMethod_(e,!0,t):this.parseGetSetOrMethod_(e,n,t)}break;case tt:return this.parseGeneratorMethod_(e,n,t);default:return this.parseGetSetOrMethod_(e,n,t)}},parseGeneratorMethod_:function(e,t,r){var n=this.eat_(tt),i=this.parsePropertyName_();return this.parseMethod_(e,t,n,i,r)},parseMethod_:function(e,t,r,n,i){this.eat_(Fe);var o=this.parseFormalParameters_();this.eat_(Y);var s=this.parseTypeAnnotationOpt_(),a=this.parseFunctionBody_(r,o);return new Fr(this.getTreeLocation_(e),t,r,n,o,s,i,a)},parseGetSetOrMethod_:function(e,t,r){var n=null,i=this.parsePropertyName_(),o=this.peekType_();if(i.type===h&&i.literalToken.value===S&&this.peekPropertyName_(o))return this.parseGetAccessor_(e,t,r);if(i.type===h&&i.literalToken.value===_&&this.peekPropertyName_(o))return this.parseSetAccessor_(e,t,r);if(P.asyncFunctions&&i.type===h&&i.literalToken.value===y&&this.peekPropertyName_(o)){var s=i.literalToken,i=this.parsePropertyName_();return this.parseMethod_(e,t,s,i,r)}return this.parseMethod_(e,t,n,i,r)},parseGetAccessor_:function(e,t,r){var n=null,i=this.parsePropertyName_();this.eat_(Fe),this.eat_(Y);var o=this.parseTypeAnnotationOpt_(),s=this.parseFunctionBody_(n,null);return new dr(this.getTreeLocation_(e),t,i,o,r,s)},parseSetAccessor_:function(e,t,r){var n=null,i=this.parsePropertyName_();this.eat_(Fe);var o=this.parsePropertySetParameterList_();this.eat_(Y);var s=this.parseFunctionBody_(n,o);return new Ur(this.getTreeLocation_(e),t,i,o,r,s)},peekPropertyDefinition_:function(e){return this.peekPropertyName_(e)||e==tt&&P.propertyMethods&&P.generators},peekPropertyName_:function(e){switch(e){case ve:case it:case Ne:return!0;case Be:return P.computedPropertyNames;default:return this.peekToken_().isKeyword()}},peekPredefinedString_:function(e){var t=this.peekToken_();return t.type===ve&&t.value===e},parsePropertySetParameterList_:function(){var e,t=this.getTreeStartLocation_();this.pushAnnotations_(),e=this.peekPattern_(this.peekType_())?this.parseBindingPattern_():this.parseBindingIdentifier_();var r=this.parseTypeAnnotationOpt_(),n=new cr(this.getTreeLocation_(t),new jt(this.getTreeLocation_(t),e,null),r,this.popAnnotations_());return new ur(n.location,[n])},parsePrimaryExpressionStartingWithParen_:function(){var e=this.getTreeStartLocation_();return this.eat_(Fe),this.peek_(me)&&P.generatorComprehension?this.parseGeneratorComprehension_(e):this.parseCoverFormals_(e)},parseSyntaxError_:function(e){var t=this.getTreeStartLocation_();this.reportError_(e);var r=this.nextToken_();return new Yr(this.getTreeLocation_(t),r,e)},parseUnexpectedToken_:function(e){return this.parseSyntaxError_("Unexpected token "+e)},peekExpression_:function(e){switch(e){case ke:case at:return P.templateLiterals;case B:case W:case re:case fe:case ge:case ve:case Ae:case Oe:case je:case Le:case Ne:case Me:case Fe:case Be:case ze:case We:case Ze:case et:case it:case ot:case ut:case ht:case pt:case dt:case yt:case St:return!0;default:return!1}},parseExpression:function(){var e=void 0!==arguments[0]?arguments[0]:ln.IN,t=this.coverInitializedNameCount_,r=this.parseExpressionAllowPattern_(e);return this.ensureNoCoverInitializedNames_(r,t),r},parseExpressionAllowPattern_:function(e){var t=this.getTreeStartLocation_(),r=this.parseAssignmentExpression(e);if(this.peek_(Q)){for(var n=[r];this.eatIf_(Q);)n.push(this.parseAssignmentExpression(e));return new Bt(this.getTreeLocation_(t),n)}return r},peekAssignmentExpression_:function(e){return this.peekExpression_(e)},parseAssignmentExpression:function(){var e=void 0!==arguments[0]?arguments[0]:ln.NORMAL;if(this.allowYield&&this.peek_(St))return this.parseYieldExpression_();var t=this.getTreeStartLocation_(),r=!1;if(I.asyncFunctions&&this.peekPredefinedString_(y)){var n=this.peekToken_(),i=this.peekToken_(1);r=i.type===Fe&&n.location.end.line===i.location.start.line}var o=this.parseConditional_(e),a=this.peekType_();if(I.asyncFunctions&&o.type===l&&o.identifierToken.value===y&&a===ve&&null!==this.peekTokenNoLineTerminator_()){var u=this.parseBindingIdentifier_(),n=o.IdentifierToken;return this.parseArrowFunction_(t,u,n)}if(a===M){if(o.type===c||o.type===l)return this.parseArrowFunction_(t,o,null);if(r&&o.type===s){var h=this.peekTokenNoLineTerminator_();if(null!==h){var n=o.operand.identifierToken;return this.parseArrowFunction_(t,o.args,n)}}}if(o=this.coverFormalsToParenExpression_(o),this.peekAssignmentOperator_(a)){a===ae&&(o=this.transformLeftHandSideExpression_(o)),o.isLeftHandSideExpression()||o.isPattern()||this.reportError_("Left hand side of assignment must be new, call, member, function, primary expressions or destructuring pattern");var p=this.nextToken_(),f=this.parseAssignmentExpression(e);return new Ot(this.getTreeLocation_(t),o,p,f)}return o},transformLeftHandSideExpression_:function(e){switch(e.type){case i:case p:return this.scanner_.index=e.location.start.offset,this.parseAssignmentPattern_()}return e},peekAssignmentOperator_:function(e){return O(e)},parseConditional_:function(e){var t=this.getTreeStartLocation_(),r=this.parseLogicalOR_(e);if(this.eatIf_(Xe)){r=this.toPrimaryExpression_(r);var n=this.parseAssignmentExpression();this.eat_(K);var i=this.parseAssignmentExpression(e);return new Ut(this.getTreeLocation_(t),r,n,i)}return r},newBinaryExpression_:function(e,t,r,n){return t=this.toPrimaryExpression_(t),n=this.toPrimaryExpression_(n),new Ot(this.getTreeLocation_(e),t,r,n)},parseLogicalOR_:function(e){for(var t,r=this.getTreeStartLocation_(),n=this.parseLogicalAND_(e);t=this.eatOpt_(He);){var i=this.parseLogicalAND_(e);n=this.newBinaryExpression_(r,n,t,i)}return n},parseLogicalAND_:function(e){for(var t,r=this.getTreeStartLocation_(),n=this.parseBitwiseOR_(e);t=this.eatOpt_(D);){var i=this.parseBitwiseOR_(e);n=this.newBinaryExpression_(r,n,t,i)}return n},parseBitwiseOR_:function(e){for(var t,r=this.getTreeStartLocation_(),n=this.parseBitwiseXOR_(e);t=this.eatOpt_(H);){var i=this.parseBitwiseXOR_(e);n=this.newBinaryExpression_(r,n,t,i)}return n},parseBitwiseXOR_:function(e){for(var t,r=this.getTreeStartLocation_(),n=this.parseBitwiseAND_(e);t=this.eatOpt_(V);){var i=this.parseBitwiseAND_(e);n=this.newBinaryExpression_(r,n,t,i)}return n},parseBitwiseAND_:function(e){for(var t,r=this.getTreeStartLocation_(),n=this.parseEquality_(e);t=this.eatOpt_(N);){var i=this.parseEquality_(e);n=this.newBinaryExpression_(r,n,t,i)}return n},parseEquality_:function(e){for(var t=this.getTreeStartLocation_(),r=this.parseRelational_(e);this.peekEqualityOperator_(this.peekType_());){var n=this.nextToken_(),i=this.parseRelational_(e);r=this.newBinaryExpression_(t,r,n,i)}return r},peekEqualityOperator_:function(e){switch(e){case ce:case Pe:case ue:case Ie:return!0}return!1},parseRelational_:function(e){for(var t=this.getTreeStartLocation_(),r=this.parseShiftExpression_();this.peekRelationalOperator_(e);){var n=this.nextToken_(),i=this.parseShiftExpression_();r=this.newBinaryExpression_(t,r,n,i)}return r},peekRelationalOperator_:function(e){switch(this.peekType_()){case De:case G:case ye:case xe:case Te:return!0;case _e:return e==ln.NORMAL;default:return!1}},parseShiftExpression_:function(){for(var e=this.getTreeStartLocation_(),t=this.parseAdditiveExpression_();this.peekShiftOperator_(this.peekType_());){var r=this.nextToken_(),n=this.parseAdditiveExpression_();t=this.newBinaryExpression_(e,t,r,n)}return t},peekShiftOperator_:function(e){switch(e){case Ce:case Qe:case mt:return!0;default:return!1}},parseAdditiveExpression_:function(){for(var e=this.getTreeStartLocation_(),t=this.parseMultiplicativeExpression_();this.peekAdditiveOperator_(this.peekType_());){var r=this.nextToken_(),n=this.parseMultiplicativeExpression_();t=this.newBinaryExpression_(e,t,r,n)}return t},peekAdditiveOperator_:function(e){
switch(e){case ze:case Ae:return!0;default:return!1}},parseMultiplicativeExpression_:function(){for(var e=this.getTreeStartLocation_(),t=this.parseExponentiationExpression_();this.peekMultiplicativeOperator_(this.peekType_());){var r=this.nextToken_(),n=this.parseExponentiationExpression_();t=this.newBinaryExpression_(e,t,r,n)}return t},parseExponentiationExpression_:function(){for(var e=this.getTreeStartLocation_(),t=this.parseUnaryExpression_();this.peekExponentiationExpression_(this.peekType_());){var r=this.nextToken_(),n=this.parseExponentiationExpression_();t=this.newBinaryExpression_(e,t,r,n)}return t},peekMultiplicativeOperator_:function(e){switch(e){case tt:case Ze:case Ve:return!0;default:return!1}},peekExponentiationExpression_:function(e){return e===rt},parseUnaryExpression_:function(){var e=this.getTreeStartLocation_();if(this.allowAwait&&this.peekPredefinedString_(v)){this.eatId_();var t=this.parseUnaryExpression_();return t=this.toPrimaryExpression_(t),new At(this.getTreeLocation_(e),t)}if(this.peekUnaryOperator_(this.peekType_())){var r=this.nextToken_(),t=this.parseUnaryExpression_();return t=this.toPrimaryExpression_(t),new rn(this.getTreeLocation_(e),r,t)}return this.parsePostfixExpression_()},peekUnaryOperator_:function(e){switch(e){case re:case yt:case dt:case We:case Oe:case ze:case Ae:case ht:case B:return!0;default:return!1}},parsePostfixExpression_:function(){for(var e=this.getTreeStartLocation_(),t=this.parseLeftHandSideExpression_();this.peekPostfixOperator_(this.peekType_());){t=this.toPrimaryExpression_(t);var r=this.nextToken_();t=new Nr(this.getTreeLocation_(e),t,r)}return t},peekPostfixOperator_:function(e){switch(e){case We:case Oe:var t=this.peekTokenNoLineTerminator_();return null!==t}return!1},parseLeftHandSideExpression_:function(){var e=this.getTreeStartLocation_(),t=this.parseNewExpression_();if(!(t instanceof jr)||null!=t.args)e:for(;;)switch(this.peekType_()){case Fe:t=this.toPrimaryExpression_(t),t=this.parseCallExpression_(e,t);break;case Be:t=this.toPrimaryExpression_(t),t=this.parseMemberLookupExpression_(e,t);break;case Ue:t=this.toPrimaryExpression_(t),t=this.parseMemberExpression_(e,t);break;case ke:case at:if(!P.templateLiterals)break e;t=this.toPrimaryExpression_(t),t=this.parseTemplateLiteral_(t);break;default:break e}return t},parseMemberExpressionNoNew_:function(){var e,t=this.getTreeStartLocation_();e=this.peekType_()===ge?this.parseFunctionExpression_():this.parsePrimaryExpression_();e:for(;;)switch(this.peekType_()){case Be:e=this.toPrimaryExpression_(e),e=this.parseMemberLookupExpression_(t,e);break;case Ue:e=this.toPrimaryExpression_(e),e=this.parseMemberExpression_(t,e);break;case ke:case at:if(!P.templateLiterals)break e;e=this.toPrimaryExpression_(e),e=this.parseTemplateLiteral_(e);break;default:break e}return e},parseMemberExpression_:function(e,t){this.nextToken_();var r=this.eatIdName_();return new Er(this.getTreeLocation_(e),t,r)},parseMemberLookupExpression_:function(e,t){this.nextToken_();var r=this.parseExpression();return this.eat_(X),new Cr(this.getTreeLocation_(e),t,r)},parseCallExpression_:function(e,t){var r=this.parseArguments_();return new Lt(this.getTreeLocation_(e),t,r)},parseNewExpression_:function(){var e;switch(this.peekType_()){case je:var t=this.getTreeStartLocation_();this.eat_(je),e=this.peek_(ot)?this.parseSuperExpression_():this.toPrimaryExpression_(this.parseNewExpression_());var r=null;return this.peek_(Fe)&&(r=this.parseArguments_()),new jr(this.getTreeLocation_(t),e,r);case ot:e=this.parseSuperExpression_();var n=this.peekType_();switch(n){case Be:return this.parseMemberLookupExpression_(t,e);case Ue:return this.parseMemberExpression_(t,e);case Fe:return this.parseCallExpression_(t,e);default:return this.parseUnexpectedToken_(n)}break;default:return this.parseMemberExpressionNoNew_()}},parseArguments_:function(){var e=this.getTreeStartLocation_(),t=[];if(this.eat_(Fe),!this.peek_(Y))for(t.push(this.parseArgument_());this.eatIf_(Q);)t.push(this.parseArgument_());return this.eat_(Y),new _t(this.getTreeLocation_(e),t)},parseArgument_:function(){return this.peekSpread_(this.peekType_())?this.parseSpreadExpression_():this.parseAssignmentExpression()},parseArrowFunction_:function(e,t,r){var n;switch(t.type){case l:t=new kt(t.location,t.identifierToken);case o:n=new ur(this.getTreeLocation_(e),[new cr(t.location,new jt(t.location,t,null),null,[])]);break;case u:n=t;break;default:n=this.toFormalParameters_(e,t,r)}this.eat_(M);var i=this.parseConciseBody_(r);return new xt(this.getTreeLocation_(e),r,n,i)},parseCoverFormals_:function(e){var t=[];if(!this.peek_(Y))do{var r=this.peekType_();if(this.peekRest_(r)){t.push(this.parseRestParameter_());break}t.push(this.parseAssignmentExpression()),!this.eatIf_(Q)}while(!this.peek_(Y)&&!this.isAtEnd());return this.eat_(Y),new Wt(this.getTreeLocation_(e),t)},ensureNoCoverInitializedNames_:function(e,t){if(t!==this.coverInitializedNameCount_){var r=new fn(e);if(r.found){var n=r.errorToken;this.reportError_(n.location,"Unexpected token "+n)}}},toPrimaryExpression_:function(e){return e.type===c?this.coverFormalsToParenExpression_(e):e},validateCoverFormalsAsParenExpression_:function(e){for(var t=0;t<e.expressions.length;t++)if(e.expressions[t].type===f){var r=new A(ie,e.expressions[t].location);return void this.reportError_(r.location,"Unexpected token "+r)}},coverFormalsToParenExpression_:function(e){if(e.type===c){var t=e.expressions;if(0!==t.length){this.validateCoverFormalsAsParenExpression_(e);var r;return r=t.length>1?new Bt(t[0].location,t):t[0],new Lr(e.location,r)}var n="Unexpected token )";this.reportError_(e.location,n)}return e},toFormalParameters_:function(e,t,r){return this.scanner_.index=e.offset,this.parseArrowFormalParameters_(r)},parseArrowFormalParameters_:function(e){e&&this.eat_(ve),this.eat_(Fe);var t=this.parseFormalParameters_();return this.eat_(Y),t},peekArrow_:function(e){return e===M&&P.arrowFunctions},parseConciseBody_:function(e){if(this.peek_(Me))return this.parseFunctionBody_(e);var t=this.allowAwait;this.allowAwait=null!==e;var r=this.parseAssignmentExpression();return this.allowAwait=t,r},parseGeneratorComprehension_:function(e){var t=this.parseComprehensionList_(),r=this.parseAssignmentExpression();return this.eat_(Y),new fr(this.getTreeLocation_(e),t,r)},parseForBinding_:function(){return this.peekPattern_(this.peekType_())?this.parseBindingPattern_():this.parseBindingIdentifier_()},peekPattern_:function(e){return P.destructuring&&(this.peekObjectPattern_(e)||this.peekArrayPattern_(e))},peekArrayPattern_:function(e){return e===Be},peekObjectPattern_:function(e){return e===Me},parseBindingPattern_:function(){return this.parsePattern_(!0)},parsePattern_:function(e){return this.peekArrayPattern_(this.peekType_())?this.parseArrayPattern_(e):this.parseObjectPattern_(e)},parseArrayBindingPattern_:function(){return this.parseArrayPattern_(!0)},parsePatternElement_:function(e){return e?this.parseBindingElement_():this.parseAssignmentElement_()},parsePatternRestElement_:function(e){return e?this.parseBindingRestElement_():this.parseAssignmentRestElement_()},parseArrayPattern_:function(e){var t=this.getTreeStartLocation_(),r=[];this.eat_(Be);for(var n;(n=this.peekType_())!==X&&n!==se;){if(this.parseElisionOpt_(r),this.peekRest_(this.peekType_())){r.push(this.parsePatternRestElement_(e));break}r.push(this.parsePatternElement_(e)),this.peek_(Q)&&!this.peek_(X,1)&&this.nextToken_()}return this.eat_(X),new Ct(this.getTreeLocation_(t),r)},parseBindingElementList_:function(e){for(this.parseElisionOpt_(e),e.push(this.parseBindingElement_());this.eatIf_(Q);)this.parseElisionOpt_(e),e.push(this.parseBindingElement_())},parseElisionOpt_:function(e){for(;this.eatIf_(Q);)e.push(null)},peekBindingElement_:function(e){return this.peekBindingIdentifier_(e)||this.peekPattern_(e)},parseBindingElement_:function(){var e=void 0!==arguments[0]?arguments[0]:pn.OPTIONAL,t=this.getTreeStartLocation_(),r=this.parseBindingElementBinding_(),e=this.parseBindingElementInitializer_(e);return new jt(this.getTreeLocation_(t),r,e)},parseBindingElementBinding_:function(){return this.peekPattern_(this.peekType_())?this.parseBindingPattern_():this.parseBindingIdentifier_()},parseBindingElementInitializer_:function(){var e=void 0!==arguments[0]?arguments[0]:pn.OPTIONAL;return this.peek_(ae)||e===pn.REQUIRED?this.parseInitializer_():null},parseBindingRestElement_:function(){var e=this.getTreeStartLocation_();this.eat_(ie);var t=this.parseBindingIdentifier_();return new Wr(this.getTreeLocation_(e),t)},parseObjectPattern_:function(e){var t=this.getTreeStartLocation_(),r=[];this.eat_(Me);for(var n;(n=this.peekType_())!==q&&n!==se&&(r.push(this.parsePatternProperty_(e)),this.eatIf_(Q)););return this.eat_(q),new Pr(this.getTreeLocation_(t),r)},parsePatternProperty_:function(e){var t=this.getTreeStartLocation_(),r=this.parsePropertyName_(),n=r.type!==h||!r.literalToken.isStrictKeyword()&&r.literalToken.type!==ve;if(n||this.peek_(K)){this.eat_(K);var i=this.parsePatternElement_(e);return new Ir(this.getTreeLocation_(t),r,i)}var o=r.literalToken;if(this.strictMode_&&o.isStrictKeyword()&&this.reportReservedIdentifier_(o),e){var s=new kt(r.location,o),a=this.parseInitializerOpt_(ln.NORMAL);return new jt(this.getTreeLocation_(t),s,a)}var c=new mr(r.location,o),a=this.parseInitializerOpt_(ln.NORMAL);return new Rt(this.getTreeLocation_(t),c,a)},parseAssignmentPattern_:function(){return this.parsePattern_(!1)},parseArrayAssignmentPattern_:function(){return this.parseArrayPattern_(!1)},parseAssignmentElement_:function(){var e=this.getTreeStartLocation_(),t=this.parseDestructuringAssignmentTarget_(),r=this.parseInitializerOpt_(ln.NORMAL);return new Rt(this.getTreeLocation_(e),t,r)},parseDestructuringAssignmentTarget_:function(){switch(this.peekType_()){case Be:return this.parseArrayAssignmentPattern_();case Me:return this.parseObjectAssignmentPattern_()}var e=this.parseLeftHandSideExpression_();return this.coverFormalsToParenExpression_(e)},parseAssignmentRestElement_:function(){var e=this.getTreeStartLocation_();this.eat_(ie);var t=this.parseDestructuringAssignmentTarget_();return new Wr(this.getTreeLocation_(e),t)},parseObjectAssignmentPattern_:function(){return this.parseObjectPattern_(!1)},parseAssignmentProperty_:function(){return this.parsePatternProperty_(!1)},parseTemplateLiteral_:function(e){if(!P.templateLiterals)return this.parseUnexpectedToken_("`");var t=e?e.location.start:this.getTreeStartLocation_(),r=this.nextToken_(),n=[new Kr(r.location,r)];if(r.type===ke)return new Xr(this.getTreeLocation_(t),e,n);var i=this.parseExpression();for(n.push(new Qr(i.location,i));i.type!==d&&(r=this.nextTemplateLiteralToken_(),r.type!==le&&r.type!==se)&&(n.push(new Kr(r.location,r)),r.type!==ct);)i=this.parseExpression(),n.push(new Qr(i.location,i));return new Xr(this.getTreeLocation_(t),e,n)},parseTypeAnnotationOpt_:function(){return P.types&&this.eatOpt_(K)?this.parseType_():null},parseType_:function(){var e,t=this.getTreeStartLocation_();switch(this.peekType_()){case ve:e=this.parseNamedOrPredefinedType_();break;case je:e=this.parseConstructorType_();break;case Me:e=this.parseObjectType_();break;case Fe:e=this.parseFunctionType_();break;case yt:var r=this.nextToken_();return new Dr(this.getTreeLocation_(t),r);default:return this.parseUnexpectedToken_(this.peekToken_())}return this.parseArrayTypeSuffix_(t,e)},parseArrayTypeSuffix_:function(e,t){return t},parseConstructorType_:function(){throw"NYI"},parseObjectType_:function(){throw"NYI"},parseFunctionType_:function(){throw"NYI"},parseNamedOrPredefinedType_:function(){var e=this.getTreeStartLocation_();switch(this.peekToken_().value){case"any":case"number":case"boolean":case"string":var t=this.nextToken_();return new Dr(this.getTreeLocation_(e),t);default:return this.parseTypeName_()}},parseTypeName_:function(){for(var e=this.getTreeStartLocation_(),t=new tn(this.getTreeLocation_(e),null,this.eatId_());this.eatIf_(Ue);){var r=this.eatIdName_();t=new tn(this.getTreeLocation_(e),t,r)}return t},parseAnnotatedDeclarations_:function(e){this.pushAnnotations_();var t,r=this.peekType_();return t=e?this.parseModuleItem_(r):this.parseStatementListItem_(r),this.annotations_.length>0?this.parseSyntaxError_("Unsupported annotated expression"):t},parseAnnotations_:function(){for(var e=[];this.eatIf_(F);)e.push(this.parseAnnotation_());return e},pushAnnotations_:function(){this.annotations_=this.parseAnnotations_()},popAnnotations_:function(){var e=this.annotations_;return this.annotations_=[],e},parseAnnotation_:function(){var e=this.getTreeStartLocation_(),t=this.parseMemberExpressionNoNew_(),r=null;return this.peek_(Fe)&&(r=this.parseArguments_()),new Yt(this.getTreeLocation_(e),t,r)},eatPossibleImplicitSemiColon_:function(){var e=this.peekTokenNoLineTerminator_();if(e){switch(e.type){case Je:return void this.nextToken_();case se:case q:return}this.reportError_("Semi-colon expected")}},peekImplicitSemiColon_:function(){switch(this.peekType_()){case Je:case q:case se:return!0}var e=this.peekTokenNoLineTerminator_();return null===e},eatOpt_:function(e){return this.peek_(e)?this.nextToken_():null},eatIdOpt_:function(){return this.peek_(ve)?this.eatId_():null},eatId_:function(){var e=arguments[0],t=this.nextToken_();if(!t)return e&&this.reportError_(this.peekToken_(),"expected '"+e+"'"),null;if(t.type===ve)return e&&t.value!==e&&this.reportExpectedError_(t,e),t;if(t.isStrictKeyword()){if(!this.strictMode_)return new r(t.location,t.type);this.reportReservedIdentifier_(t)}else this.reportExpectedError_(t,e||"identifier");return t},eatIdName_:function(){var e=this.nextToken_();return e.type!=ve?e.isKeyword()?new r(e.location,e.type):(this.reportExpectedError_(e,"identifier"),null):e},eat_:function(e){var t=this.nextToken_();return t.type!=e?(this.reportExpectedError_(t,e),null):t},eatIf_:function(e){return this.peek_(e)?(this.nextToken_(),!0):!1},reportExpectedError_:function(e,t){this.reportError_(e,"Unexpected token "+e)},getTreeStartLocation_:function(){return this.peekToken_().location.start},getTreeEndLocation_:function(){return this.scanner_.lastToken.location.end},getTreeLocation_:function(e){return new C(e,this.getTreeEndLocation_())},handleComment:function(e){},nextToken_:function(){return this.scanner_.nextToken()},nextRegularExpressionLiteralToken_:function(){return this.scanner_.nextRegularExpressionLiteralToken()},nextTemplateLiteralToken_:function(){return this.scanner_.nextTemplateLiteralToken()},isAtEnd:function(){return this.scanner_.isAtEnd()},peek_:function(e,t){return this.peekToken_(t).type===e},peekType_:function(){return this.peekToken_().type},peekToken_:function(e){return this.scanner_.peekToken(e)},peekTokenNoLineTerminator_:function(){return this.scanner_.peekTokenNoLineTerminator()},reportError_:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1==e.length)this.errorReporter_.reportError(this.scanner_.getPosition(),e[0]);else{var r=e[0];r instanceof A&&(r=r.location),this.errorReporter_.reportError(r.start,e[1])}},reportReservedIdentifier_:function(e){this.reportError_(e,e.type+" is a reserved identifier")}},{}),{get Parser(){return mn}}}),System.register("traceur@0.0.72/src/util/SourcePosition",[],function(){"use strict";var e=function(e,t){this.source=e,this.offset=t,this.line_=-1,this.column_=-1};return $traceurRuntime.createClass(e,{get line(){return-1===this.line_&&(this.line_=this.source.lineNumberTable.getLine(this.offset)),this.line_},get column(){return-1===this.column_&&(this.column_=this.source.lineNumberTable.getColumn(this.offset)),this.column_},toString:function(){var e=this.source?this.source.name:"";return e+":"+(this.line+1)+":"+(this.column+1)}},{}),{get SourcePosition(){return e}}}),System.register("traceur@0.0.72/src/syntax/LineNumberTable",[],function(){"use strict";function e(e){for(var t=[0],r=1,o=0;o<e.length;o++){var s=e.charCodeAt(o);n(s)&&(13===s&&10===e.charCodeAt(o+1)&&o++,t[r++]=o+1)}return t[r++]=i,t}var t=System.get("traceur@0.0.72/src/util/SourcePosition").SourcePosition,r=System.get("traceur@0.0.72/src/util/SourceRange").SourceRange,n=System.get("traceur@0.0.72/src/syntax/Scanner").isLineTerminator,i=9007199254740992,o=function(e){this.sourceFile_=e,this.lineStartOffsets_=null,this.lastLine_=0,this.lastOffset_=-1};return $traceurRuntime.createClass(o,{ensureLineStartOffsets_:function(){this.lineStartOffsets_||(this.lineStartOffsets_=e(this.sourceFile_.contents))},getSourcePosition:function(e){return new t(this.sourceFile_,e)},getLine:function(e){if(e===this.lastOffset_)return this.lastLine_;if(this.ensureLineStartOffsets_(),0>e)return 0;var t;if(e<this.lastOffset_){for(var r=this.lastLine_;r>=0;r--)if(this.lineStartOffsets_[r]<=e){t=r;break}}else for(var r=this.lastLine_;!0;r++)if(this.lineStartOffsets_[r]>e){t=r-1;break}return this.lastLine_=t,this.lastOffset_=e,t},offsetOfLine:function(e){return this.ensureLineStartOffsets_(),this.lineStartOffsets_[e]},getColumn:function(e){var t=this.getLine(e);return e-this.lineStartOffsets_[t]},getSourceRange:function(e,t){return new r(this.getSourcePosition(e),this.getSourcePosition(t))}},{}),{get LineNumberTable(){return o}}}),System.register("traceur@0.0.72/src/syntax/SourceFile",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/LineNumberTable").LineNumberTable,t=function(t,r){this.name=t,this.contents=r,this.lineNumberTable=new e(this)};return $traceurRuntime.createClass(t,{},{}),{get SourceFile(){return t}}}),System.register("traceur@0.0.72/src/util/CollectingErrorReporter",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/util/ErrorReporter").ErrorReporter,t=function(e){this.message=e?e.join("\n")+"":"",this.name=e&&e.length>1?"MultipleErrors":"",this.errors=e};$traceurRuntime.createClass(t,{},{},Error);var r=function(){$traceurRuntime.superCall(this,n.prototype,"constructor",[]),this.errors=[]},n=r;return $traceurRuntime.createClass(r,{reportMessageInternal:function(e,t){e&&(t=e+": "+t),this.errors.push(t)},errorsAsString:function(){return this.toError().message},toError:function(){return new t(this.errors)}},{},e),{get MultipleErrors(){return t},get CollectingErrorReporter(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/ParseTreeTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),t=e.Annotation,r=e.AnonBlock,n=e.ArgumentList,i=e.ArrayComprehension,o=e.ArrayLiteralExpression,s=e.ArrayPattern,a=e.ArrowFunctionExpression,c=e.AssignmentElement,u=e.AwaitExpression,l=e.BinaryExpression,h=e.BindingElement,p=(e.BindingIdentifier,e.Block),f=(e.BreakStatement,e.CallExpression),d=e.CaseClause,m=e.Catch,g=e.ClassDeclaration,y=e.ClassExpression,v=e.CommaExpression,b=e.ComprehensionFor,S=e.ComprehensionIf,w=e.ComputedPropertyName,_=e.ConditionalExpression,T=(e.ContinueStatement,e.CoverFormals),E=e.CoverInitializedName,C=(e.DebuggerStatement,e.DefaultClause),x=e.DoWhileStatement,R=(e.EmptyStatement,e.ExportDeclaration),A=e.ExportDefault,O=(e.ExportSpecifier,e.ExportSpecifierSet),j=(e.ExportStar,e.ExpressionStatement),k=e.Finally,P=e.ForInStatement,I=e.ForOfStatement,L=e.ForStatement,N=e.FormalParameter,D=e.FormalParameterList,M=e.FunctionBody,F=e.FunctionDeclaration,B=e.FunctionExpression,H=e.GeneratorComprehension,$=e.GetAccessor,V=(e.IdentifierExpression,e.IfStatement),U=e.ImportedBinding,z=e.ImportDeclaration,W=e.ImportSpecifier,G=e.ImportSpecifierSet,q=e.LabelledStatement,Y=(e.LiteralExpression,e.LiteralPropertyName,e.MemberExpression),X=e.MemberLookupExpression,K=e.Module,Q=e.ModuleDeclaration,J=(e.ModuleSpecifier,e.NamedExport),Z=e.NewExpression,ee=e.ObjectLiteralExpression,te=e.ObjectPattern,re=e.ObjectPatternField,ne=e.ParenExpression,ie=e.PostfixExpression,oe=(e.PredefinedType,e.Script),se=e.PropertyMethodAssignment,ae=e.PropertyNameAssignment,ce=(e.PropertyNameShorthand,e.RestParameter),ue=e.ReturnStatement,le=e.SetAccessor,he=e.SpreadExpression,pe=e.SpreadPatternElement,fe=(e.SuperExpression,e.SwitchStatement),de=(e.SyntaxErrorTree,e.TemplateLiteralExpression),me=(e.TemplateLiteralPortion,e.TemplateSubstitution),ge=(e.ThisExpression,e.ThrowStatement),ye=e.TryStatement,ve=e.TypeName,be=e.UnaryExpression,Se=e.VariableDeclaration,we=e.VariableDeclarationList,_e=e.VariableStatement,Te=e.WhileStatement,Ee=e.WithStatement,Ce=e.YieldExpression,xe=function(){};return $traceurRuntime.createClass(xe,{transformAny:function(e){return e&&e.transform(this)},transformList:function(e){for(var t,n=null,i=0;i<e.length;i++){var o=e[i],s=this.transformAny(o);(null!=n||o!=s)&&(null==n&&(n=e.slice(0,i)),s instanceof r?(t=n).push.apply(t,$traceurRuntime.spread(s.statements)):n.push(s))}return n||e},transformStateMachine:function(e){throw Error("State machines should not live outside of the GeneratorTransformer.")},transformToBlockOrStatement:function(e){var t=this.transformAny(e);return t instanceof r?new p(t.location,t.statements):t},transformAnnotation:function(e){var r=this.transformAny(e.name),n=this.transformAny(e.args);return r===e.name&&n===e.args?e:new t(e.location,r,n)},transformAnonBlock:function(e){var t=this.transformList(e.statements);return t===e.statements?e:new r(e.location,t)},transformArgumentList:function(e){var t=this.transformList(e.args);return t===e.args?e:new n(e.location,t)},transformArrayComprehension:function(e){var t=this.transformList(e.comprehensionList),r=this.transformAny(e.expression);return t===e.comprehensionList&&r===e.expression?e:new i(e.location,t,r)},transformArrayLiteralExpression:function(e){var t=this.transformList(e.elements);return t===e.elements?e:new o(e.location,t)},transformArrayPattern:function(e){var t=this.transformList(e.elements);return t===e.elements?e:new s(e.location,t)},transformArrowFunctionExpression:function(e){var t=this.transformAny(e.parameterList),r=this.transformAny(e.body);return t===e.parameterList&&r===e.body?e:new a(e.location,e.functionKind,t,r)},transformAssignmentElement:function(e){var t=this.transformAny(e.assignment),r=this.transformAny(e.initializer);return t===e.assignment&&r===e.initializer?e:new c(e.location,t,r)},transformAwaitExpression:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new u(e.location,t)},transformBinaryExpression:function(e){var t=this.transformAny(e.left),r=this.transformAny(e.right);return t===e.left&&r===e.right?e:new l(e.location,t,e.operator,r)},transformBindingElement:function(e){var t=this.transformAny(e.binding),r=this.transformAny(e.initializer);return t===e.binding&&r===e.initializer?e:new h(e.location,t,r)},transformBindingIdentifier:function(e){return e},transformBlock:function(e){var t=this.transformList(e.statements);return t===e.statements?e:new p(e.location,t)},transformBreakStatement:function(e){return e},transformCallExpression:function(e){var t=this.transformAny(e.operand),r=this.transformAny(e.args);return t===e.operand&&r===e.args?e:new f(e.location,t,r)},transformCaseClause:function(e){var t=this.transformAny(e.expression),r=this.transformList(e.statements);return t===e.expression&&r===e.statements?e:new d(e.location,t,r)},transformCatch:function(e){var t=this.transformAny(e.binding),r=this.transformAny(e.catchBody);return t===e.binding&&r===e.catchBody?e:new m(e.location,t,r)},transformClassDeclaration:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.superClass),n=this.transformList(e.elements),i=this.transformList(e.annotations);return t===e.name&&r===e.superClass&&n===e.elements&&i===e.annotations?e:new g(e.location,t,r,n,i)},transformClassExpression:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.superClass),n=this.transformList(e.elements),i=this.transformList(e.annotations);return t===e.name&&r===e.superClass&&n===e.elements&&i===e.annotations?e:new y(e.location,t,r,n,i)},transformCommaExpression:function(e){var t=this.transformList(e.expressions);return t===e.expressions?e:new v(e.location,t)},transformComprehensionFor:function(e){var t=this.transformAny(e.left),r=this.transformAny(e.iterator);return t===e.left&&r===e.iterator?e:new b(e.location,t,r)},transformComprehensionIf:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new S(e.location,t)},transformComputedPropertyName:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new w(e.location,t)},transformConditionalExpression:function(e){var t=this.transformAny(e.condition),r=this.transformAny(e.left),n=this.transformAny(e.right);return t===e.condition&&r===e.left&&n===e.right?e:new _(e.location,t,r,n)},transformContinueStatement:function(e){return e},transformCoverFormals:function(e){var t=this.transformList(e.expressions);return t===e.expressions?e:new T(e.location,t)},transformCoverInitializedName:function(e){var t=this.transformAny(e.initializer);return t===e.initializer?e:new E(e.location,e.name,e.equalToken,t)},transformDebuggerStatement:function(e){return e},transformDefaultClause:function(e){var t=this.transformList(e.statements);return t===e.statements?e:new C(e.location,t)},transformDoWhileStatement:function(e){var t=this.transformToBlockOrStatement(e.body),r=this.transformAny(e.condition);return t===e.body&&r===e.condition?e:new x(e.location,t,r)},transformEmptyStatement:function(e){return e},transformExportDeclaration:function(e){var t=this.transformAny(e.declaration),r=this.transformList(e.annotations);return t===e.declaration&&r===e.annotations?e:new R(e.location,t,r)},transformExportDefault:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new A(e.location,t)},transformExportSpecifier:function(e){return e},transformExportSpecifierSet:function(e){var t=this.transformList(e.specifiers);return t===e.specifiers?e:new O(e.location,t)},transformExportStar:function(e){return e},transformExpressionStatement:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new j(e.location,t)},transformFinally:function(e){var t=this.transformAny(e.block);return t===e.block?e:new k(e.location,t)},transformForInStatement:function(e){var t=this.transformAny(e.initializer),r=this.transformAny(e.collection),n=this.transformToBlockOrStatement(e.body);return t===e.initializer&&r===e.collection&&n===e.body?e:new P(e.location,t,r,n)},transformForOfStatement:function(e){var t=this.transformAny(e.initializer),r=this.transformAny(e.collection),n=this.transformToBlockOrStatement(e.body);return t===e.initializer&&r===e.collection&&n===e.body?e:new I(e.location,t,r,n)},transformForStatement:function(e){var t=this.transformAny(e.initializer),r=this.transformAny(e.condition),n=this.transformAny(e.increment),i=this.transformToBlockOrStatement(e.body);return t===e.initializer&&r===e.condition&&n===e.increment&&i===e.body?e:new L(e.location,t,r,n,i)},transformFormalParameter:function(e){var t=this.transformAny(e.parameter),r=this.transformAny(e.typeAnnotation),n=this.transformList(e.annotations);return t===e.parameter&&r===e.typeAnnotation&&n===e.annotations?e:new N(e.location,t,r,n)},transformFormalParameterList:function(e){var t=this.transformList(e.parameters);return t===e.parameters?e:new D(e.location,t)},transformFunctionBody:function(e){var t=this.transformList(e.statements);return t===e.statements?e:new M(e.location,t)},transformFunctionDeclaration:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.parameterList),n=this.transformAny(e.typeAnnotation),i=this.transformList(e.annotations),o=this.transformAny(e.body);return t===e.name&&r===e.parameterList&&n===e.typeAnnotation&&i===e.annotations&&o===e.body?e:new F(e.location,t,e.functionKind,r,n,i,o)},transformFunctionExpression:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.parameterList),n=this.transformAny(e.typeAnnotation),i=this.transformList(e.annotations),o=this.transformAny(e.body);return t===e.name&&r===e.parameterList&&n===e.typeAnnotation&&i===e.annotations&&o===e.body?e:new B(e.location,t,e.functionKind,r,n,i,o)},transformGeneratorComprehension:function(e){var t=this.transformList(e.comprehensionList),r=this.transformAny(e.expression);return t===e.comprehensionList&&r===e.expression?e:new H(e.location,t,r)},transformGetAccessor:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.typeAnnotation),n=this.transformList(e.annotations),i=this.transformAny(e.body);return t===e.name&&r===e.typeAnnotation&&n===e.annotations&&i===e.body?e:new $(e.location,e.isStatic,t,r,n,i)},transformIdentifierExpression:function(e){return e},transformIfStatement:function(e){var t=this.transformAny(e.condition),r=this.transformToBlockOrStatement(e.ifClause),n=this.transformToBlockOrStatement(e.elseClause);return t===e.condition&&r===e.ifClause&&n===e.elseClause?e:new V(e.location,t,r,n)},transformImportedBinding:function(e){var t=this.transformAny(e.binding);return t===e.binding?e:new U(e.location,t)},transformImportDeclaration:function(e){var t=this.transformAny(e.importClause),r=this.transformAny(e.moduleSpecifier);return t===e.importClause&&r===e.moduleSpecifier?e:new z(e.location,t,r)},transformImportSpecifier:function(e){var t=this.transformAny(e.binding);return t===e.binding?e:new W(e.location,t,e.name)},transformImportSpecifierSet:function(e){var t=this.transformList(e.specifiers);return t===e.specifiers?e:new G(e.location,t)},transformLabelledStatement:function(e){var t=this.transformAny(e.statement);return t===e.statement?e:new q(e.location,e.name,t)},transformLiteralExpression:function(e){return e},transformLiteralPropertyName:function(e){return e},transformMemberExpression:function(e){var t=this.transformAny(e.operand);return t===e.operand?e:new Y(e.location,t,e.memberName)},transformMemberLookupExpression:function(e){var t=this.transformAny(e.operand),r=this.transformAny(e.memberExpression);return t===e.operand&&r===e.memberExpression?e:new X(e.location,t,r)},transformModule:function(e){var t=this.transformList(e.scriptItemList);return t===e.scriptItemList?e:new K(e.location,t,e.moduleName)},transformModuleDeclaration:function(e){var t=this.transformAny(e.binding),r=this.transformAny(e.expression);return t===e.binding&&r===e.expression?e:new Q(e.location,t,r)},transformModuleSpecifier:function(e){return e},transformNamedExport:function(e){var t=this.transformAny(e.moduleSpecifier),r=this.transformAny(e.specifierSet);return t===e.moduleSpecifier&&r===e.specifierSet?e:new J(e.location,t,r)},transformNewExpression:function(e){var t=this.transformAny(e.operand),r=this.transformAny(e.args);return t===e.operand&&r===e.args?e:new Z(e.location,t,r)},transformObjectLiteralExpression:function(e){var t=this.transformList(e.propertyNameAndValues);return t===e.propertyNameAndValues?e:new ee(e.location,t)},transformObjectPattern:function(e){var t=this.transformList(e.fields);return t===e.fields?e:new te(e.location,t)},transformObjectPatternField:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.element);return t===e.name&&r===e.element?e:new re(e.location,t,r)},transformParenExpression:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new ne(e.location,t)},transformPostfixExpression:function(e){var t=this.transformAny(e.operand);return t===e.operand?e:new ie(e.location,t,e.operator)},transformPredefinedType:function(e){return e},transformScript:function(e){var t=this.transformList(e.scriptItemList);return t===e.scriptItemList?e:new oe(e.location,t,e.moduleName)},transformPropertyMethodAssignment:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.parameterList),n=this.transformAny(e.typeAnnotation),i=this.transformList(e.annotations),o=this.transformAny(e.body);return t===e.name&&r===e.parameterList&&n===e.typeAnnotation&&i===e.annotations&&o===e.body?e:new se(e.location,e.isStatic,e.functionKind,t,r,n,i,o)},transformPropertyNameAssignment:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.value);return t===e.name&&r===e.value?e:new ae(e.location,t,r)},transformPropertyNameShorthand:function(e){
return e},transformRestParameter:function(e){var t=this.transformAny(e.identifier);return t===e.identifier?e:new ce(e.location,t)},transformReturnStatement:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new ue(e.location,t)},transformSetAccessor:function(e){var t=this.transformAny(e.name),r=this.transformAny(e.parameterList),n=this.transformList(e.annotations),i=this.transformAny(e.body);return t===e.name&&r===e.parameterList&&n===e.annotations&&i===e.body?e:new le(e.location,e.isStatic,t,r,n,i)},transformSpreadExpression:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new he(e.location,t)},transformSpreadPatternElement:function(e){var t=this.transformAny(e.lvalue);return t===e.lvalue?e:new pe(e.location,t)},transformSuperExpression:function(e){return e},transformSwitchStatement:function(e){var t=this.transformAny(e.expression),r=this.transformList(e.caseClauses);return t===e.expression&&r===e.caseClauses?e:new fe(e.location,t,r)},transformSyntaxErrorTree:function(e){return e},transformTemplateLiteralExpression:function(e){var t=this.transformAny(e.operand),r=this.transformList(e.elements);return t===e.operand&&r===e.elements?e:new de(e.location,t,r)},transformTemplateLiteralPortion:function(e){return e},transformTemplateSubstitution:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new me(e.location,t)},transformThisExpression:function(e){return e},transformThrowStatement:function(e){var t=this.transformAny(e.value);return t===e.value?e:new ge(e.location,t)},transformTryStatement:function(e){var t=this.transformAny(e.body),r=this.transformAny(e.catchBlock),n=this.transformAny(e.finallyBlock);return t===e.body&&r===e.catchBlock&&n===e.finallyBlock?e:new ye(e.location,t,r,n)},transformTypeName:function(e){var t=this.transformAny(e.moduleName);return t===e.moduleName?e:new ve(e.location,t,e.name)},transformUnaryExpression:function(e){var t=this.transformAny(e.operand);return t===e.operand?e:new be(e.location,e.operator,t)},transformVariableDeclaration:function(e){var t=this.transformAny(e.lvalue),r=this.transformAny(e.typeAnnotation),n=this.transformAny(e.initializer);return t===e.lvalue&&r===e.typeAnnotation&&n===e.initializer?e:new Se(e.location,t,r,n)},transformVariableDeclarationList:function(e){var t=this.transformList(e.declarations);return t===e.declarations?e:new we(e.location,e.declarationType,t)},transformVariableStatement:function(e){var t=this.transformAny(e.declarations);return t===e.declarations?e:new _e(e.location,t)},transformWhileStatement:function(e){var t=this.transformAny(e.condition),r=this.transformToBlockOrStatement(e.body);return t===e.condition&&r===e.body?e:new Te(e.location,t,r)},transformWithStatement:function(e){var t=this.transformAny(e.expression),r=this.transformToBlockOrStatement(e.body);return t===e.expression&&r===e.body?e:new Ee(e.location,t,r)},transformYieldExpression:function(e){var t=this.transformAny(e.expression);return t===e.expression?e:new Ce(e.location,t,e.isYieldFor)}},{}),{get ParseTreeTransformer(){return xe}}}),System.register("traceur@0.0.72/src/codegeneration/PlaceholderParser",[],function(){"use strict";function e(e){return function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return t(r,n,e)}}function t(e,t,i){var o=H.get(e);if(!o){var s=r(e),a=new d,c=n(s,a);if(o=i(c),a.hadError()||!o||!c.isAtEnd())throw new Error("Internal error trying to parse:\n\n"+s+"\n\n"+a.errorsAsString());H.set(e,o)}return t.length?o instanceof m?new X(t).transformAny(o):new X(t).transformList(o):o}function r(e){for(var t=e[0],r=1;r<e.length;r++)t+=q+(r-1)+e[r];return t}function n(e,t){var r=new w("@traceur/generated/TemplateParser/"+Y++,e),n=new y(r,t);return n.allowYield=!0,n.allowAwait=!0,n}function i(e){if(e instanceof m)return e;if(e instanceof h)return k(e);if(e instanceof p)return new b(e.location,e);if(Array.isArray(e))return e[0]instanceof m?1===e.length?e[0]:e[0].isStatement()?x(e):D(A(e)):E(e.map(i));if(null===e)return L();if(void 0===e)return F();switch(typeof e){case"string":return M(e);case"boolean":return R(e);case"number":return N(e)}throw new Error("Not implemented")}function o(e){return e instanceof h?e:P(e)}var s=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),a=s.ARGUMENT_LIST,c=s.BLOCK,u=s.EXPRESSION_STATEMENT,l=s.IDENTIFIER_EXPRESSION,h=System.get("traceur@0.0.72/src/syntax/IdentifierToken").IdentifierToken,p=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,f=System.get("traceur@0.0.72/src/runtime/polyfills/Map").Map,d=System.get("traceur@0.0.72/src/util/CollectingErrorReporter").CollectingErrorReporter,m=System.get("traceur@0.0.72/src/syntax/trees/ParseTree").ParseTree,g=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,y=System.get("traceur@0.0.72/src/syntax/Parser").Parser,v=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),b=v.LiteralExpression,S=v.LiteralPropertyName,w=System.get("traceur@0.0.72/src/syntax/SourceFile").SourceFile,_=System.get("traceur@0.0.72/src/syntax/TokenType").IDENTIFIER,T=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),E=T.createArrayLiteralExpression,C=T.createBindingIdentifier,x=T.createBlock,R=T.createBooleanLiteral,A=T.createCommaExpression,O=T.createExpressionStatement,j=T.createFunctionBody,k=T.createIdentifierExpression,P=T.createIdentifierToken,I=T.createMemberExpression,L=T.createNullLiteral,N=T.createNumberLiteral,D=T.createParenExpression,M=T.createStringLiteral,F=T.createVoid0,B={},H=new f,$=e(function(e){return e.parseExpression()}),V=e(function(e){return e.parseStatement()}),U=e(function(e){return e.parseModule()}),z=e(function(e){return e.parseScript()}),W=e(function(e){return e.parseStatements()}),G=e(function(e){return e.parsePropertyDefinition()}),q="$__placeholder__",Y=0,X=function(e){$traceurRuntime.superCall(this,K.prototype,"constructor",[]),this.values=e},K=X;return $traceurRuntime.createClass(X,{getValueAt:function(e){return this.values[e]},getValue_:function(e){return 0!==e.indexOf(q)?B:this.getValueAt(Number(e.slice(q.length)))},transformIdentifierExpression:function(e){var t=this.getValue_(e.identifierToken.value);return t===B?e:i(t)},transformBindingIdentifier:function(e){var t=this.getValue_(e.identifierToken.value);return t===B?e:C(t)},transformExpressionStatement:function(e){if(e.expression.type===l){var t=this.transformIdentifierExpression(e.expression);return t===e.expression?e:t.isStatement()?t:O(t)}return $traceurRuntime.superCall(this,K.prototype,"transformExpressionStatement",[e])},transformBlock:function(e){if(1===e.statements.length&&e.statements[0].type===u){var t=this.transformExpressionStatement(e.statements[0]);if(t===e.statements[0])return e;if(t.type===c)return t}return $traceurRuntime.superCall(this,K.prototype,"transformBlock",[e])},transformFunctionBody:function(e){if(1===e.statements.length&&e.statements[0].type===u){var t=this.transformExpressionStatement(e.statements[0]);if(t===e.statements[0])return e;if(t.type===c)return j(t.statements)}return $traceurRuntime.superCall(this,K.prototype,"transformFunctionBody",[e])},transformMemberExpression:function(e){var t=this.getValue_(e.memberName.value);if(t===B)return $traceurRuntime.superCall(this,K.prototype,"transformMemberExpression",[e]);var r=this.transformAny(e.operand);return I(r,t)},transformLiteralPropertyName:function(e){if(e.literalToken.type===_){var t=this.getValue_(e.literalToken.value);if(t!==B)return new S(null,o(t))}return $traceurRuntime.superCall(this,K.prototype,"transformLiteralPropertyName",[e])},transformArgumentList:function(e){if(1===e.args.length&&e.args[0].type===l){var t=this.transformAny(e.args[0]);if(t===e.args[0])return e;if(t.type===a)return t}return $traceurRuntime.superCall(this,K.prototype,"transformArgumentList",[e])}},{},g),{get parseExpression(){return $},get parseStatement(){return V},get parseModule(){return U},get parseScript(){return z},get parseStatements(){return W},get parsePropertyDefinition(){return G},get PlaceholderTransformer(){return X}}}),System.register("traceur@0.0.72/src/codegeneration/PrependStatements",[],function(){"use strict";function e(e){return e.type===n&&e.expression.type===i&&e.expression.literalToken.type===o}function t(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!t.length)return r;if(!r.length)return t;var i=[],o=!0;return t.forEach(function(t){var n;o&&!e(t)&&((n=i).push.apply(n,$traceurRuntime.spread(r)),o=!1),i.push(t)}),i}var r=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),n=r.EXPRESSION_STATEMENT,i=r.LITERAL_EXPRESSION,o=System.get("traceur@0.0.72/src/syntax/TokenType").STRING;return{get prependStatements(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/TempVarTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),r=t.Module,n=t.Script,i=System.get("traceur@0.0.72/src/syntax/PredefinedName").ARGUMENTS,o=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,s=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),a=s.createFunctionBody,c=s.createThisExpression,u=s.createIdentifierExpression,l=s.createVariableDeclaration,h=s.createVariableDeclarationList,p=s.createVariableStatement,f=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,d=function(e,t){this.name=e,this.initializer=t};$traceurRuntime.createClass(d,{},{});var m=function(){this.identifiers=[]};$traceurRuntime.createClass(m,{push:function(e){this.identifiers.push(e)},pop:function(){return this.identifiers.pop()},release:function(e){for(var t=this.identifiers.length-1;t>=0;t--)e.release_(this.identifiers[t])}},{});var g=function(){this.thisName=null,this.argumentName=null,this.tempVarStatements=[]};$traceurRuntime.createClass(g,{push:function(e){this.tempVarStatements.push(e)},pop:function(){return this.tempVarStatements.pop()},release:function(e){for(var t=this.tempVarStatements.length-1;t>=0;t--)e.release_(this.tempVarStatements[t].name)},isEmpty:function(){return!this.tempVarStatements.length},createVariableStatement:function(){for(var e=[],t=Object.create(null),r=0;r<this.tempVarStatements.length;r++){var n=this.tempVarStatements[r],i=n.name,s=n.initializer;if(i in t){if(t[i].initializer||s)throw new Error("Invalid use of TempVarTransformer")}else t[i]=!0,e.push(l(i,s))}return p(h(o,e))}},{});var y=function(e){$traceurRuntime.superCall(this,v.prototype,"constructor",[]),this.identifierGenerator=e,this.tempVarStack_=[new g],this.tempScopeStack_=[new m],this.namePool_=[]},v=y;return $traceurRuntime.createClass(y,{transformStatements_:function(e){this.tempVarStack_.push(new g);var t=this.transformList(e),r=this.tempVarStack_.pop();if(r.isEmpty())return t;var n=r.createVariableStatement();return r.release(this),f(t,n)},transformScript:function(e){var t=this.transformStatements_(e.scriptItemList);return t==e.scriptItemList?e:new n(e.location,t,e.moduleName)},transformModule:function(e){var t=this.transformStatements_(e.scriptItemList);return t==e.scriptItemList?e:new r(e.location,t,e.moduleName)},transformFunctionBody:function(e){this.pushTempScope();var t=this.transformStatements_(e.statements);return this.popTempScope(),t==e.statements?e:a(t)},getTempIdentifier:function(){var e=this.getName_();return this.tempScopeStack_[this.tempScopeStack_.length-1].push(e),e},getName_:function(){return this.namePool_.length?this.namePool_.pop():this.identifierGenerator.generateUniqueIdentifier()},addTempVar:function(){var e=void 0!==arguments[0]?arguments[0]:null,t=this.tempVarStack_[this.tempVarStack_.length-1],r=this.getName_();return t.push(new d(r,e)),r},addTempVarForThis:function(){var e=this.tempVarStack_[this.tempVarStack_.length-1];return e.thisName||(e.thisName=this.addTempVar(c()))},addTempVarForArguments:function(){var e=this.tempVarStack_[this.tempVarStack_.length-1];return e.argumentName||(e.argumentName=this.addTempVar(u(i)))},pushTempScope:function(){this.tempScopeStack_.push(new m)},popTempScope:function(){this.tempScopeStack_.pop().release(this)},release_:function(e){this.namePool_.push(e)}},{},e),{get TempVarTransformer(){return y}}}),System.register("traceur@0.0.72/src/codegeneration/DestructuringTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["Array.prototype.slice.call(",", ",")"],{raw:{value:Object.freeze(["Array.prototype.slice.call(",", ",")"])}})),t=Object.freeze(Object.defineProperties(["("," = ",".",") === void 0 ?\n        "," : ",""],{raw:{value:Object.freeze(["("," = ",".",") === void 0 ?\n        "," : ",""])}})),r=Object.freeze(Object.defineProperties(["("," = ","[","]) === void 0 ?\n        "," : ",""],{raw:{value:Object.freeze(["("," = ","[","]) === void 0 ?\n        "," : ",""])}})),n=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),i=n.ARRAY_LITERAL_EXPRESSION,o=n.ARRAY_PATTERN,s=n.ASSIGNMENT_ELEMENT,a=n.BINDING_ELEMENT,c=n.BINDING_IDENTIFIER,u=n.BLOCK,l=n.CALL_EXPRESSION,h=n.COMPUTED_PROPERTY_NAME,p=n.IDENTIFIER_EXPRESSION,f=n.LITERAL_EXPRESSION,d=n.MEMBER_EXPRESSION,m=n.MEMBER_LOOKUP_EXPRESSION,g=n.OBJECT_LITERAL_EXPRESSION,y=n.OBJECT_PATTERN,v=n.OBJECT_PATTERN_FIELD,b=n.PAREN_EXPRESSION,S=n.VARIABLE_DECLARATION_LIST,w=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),_=w.AssignmentElement,T=w.BindingElement,E=w.Catch,C=w.ForInStatement,x=w.ForOfStatement,R=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,A=System.get("traceur@0.0.72/src/syntax/TokenType"),O=A.EQUAL,j=A.LET,k=A.VAR,P=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),I=P.createAssignmentExpression,L=P.createBindingIdentifier,N=P.createBlock,D=P.createCommaExpression,M=P.createExpressionStatement,F=P.createFunctionBody,B=P.createIdentifierExpression,H=P.createMemberExpression,$=P.createMemberLookupExpression,V=P.createNumberLiteral,U=P.createParenExpression,z=P.createVariableDeclaration,W=P.createVariableDeclarationList,G=P.createVariableStatement,q=System.get("traceur@0.0.72/src/Options").options,Y=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,X=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,K=function(e){this.rvalue=e};$traceurRuntime.createClass(K,{},{});var Q=function(e){$traceurRuntime.superCall(this,J.prototype,"constructor",[e]),this.expressions=[]},J=Q;$traceurRuntime.createClass(Q,{assign:function(e,t){e=e instanceof _?e.assignment:e,this.expressions.push(I(e,t))}},{},K);var Z=function(e){$traceurRuntime.superCall(this,ee.prototype,"constructor",[e]),this.declarations=[]},ee=Z;$traceurRuntime.createClass(Z,{assign:function(e,t){var r=e instanceof T?e.binding:L(e);this.declarations.push(z(r,t))}},{},K);var te=function(e){$traceurRuntime.superCall(this,re.prototype,"constructor",[e]),this.parameterDeclarations=null},re=te;return $traceurRuntime.createClass(te,{transformArrayPattern:function(e){throw new Error("unreachable")},transformObjectPattern:function(e){throw new Error("unreachable")},transformBinaryExpression:function(e){this.pushTempScope();var t;return t=e.operator.type==O&&e.left.isPattern()?this.transformAny(this.desugarAssignment_(e.left,e.right)):$traceurRuntime.superCall(this,re.prototype,"transformBinaryExpression",[e]),this.popTempScope(),t},desugarAssignment_:function(e,t){var r=B(this.addTempVar()),n=new Q(r);return this.desugarPattern_(n,e),n.expressions.unshift(I(r,t)),n.expressions.push(r),U(D(n.expressions))},transformVariableDeclarationList:function(e){var t=this;if(!this.destructuringInDeclaration_(e))return $traceurRuntime.superCall(this,re.prototype,"transformVariableDeclarationList",[e]);var r=[];e.declarations.forEach(function(e){var n;e.lvalue.isPattern()?(n=r).push.apply(n,$traceurRuntime.spread(t.desugarVariableDeclaration_(e))):r.push(e)});var n=this.transformVariableDeclarationList(W(e.declarationType,r));return n},transformForInStatement:function(e){return this.transformForInOrOf_(e,$traceurRuntime.superGet(this,re.prototype,"transformForInStatement"),C)},transformForOfStatement:function(e){return this.transformForInOrOf_(e,$traceurRuntime.superGet(this,re.prototype,"transformForOfStatement"),x)},transformForInOrOf_:function(e,t,r){var n;if(!(e.initializer.isPattern()||e.initializer.type===S&&this.destructuringInDeclaration_(e.initializer)))return t.call(this,e);this.pushTempScope();var i,o;e.initializer.isPattern()?(i=null,o=e.initializer):(i=e.initializer.declarationType,o=e.initializer.declarations[0].lvalue);var s=[],a=this.desugarBinding_(o,s,i),c=W(k,a,null),l=this.transformAny(e.collection),h=this.transformAny(e.body);return h.type===u?(n=s).push.apply(n,$traceurRuntime.spread(h.statements)):s.push(h),h=N(s),this.popTempScope(),new r(e.location,c,l,h)},transformAssignmentElement:function(e){throw new Error("unreachable")},transformBindingElement:function(e){if(!e.binding.isPattern()||e.initializer)return e;null===this.parameterDeclarations&&(this.parameterDeclarations=[],this.pushTempScope());var t=this.getTempIdentifier(),r=L(t),n=B(t),i=z(e.binding,n);return this.parameterDeclarations.push(i),new T(null,r,null)},transformFunctionBody:function(e){if(null===this.parameterDeclarations)return $traceurRuntime.superCall(this,re.prototype,"transformFunctionBody",[e]);var t=W(k,this.parameterDeclarations),r=G(t),n=X(e.statements,r),i=F(n);this.parameterDeclarations=null;var o=$traceurRuntime.superCall(this,re.prototype,"transformFunctionBody",[i]);return this.popTempScope(),o},transformCatch:function(e){var t;if(!e.binding.isPattern())return $traceurRuntime.superCall(this,re.prototype,"transformCatch",[e]);var r=this.transformAny(e.catchBody),n=[],i=q.blockBinding?j:k,o=this.desugarBinding_(e.binding,n,i);return(t=n).push.apply(t,$traceurRuntime.spread(r.statements)),new E(e.location,o,N(n))},desugarBinding_:function(e,t,r){var n,i=this.getTempIdentifier(),o=L(i),s=B(i);return n=null===r?new Q(s):new Z(s),this.desugarPattern_(n,e),null===r?t.push(M(D(n.expressions))):t.push(G(this.transformVariableDeclarationList(W(r,n.declarations)))),o},destructuringInDeclaration_:function(e){return e.declarations.some(function(e){return e.lvalue.isPattern()})},desugarVariableDeclaration_:function(e){var t,r,n=this.getTempIdentifier(),o=B(n);switch(e.initializer.type){case i:case l:case p:case f:case d:case m:case g:case b:r=e.initializer;default:t=new Z(o),t.assign(t.rvalue,e.initializer);var s=this.desugarPattern_(t,e.lvalue);return s||t.declarations.length>2?t.declarations:(r||(r=U(e.initializer)),t=new Z(r),this.desugarPattern_(t,e.lvalue),t.declarations)}},desugarPattern_:function(t,r){var n=this,i=!1;switch(r.type){case o:for(var c=r,u=0;u<c.elements.length;u++){var l=c.elements[u];null!==l&&(l.isSpreadPatternElement()?t.assign(l.lvalue,Y(e,t.rvalue,u)):(l.initializer&&(i=!0),t.assign(l,this.createConditionalMemberLookupExpression(t.rvalue,V(u),l.initializer))))}break;case y:var c=r,h=function(e,r){r&&(i=!0);var o=n.createConditionalMemberExpression(t.rvalue,e,r);t.assign(e,o)};c.fields.forEach(function(e){var r;switch(e.type){case s:h(e.assignment,e.initializer);break;case a:h(e.binding,e.initializer);break;case v:e.element.initializer&&(i=!0);var o=e.name;r=n.createConditionalMemberExpression(t.rvalue,o,e.element.initializer),t.assign(e.element,r);break;default:throw Error("unreachable")}});break;case b:return this.desugarPattern_(t,r.expression);default:throw new Error("unreachable")}return t instanceof Z&&0===t.declarations.length&&t.assign(L(this.getTempIdentifier()),t.rvalue),i},createConditionalMemberExpression:function(e,r,n){if(r.type===h)return this.createConditionalMemberLookupExpression(e,r.expression,n);var i;switch(r.type){case c:case p:i=r.identifierToken;break;default:i=r.literalToken}if(!n)return H(e,i);var o=B(this.addTempVar());return Y(t,o,e,i,n,o)},createConditionalMemberLookupExpression:function(e,t,n){if(!n)return $(e,t);var i=B(this.addTempVar());return Y(r,i,e,t,n,i)}},{},R),{get DestructuringTransformer(){return te}}}),System.register("traceur@0.0.72/src/codegeneration/module/ModuleSymbol",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/util/assert").assert,t=function(e){this.exports_=Object.create(null),null!==e?this.normalizedName=e.replace(/\\/g,"/"):this.normalizedName=null};$traceurRuntime.createClass(t,{addExport:function(t,r){e(!this.exports_[t]),this.exports_[t]=r},getExport:function(e){return this.exports_[e]},getExports:function(){return Object.keys(this.exports_)},addExportsFromModule:function(e){var t=this;Object.getOwnPropertyNames(e).forEach(function(e){t.addExport(e,!0)})}},{});var r=function(e,t){$traceurRuntime.superCall(this,n.prototype,"constructor",[t]),this.tree=e,this.imports_=Object.create(null)},n=r;return $traceurRuntime.createClass(r,{addImport:function(t,r){e(!this.imports_[t]),this.imports_[t]=r},getImport:function(e){return this.imports_[e]}},{},t),{get ExportsList(){return t},get ModuleSymbol(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/module/ModuleVisitor",[],function(){"use strict";var e=(System.get("traceur@0.0.72/src/codegeneration/module/ModuleSymbol").ExportsList,System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor),t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),r=t.MODULE_DECLARATION,n=t.EXPORT_DECLARATION,i=t.IMPORT_DECLARATION,o=function(e,t,r){this.reporter=e,this.loader_=t,this.moduleSymbol=r};return $traceurRuntime.createClass(o,{getExportsListForModuleSpecifier:function(e){var t=this.moduleSymbol.normalizedName;return this.loader_.getExportsListForModuleSpecifier(e,t)},visitFunctionDeclaration:function(e){},visitFunctionExpression:function(e){},visitFunctionBody:function(e){},visitBlock:function(e){},visitClassDeclaration:function(e){},visitClassExpression:function(e){},visitModuleElement_:function(e){switch(e.type){case r:case n:case i:this.visitAny(e)}},visitScript:function(e){e.scriptItemList.forEach(this.visitModuleElement_,this)},visitModule:function(e){e.scriptItemList.forEach(this.visitModuleElement_,this)},reportError:function(e,t){this.reporter.reportError(e.location.start,t)}},{},e),{get ModuleVisitor(){return o}}}),System.register("traceur@0.0.72/src/codegeneration/module/ExportVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/module/ModuleVisitor").ModuleVisitor,t=System.get("traceur@0.0.72/src/util/assert").assert,r=function(e,t,r){$traceurRuntime.superCall(this,n.prototype,"constructor",[e,t,r]),this.inExport_=!1,this.moduleSpecifier=null},n=r;return $traceurRuntime.createClass(r,{addExport_:function(e,r){t("string"==typeof e),this.inExport_&&this.addExport(e,r)},addExport:function(e,t){var r=this.moduleSymbol,n=r.getExport(e);n?this.reportError(t,"Duplicate export. '"+e+"' was previously exported at "+n.location.start):r.addExport(e,t)},visitClassDeclaration:function(e){this.addExport_(e.name.identifierToken.value,e)},visitExportDeclaration:function(e){this.inExport_=!0,this.visitAny(e.declaration),this.inExport_=!1},visitNamedExport:function(e){this.moduleSpecifier=e.moduleSpecifier,this.visitAny(e.specifierSet),this.moduleSpecifier=null},visitExportDefault:function(e){this.addExport_("default",e)},visitExportSpecifier:function(e){this.addExport_((e.rhs||e.lhs).value,e)},visitExportStar:function(e){var t=this,r=this.moduleSpecifier.token.processedValue,n=this.getExportsListForModuleSpecifier(r);n&&n.getExports().forEach(function(r){return t.addExport(r,e)})},visitFunctionDeclaration:function(e){this.addExport_(e.name.getStringValue(),e)},visitModuleDeclaration:function(e){var t=e.binding.getStringValue();this.addExport_(t,e)},visitVariableDeclaration:function(e){this.addExport_(e.lvalue.getStringValue(),e)}},{},e),{get ExportVisitor(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/module/DirectExportVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/module/ExportVisitor").ExportVisitor,t=function(){$traceurRuntime.superCall(this,r.prototype,"constructor",[null,null,null]),this.namedExports=[],this.starExports=[]},r=t;return $traceurRuntime.createClass(t,{addExport:function(e,t){this.namedExports.push({name:e,tree:t,moduleSpecifier:this.moduleSpecifier})},visitExportStar:function(e){this.starExports.push(this.moduleSpecifier)},hasExports:function(){return 0!=this.namedExports.length||0!=this.starExports.length}},{},e),{get DirectExportVisitor(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/ModuleTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["var __moduleName = ",";"],{raw:{value:Object.freeze(["var __moduleName = ",";"])}})),t=Object.freeze(Object.defineProperties(["function() {\n      ","\n    }"],{raw:{value:Object.freeze(["function() {\n      ","\n    }"])}})),r=Object.freeze(Object.defineProperties(["$traceurRuntime.ModuleStore.getAnonymousModule(\n              ",");"],{raw:{value:Object.freeze(["$traceurRuntime.ModuleStore.getAnonymousModule(\n              ",");"])}})),n=Object.freeze(Object.defineProperties(["System.register(",", [], ",");"],{raw:{value:Object.freeze(["System.register(",", [], ",");"])}})),i=Object.freeze(Object.defineProperties(["get ","() { return ","; }"],{raw:{value:Object.freeze(["get ","() { return ","; }"])}})),o=Object.freeze(Object.defineProperties(["$traceurRuntime.exportStar(",")"],{raw:{value:Object.freeze(["$traceurRuntime.exportStar(",")"])}})),s=Object.freeze(Object.defineProperties(["return ",""],{raw:{value:Object.freeze(["return ",""])}})),a=Object.freeze(Object.defineProperties(["var $__default = ",""],{raw:{value:Object.freeze(["var $__default = ",""])}})),c=Object.freeze(Object.defineProperties(["var $__default = ",""],{raw:{value:Object.freeze(["var $__default = ",""])}})),u=Object.freeze(Object.defineProperties(["System.get(",")"],{raw:{value:Object.freeze(["System.get(",")"])}})),l=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),h=l.AnonBlock,p=l.BindingElement,f=l.EmptyStatement,d=l.LiteralPropertyName,m=l.ObjectPattern,g=l.ObjectPatternField,y=l.Script,v=System.get("traceur@0.0.72/src/codegeneration/DestructuringTransformer").DestructuringTransformer,b=System.get("traceur@0.0.72/src/codegeneration/module/DirectExportVisitor").DirectExportVisitor,S=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,w=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),_=w.CLASS_DECLARATION,T=w.EXPORT_DEFAULT,E=w.EXPORT_SPECIFIER,C=w.FUNCTION_DECLARATION,x=w.IMPORT_SPECIFIER_SET,R=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,A=System.get("traceur@0.0.72/src/util/assert").assert,O=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),j=O.createArgumentList,k=O.createExpressionStatement,P=O.createIdentifierExpression,I=O.createIdentifierToken,L=O.createMemberExpression,N=O.createObjectLiteralExpression,D=O.createUseStrictDirective,M=O.createVariableStatement,F=System.get("traceur@0.0.72/src/Options"),B=F.parseOptions,H=F.transformOptions,$=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),V=$.parseExpression,U=$.parsePropertyDefinition,z=$.parseStatement,W=$.parseStatements,G=function(){$traceurRuntime.defaultSuperCall(this,q.prototype,arguments)},q=G;$traceurRuntime.createClass(G,{createGuardedExpression:function(e){return e}},{},v);var Y=function(e){$traceurRuntime.superCall(this,X.prototype,"constructor",[e]),this.exportVisitor_=new b,this.moduleSpecifierKind_=null,this.moduleName=null},X=Y;return $traceurRuntime.createClass(Y,{getTempVarNameForModuleName:function(e){return"$__"+e.replace(/[^a-zA-Z0-9$]/g,function(e){return"_"+e.charCodeAt(0)+"_"})+"__"},getTempVarNameForModuleSpecifier:function(e){var t=System.normalize(e.token.processedValue,this.moduleName);return this.getTempVarNameForModuleName(t)},transformScript:function(e){return this.moduleName=e.moduleName,$traceurRuntime.superCall(this,X.prototype,"transformScript",[e])},transformModule:function(e){this.moduleName=e.moduleName,this.pushTempScope();var t=this.transformList(e.scriptItemList);return t=this.appendExportStatement(t),this.popTempScope(),t=this.wrapModule(this.moduleProlog().concat(t)),new y(e.location,t)},moduleProlog:function(){var t=[D()];return this.moduleName&&t.push(z(e,this.moduleName)),t},wrapModule:function(e){var i=V(t,e);return null===this.moduleName?W(r,i):W(n,this.moduleName,i)},getGetterExport:function(e){var t,r=e,n=r.name,o=r.tree,s=r.moduleSpecifier;switch(o.type){case T:t=P("$__default");break;case E:if(s){var a=this.getTempVarNameForModuleSpecifier(s);t=L(a,o.lhs)}else t=P(o.lhs);break;default:t=P(n)}return U(i,n,t)},getExportProperties:function(){var e=this;return this.exportVisitor_.namedExports.map(function(t){return e.getGetterExport(t)}).concat(this.exportVisitor_.namedExports.map(function(t){return e.getSetterExport(t)})).filter(function(e){return e})},getSetterExport:function(e){var t=e;t.name,t.tree,t.moduleSpecifier;return null},getExportObject:function(){var e=this,t=N(this.getExportProperties());if(this.exportVisitor_.starExports.length){var r=this.exportVisitor_.starExports,n=r.map(function(t){return P(e.getTempVarNameForModuleSpecifier(t))}),i=j($traceurRuntime.spread([t],n));return V(o,i)}return t},appendExportStatement:function(e){var t=this.getExportObject();return e.push(z(s,t)),e},hasExports:function(){return this.exportVisitor_.hasExports()},transformExportDeclaration:function(e){return this.exportVisitor_.visitAny(e),this.transformAny(e.declaration)},transformExportDefault:function(e){switch(e.expression.type){case _:case C:var t=e.expression.name,r=P(t.identifierToken);return new h(null,[e.expression,z(a,r)])}return z(c,e.expression)},transformNamedExport:function(e){var t=e.moduleSpecifier;if(t){var r=this.transformAny(t),n=this.getTempVarNameForModuleSpecifier(t);return M(R,n,r)}return new f(null)},transformModuleSpecifier:function(e){A(this.moduleName);var t=e.token.processedValue,r=System.normalize(t,this.moduleName);return V(u,r)},transformModuleDeclaration:function(e){this.moduleSpecifierKind_="module";var t=this.transformAny(e.expression),r=e.binding.binding;return M(R,r,t)},transformImportedBinding:function(e){var t=new p(e.location,e.binding,null),r=new d(null,I("default"));return new m(null,[new g(null,r,t)])},transformImportDeclaration:function(e){if(this.moduleSpecifierKind_="import",!e.importClause||e.importClause.type===x&&0===e.importClause.specifiers.length)return k(this.transformAny(e.moduleSpecifier));var t=this.transformAny(e.importClause),r=this.transformAny(e.moduleSpecifier),n=M(R,t,r);if(H.destructuring||!B.destructuring){var i=new G(this.identifierGenerator);n=n.transform(i)}return n},transformImportSpecifierSet:function(e){var t=this.transformList(e.specifiers);return new m(null,t)},transformImportSpecifier:function(e){var t=e.binding.binding,r=new p(t.location,t,null);if(e.name){var n=new d(e.name.location,e.name);return new g(e.location,n,r)}return r}},{},S),{get ModuleTransformer(){return Y}}}),System.register("traceur@0.0.72/src/codegeneration/globalThis",[],function(){"use strict";function e(){return t||(t=n(r)),t}var t,r=Object.freeze(Object.defineProperties(["Reflect.global"],{raw:{value:Object.freeze(["Reflect.global"])}})),n=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,i=e;return{get default(){return i}}}),System.register("traceur@0.0.72/src/codegeneration/FindInFunctionScope",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/FindVisitor").FindVisitor,t=function(){$traceurRuntime.defaultSuperCall(this,r.prototype,arguments)},r=t;return $traceurRuntime.createClass(t,{visitFunctionDeclaration:function(e){},visitFunctionExpression:function(e){},visitSetAccessor:function(e){},visitGetAccessor:function(e){},visitPropertyMethodAssignment:function(e){}
},{},e),{get FindInFunctionScope(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/scopeContainsThis",[],function(){"use strict";function e(e){var t=new r(e);return t.found}var t=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,r=function(){$traceurRuntime.defaultSuperCall(this,n.prototype,arguments)},n=r;$traceurRuntime.createClass(r,{visitThisExpression:function(e){this.found=!0}},{},t);var i=e;return{get default(){return i}}}),System.register("traceur@0.0.72/src/codegeneration/AmdTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["__esModule: true"],{raw:{value:Object.freeze(["__esModule: true"])}})),t=Object.freeze(Object.defineProperties(["if (!"," || !",".__esModule)\n            "," = {default: ","}"],{raw:{value:Object.freeze(["if (!"," || !",".__esModule)\n            "," = {default: ","}"])}})),r=Object.freeze(Object.defineProperties(["function(",") {\n      ","\n    }"],{raw:{value:Object.freeze(["function(",") {\n      ","\n    }"])}})),n=Object.freeze(Object.defineProperties(["",".bind(",")"],{raw:{value:Object.freeze(["",".bind(",")"])}})),i=Object.freeze(Object.defineProperties(["define(",", ",", ",");"],{raw:{value:Object.freeze(["define(",", ",", ",");"])}})),o=Object.freeze(Object.defineProperties(["define(",", ",");"],{raw:{value:Object.freeze(["define(",", ",");"])}})),s=System.get("traceur@0.0.72/src/codegeneration/ModuleTransformer").ModuleTransformer,a=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createIdentifierExpression,c=System.get("traceur@0.0.72/src/codegeneration/globalThis")["default"],u=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),l=u.parseExpression,h=u.parseStatement,p=u.parseStatements,f=u.parsePropertyDefinition,d=System.get("traceur@0.0.72/src/codegeneration/scopeContainsThis")["default"],m=function(e){$traceurRuntime.superCall(this,g.prototype,"constructor",[e]),this.dependencies=[]},g=m;return $traceurRuntime.createClass(m,{getExportProperties:function(){var t=$traceurRuntime.superCall(this,g.prototype,"getExportProperties",[]);return this.exportVisitor_.hasExports()&&t.push(f(e)),t},moduleProlog:function(){var e=this.dependencies.map(function(e){var r=a(e.local);return h(t,r,r,r,r)});return $traceurRuntime.superCall(this,g.prototype,"moduleProlog",[]).concat(e)},wrapModule:function(e){var t=this.dependencies.map(function(e){return e.path}),s=this.dependencies.map(function(e){return e.local}),a=e.some(d),u=l(r,s,e);return a&&(u=l(n,u,c())),this.moduleName?p(i,this.moduleName,t,u):p(o,t,u)},transformModuleSpecifier:function(e){var t=this.getTempIdentifier();return this.dependencies.push({path:e.token,local:t}),a(t)}},{},s),{get AmdTransformer(){return m}}}),System.register("traceur@0.0.72/src/staticsemantics/PropName",[],function(){"use strict";function e(t){switch(t.type){case i:var l=t.literalToken;return l.isKeyword()||l.type===u?l.toString():String(t.literalToken.processedValue);case r:return"";case a:return t.name.toString();case o:case s:case n:case c:return e(t.name)}}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),r=t.COMPUTED_PROPERTY_NAME,n=t.GET_ACCESSOR,i=t.LITERAL_PROPERTY_NAME,o=t.PROPERTY_METHOD_ASSIGNMENT,s=t.PROPERTY_NAME_ASSIGNMENT,a=t.PROPERTY_NAME_SHORTHAND,c=t.SET_ACCESSOR,u=System.get("traceur@0.0.72/src/syntax/TokenType").IDENTIFIER;return{get propName(){return e}}}),System.register("traceur@0.0.72/src/codegeneration/AnnotationsTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["Object.getOwnPropertyDescriptor(",")"],{raw:{value:Object.freeze(["Object.getOwnPropertyDescriptor(",")"])}})),t=Object.freeze(Object.defineProperties(["Object.defineProperty(",", ",",\n        {get: function() {return ","}});"],{raw:{value:Object.freeze(["Object.defineProperty(",", ",",\n        {get: function() {return ","}});"])}})),r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,n=System.get("traceur@0.0.72/src/syntax/PredefinedName").CONSTRUCTOR,i=System.get("traceur@0.0.72/src/syntax/TokenType").STRING,o=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),s=o.AnonBlock,a=o.ClassDeclaration,c=o.ExportDeclaration,u=o.FormalParameter,l=o.FunctionDeclaration,h=o.GetAccessor,p=o.LiteralExpression,f=o.PropertyMethodAssignment,d=o.SetAccessor,m=System.get("traceur@0.0.72/src/staticsemantics/PropName").propName,g=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),y=g.createArgumentList,v=g.createArrayLiteralExpression,b=(g.createAssignmentStatement,g.createIdentifierExpression),S=g.createMemberExpression,w=g.createNewExpression,_=g.createStringLiteralToken,T=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),E=T.parseExpression,C=T.parseStatement,x=function(){this.className=null,this.isExport=!1,this.constructorParameters=[],this.annotations=[],this.metadata=[]};$traceurRuntime.createClass(x,{get inClassScope(){return null!==this.className}},{});var R=function(){this.stack_=[new x]},A=R;return $traceurRuntime.createClass(R,{transformExportDeclaration:function(e){var t,r=this.pushAnnotationScope_();r.isExport=!0,(t=r.annotations).push.apply(t,$traceurRuntime.spread(e.annotations));var n=this.transformAny(e.declaration);return(n!==e.declaration||e.annotations.length>0)&&(e=new c(e.location,n,[])),this.appendMetadata_(e)},transformClassDeclaration:function(e){var t,r,n=this.scope.isExport?this.scope.annotations:[],i=this.pushAnnotationScope_();return i.className=e.name,(t=i.annotations).push.apply(t,$traceurRuntime.spread(n,e.annotations)),e=$traceurRuntime.superCall(this,A.prototype,"transformClassDeclaration",[e]),(r=i.metadata).unshift.apply(r,$traceurRuntime.spread(this.transformMetadata_(b(e.name),i.annotations,i.constructorParameters))),e.annotations.length>0&&(e=new a(e.location,e.name,e.superClass,e.elements,[])),this.appendMetadata_(e)},transformFunctionDeclaration:function(e){var t,r,n=this.scope.isExport?this.scope.annotations:[],i=this.pushAnnotationScope_();return(t=i.annotations).push.apply(t,$traceurRuntime.spread(n,e.annotations)),(r=i.metadata).push.apply(r,$traceurRuntime.spread(this.transformMetadata_(b(e.name),i.annotations,e.parameterList.parameters))),e=$traceurRuntime.superCall(this,A.prototype,"transformFunctionDeclaration",[e]),e.annotations.length>0&&(e=new l(e.location,e.name,e.functionKind,e.parameterList,e.typeAnnotation,[],e.body)),this.appendMetadata_(e)},transformFormalParameter:function(e){return e.annotations.length>0&&(e=new u(e.location,e.parameter,e.typeAnnotation,[])),$traceurRuntime.superCall(this,A.prototype,"transformFormalParameter",[e])},transformGetAccessor:function(e){var t;return this.scope.inClassScope?((t=this.scope.metadata).push.apply(t,$traceurRuntime.spread(this.transformMetadata_(this.transformAccessor_(e,this.scope.className,"get"),e.annotations,[]))),e.annotations.length>0&&(e=new h(e.location,e.isStatic,e.name,e.typeAnnotation,[],e.body)),$traceurRuntime.superCall(this,A.prototype,"transformGetAccessor",[e])):$traceurRuntime.superCall(this,A.prototype,"transformGetAccessor",[e])},transformSetAccessor:function(e){var t;if(!this.scope.inClassScope)return $traceurRuntime.superCall(this,A.prototype,"transformSetAccessor",[e]);(t=this.scope.metadata).push.apply(t,$traceurRuntime.spread(this.transformMetadata_(this.transformAccessor_(e,this.scope.className,"set"),e.annotations,e.parameterList.parameters)));var r=this.transformAny(e.parameterList);return(r!==e.parameterList||e.annotations.length>0)&&(e=new d(e.location,e.isStatic,e.name,r,[],e.body)),$traceurRuntime.superCall(this,A.prototype,"transformSetAccessor",[e])},transformPropertyMethodAssignment:function(e){var t,r;if(!this.scope.inClassScope)return $traceurRuntime.superCall(this,A.prototype,"transformPropertyMethodAssignment",[e]);e.isStatic||m(e)!==n?(r=this.scope.metadata).push.apply(r,$traceurRuntime.spread(this.transformMetadata_(this.transformPropertyMethod_(e,this.scope.className),e.annotations,e.parameterList.parameters))):((t=this.scope.annotations).push.apply(t,$traceurRuntime.spread(e.annotations)),this.scope.constructorParameters=e.parameterList.parameters);var i=this.transformAny(e.parameterList);return(i!==e.parameterList||e.annotations.length>0)&&(e=new f(e.location,e.isStatic,e.functionKind,e.name,i,e.typeAnnotation,[],e.body)),$traceurRuntime.superCall(this,A.prototype,"transformPropertyMethodAssignment",[e])},appendMetadata_:function(e){var t,r=this.stack_.pop().metadata;return r.length>0&&(this.scope.isExport?(t=this.scope.metadata).push.apply(t,$traceurRuntime.spread(r)):e=new s(null,$traceurRuntime.spread([e],r))),e},transformClassReference_:function(e,t){var r=b(t);return e.isStatic||(r=S(r,"prototype")),r},transformPropertyMethod_:function(e,t){return S(this.transformClassReference_(e,t),e.name.literalToken)},transformAccessor_:function(t,r,n){var i=y([this.transformClassReference_(t,r),this.createLiteralStringExpression_(t.name)]),o=E(e,i);return S(o,n)},transformParameters_:function(e){var t=this,r=!1;return e=e.map(function(e){var n,i=[];return e.typeAnnotation&&i.push(t.transformAny(e.typeAnnotation)),e.annotations&&e.annotations.length>0&&(n=i).push.apply(n,$traceurRuntime.spread(t.transformAnnotations_(e.annotations))),i.length>0?(r=!0,v(i)):v([])}),r?e:[]},transformAnnotations_:function(e){return e.map(function(e){return w(e.name,e.args)})},transformMetadata_:function(e,t,r){var n=[];return null!==t&&(t=this.transformAnnotations_(t),t.length>0&&n.push(this.createDefinePropertyStatement_(e,"annotations",v(t)))),null!==r&&(r=this.transformParameters_(r),r.length>0&&n.push(this.createDefinePropertyStatement_(e,"parameters",v(r)))),n},createDefinePropertyStatement_:function(e,r,n){return C(t,e,r,n)},createLiteralStringExpression_:function(e){var t=e.literalToken;return e.literalToken.type!==i&&(t=_(e.literalToken.value)),new p(null,t)},get scope(){return this.stack_[this.stack_.length-1]},pushAnnotationScope_:function(){var e=new x;return this.stack_.push(e),e}},{},r),{get AnnotationsTransformer(){return R}}}),System.register("traceur@0.0.72/src/semantics/VariableBinder",[],function(){"use strict";function e(e){var t=arguments[1],n=new r(null);n.visitAny(e);var i=n.getScopeForTree(e),o=i.getLexicalBindingNames();if(!t)return o;var s=i.getVariableBindingNames();for(var a in s)o[a]=!0;return o}function t(e){var t=new r(null);t.visitAny(e);var n=t.getScopeForTree(e);return n.getAllBindingNames()}var r=System.get("traceur@0.0.72/src/semantics/ScopeChainBuilder").ScopeChainBuilder;return{get variablesInBlock(){return e},get variablesInFunction(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/ScopeTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/syntax/PredefinedName"),r=t.ARGUMENTS,n=t.THIS,i=System.get("traceur@0.0.72/src/semantics/VariableBinder"),o=i.variablesInBlock,s=i.variablesInFunction,a=function(e){$traceurRuntime.superCall(this,c.prototype,"constructor",[]),this.varName_=e},c=a;return $traceurRuntime.createClass(a,{transformBlock:function(e){return this.varName_ in o(e)?e:$traceurRuntime.superCall(this,c.prototype,"transformBlock",[e])},transformThisExpression:function(e){return this.varName_!==n?e:$traceurRuntime.superCall(this,c.prototype,"transformThisExpression",[e])},transformFunctionDeclaration:function(e){return this.getDoNotRecurse(e)?e:$traceurRuntime.superCall(this,c.prototype,"transformFunctionDeclaration",[e])},transformFunctionExpression:function(e){return this.getDoNotRecurse(e)?e:$traceurRuntime.superCall(this,c.prototype,"transformFunctionExpression",[e])},getDoNotRecurse:function(e){return this.varName_===r||this.varName_===n||this.varName_ in s(e)},transformCatch:function(e){return e.binding.isPattern()||this.varName_!==e.binding.identifierToken.value?$traceurRuntime.superCall(this,c.prototype,"transformCatch",[e]):e}},{},e),{get ScopeTransformer(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/AlphaRenamer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ScopeTransformer").ScopeTransformer,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),r=t.FunctionDeclaration,n=t.FunctionExpression,i=System.get("traceur@0.0.72/src/syntax/PredefinedName").THIS,o=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createIdentifierExpression,s=function(e,t){$traceurRuntime.superCall(this,a.prototype,"constructor",[e]),this.newName_=t},a=s;return $traceurRuntime.createClass(s,{transformIdentifierExpression:function(e){return this.varName_==e.identifierToken.value?o(this.newName_):e},transformThisExpression:function(e){return this.varName_!==i?e:o(this.newName_)},transformFunctionDeclaration:function(e){return this.varName_===e.name&&(e=new r(e.location,this.newName_,e.functionKind,e.parameterList,e.typeAnnotation,e.annotations,e.body)),$traceurRuntime.superCall(this,a.prototype,"transformFunctionDeclaration",[e])},transformFunctionExpression:function(e){return this.varName_===e.name&&(e=new n(e.location,this.newName_,e.functionKind,e.parameterList,e.typeAnnotation,e.annotations,e.body)),$traceurRuntime.superCall(this,a.prototype,"transformFunctionExpression",[e])}},{rename:function(e,t,r){return new a(t,r).transformAny(e)}},e),{get AlphaRenamer(){return s}}}),System.register("traceur@0.0.72/src/codegeneration/alphaRenameThisAndArguments",[],function(){"use strict";function e(e,t){var o=new s(t);if(o.foundArguments){var a=e.addTempVarForArguments();t=i.rename(t,r,a)}if(o.foundThis){var c=e.addTempVarForThis();t=i.rename(t,n,c)}return t}var t=System.get("traceur@0.0.72/src/syntax/PredefinedName"),r=t.ARGUMENTS,n=t.THIS,i=System.get("traceur@0.0.72/src/codegeneration/AlphaRenamer").AlphaRenamer,o=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,s=function(e){this.foundThis=!1,this.foundArguments=!1,$traceurRuntime.superCall(this,a.prototype,"constructor",[e])},a=s;$traceurRuntime.createClass(s,{visitThisExpression:function(e){this.foundThis=!0,this.found=this.foundArguments},visitIdentifierExpression:function(e){e.identifierToken.value===r&&(this.foundArguments=!0,this.found=this.foundThis)}},{},o);var c=e;return{get default(){return c}}}),System.register("traceur@0.0.72/src/codegeneration/ComprehensionTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/alphaRenameThisAndArguments")["default"],t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").FunctionExpression,r=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,n=System.get("traceur@0.0.72/src/syntax/TokenType"),i=n.LET,o=n.STAR,s=n.VAR,a=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),c=a.COMPREHENSION_FOR,u=a.COMPREHENSION_IF,l=System.get("traceur@0.0.72/src/syntax/Token").Token,h=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),p=h.createCallExpression,f=h.createEmptyParameterList,d=h.createForOfStatement,m=h.createFunctionBody,g=h.createIfStatement,y=h.createParenExpression,v=h.createVariableDeclarationList,b=System.get("traceur@0.0.72/src/Options").options,S=function(){$traceurRuntime.defaultSuperCall(this,w.prototype,arguments)},w=S;return $traceurRuntime.createClass(S,{transformComprehension:function(r,n,a){for(var h=arguments[3],S=arguments[4],w=a||!b.blockBinding?s:i,_=h?[h]:[],T=r.comprehensionList.length-1;T>=0;T--){var E=r.comprehensionList[T];switch(E.type){case u:var C=this.transformAny(E.expression);n=g(C,n);break;case c:var x=this.transformAny(E.left),R=this.transformAny(E.iterator),A=v(w,x,null);n=d(A,R,n);break;default:throw new Error("Unreachable.")}}n=e(this,n),_.push(n),S&&_.push(S);var O=a?new l(o,null):null,j=new t(null,null,O,f(),null,[],m(_));return y(p(j))}},{},r),{get ComprehensionTransformer(){return S}}}),System.register("traceur@0.0.72/src/codegeneration/ArrayComprehensionTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["var "," = 0, "," = [];"],{raw:{value:Object.freeze(["var "," = 0, "," = [];"])}})),t=Object.freeze(Object.defineProperties(["","[","++] = ",";"],{raw:{value:Object.freeze(["","[","++] = ",";"])}})),r=Object.freeze(Object.defineProperties(["return ",";"],{raw:{value:Object.freeze(["return ",";"])}})),n=System.get("traceur@0.0.72/src/codegeneration/ComprehensionTransformer").ComprehensionTransformer,i=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createIdentifierExpression,o=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,s=function(){$traceurRuntime.defaultSuperCall(this,a.prototype,arguments)},a=s;return $traceurRuntime.createClass(s,{transformArrayComprehension:function(n){this.pushTempScope();var s=this.transformAny(n.expression),a=i(this.getTempIdentifier()),c=i(this.getTempIdentifier()),u=o(e,a,c),l=o(t,c,a,s),h=o(r,c),p=null,c=this.transformComprehension(n,l,p,u,h);return this.popTempScope(),c}},{},n),{get ArrayComprehensionTransformer(){return s}}}),System.register("traceur@0.0.72/src/codegeneration/ArrowFunctionTransformer",[],function(){"use strict";function e(e){return e.type!==n?s([c(e)]):e}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").FunctionExpression,r=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,n=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType").FUNCTION_BODY,i=System.get("traceur@0.0.72/src/codegeneration/alphaRenameThisAndArguments")["default"],o=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),s=o.createFunctionBody,a=o.createParenExpression,c=o.createReturnStatement,u=function(){$traceurRuntime.defaultSuperCall(this,l.prototype,arguments)},l=u;return $traceurRuntime.createClass(u,{transformArrowFunctionExpression:function(r){var n=i(this,r),o=this.transformAny(n.parameterList),s=this.transformAny(n.body);s=e(s);var c=new t(r.location,null,r.functionKind,o,null,[],s);return a(c)}},{transform:function(r,n){n=i(r,n);var o=e(n.body);return new t(n.location,null,n.functionKind,n.parameterList,null,[],o)}},r),{get ArrowFunctionTransformer(){return u}}}),System.register("traceur@0.0.72/src/codegeneration/FindIdentifiers",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/semantics/ScopeVisitor").ScopeVisitor,t=function(e,t){$traceurRuntime.superCall(this,r.prototype,"constructor",[]),this.filterFunction_=t,this.found_=!1,this.visitAny(e)},r=t;return $traceurRuntime.createClass(t,{visitIdentifierExpression:function(e){this.filterFunction_(e.identifierToken.value,this.scope.tree)&&(this.found=!0)},get found(){return this.found_},set found(e){e&&(this.found_=!0)},visitAny:function(e){!this.found_&&e&&e.visit(this)},visitList:function(e){if(e)for(var t=0;!this.found_&&t<e.length;t++)this.visitAny(e[t])}},{},e),{get FindIdentifiers(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/FnExtractAbruptCompletions",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["if (typeof ",' === "object")\n            return ',".v;"],{raw:{value:Object.freeze(["if (typeof ",' === "object")\n            return ',".v;"])}})),t=Object.freeze(Object.defineProperties(["return ",";"],{raw:{value:Object.freeze(["return ",";"])}})),r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,n=System.get("traceur@0.0.72/src/codegeneration/alphaRenameThisAndArguments")["default"],i=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,o=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),s=o.AnonBlock,a=o.BreakStatement,c=o.ContinueStatement,u=o.FormalParameterList,l=o.ReturnStatement,h=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),p=h.createArgumentList,f=h.createAssignmentStatement,d=h.createAssignmentExpression,m=h.createBlock,g=h.createCallExpression,y=h.createCaseClause,v=h.createDefaultClause,b=h.createExpressionStatement,S=h.createFunctionBody,w=h.createFunctionExpression,_=h.createIdentifierExpression,T=h.createNumberLiteral,E=h.createObjectLiteral,C=h.createSwitchStatement,x=h.createThisExpression,R=h.createVariableDeclaration,A=h.createVariableDeclarationList,O=h.createVariableStatement,j=h.createVoid0,k=System.get("traceur@0.0.72/src/syntax/PredefinedName").ARGUMENTS,P=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,I=function(e,t){this.idGenerator_=e,this.inLoop_=0,this.inBreakble_=0,this.variableDeclarations_=[],this.extractedStatements_=[],this.requestParentLabel_=t,this.labelledStatements_={}},L=I;return $traceurRuntime.createClass(I,{createIIFE:function(t,r,o){t=this.transformAny(t),t=n(this,t);var s=this.idGenerator_.generateUniqueIdentifier(),a=w(new u(null,r),S(t.statements||[t]));this.variableDeclarations_.push(R(s,a));var c=g(_(s),p(o)),l=null;if(this.extractedStatements_.length||this.hasReturns){var h=_(this.idGenerator_.generateUniqueIdentifier());this.variableDeclarations_.push(R(h,null));var f;if(this.hasReturns&&(f=i(e,h,h)),this.extractedStatements_.length){var E=this.extractedStatements_.map(function(e,t){return y(T(t),[e])});f&&E.push(v([f])),l=m([b(d(h,c)),C(h,E)])}else l=m([b(d(h,c)),f])}else l=m([b(c)]);return{variableStatements:O(A(P,this.variableDeclarations_)),loopBody:l}},addTempVarForArguments:function(){var e=this.idGenerator_.generateUniqueIdentifier();return this.variableDeclarations_.push(R(e,_(k))),e},addTempVarForThis:function(){var e=this.idGenerator_.generateUniqueIdentifier();return this.variableDeclarations_.push(R(e,x())),e},transformAny:function(e){return e&&(e.isBreakableStatement()&&this.inBreakble_++,e.isIterationStatement()&&this.inLoop_++,e=$traceurRuntime.superCall(this,L.prototype,"transformAny",[e]),e.isBreakableStatement()&&this.inBreakble_--,e.isIterationStatement()&&this.inLoop_--),e},transformReturnStatement:function(e){return this.hasReturns=!0,new l(e.location,E({v:e.expression||j()}))},transformAbruptCompletion_:function(e){this.extractedStatements_.push(e);var r=this.extractedStatements_.length-1;return i(t,r)},transformBreakStatement:function(e){if(e.name){if(this.labelledStatements_[e.name])return $traceurRuntime.superCall(this,L.prototype,"transformBreakStatement",[e])}else{if(this.inBreakble_)return $traceurRuntime.superCall(this,L.prototype,"transformBreakStatement",[e]);e=new a(e.location,this.requestParentLabel_())}return this.transformAbruptCompletion_(e)},transformContinueStatement:function(e){if(e.name){if(this.labelledStatements_[e.name])return $traceurRuntime.superCall(this,L.prototype,"transformContinueStatement",[e])}else{if(this.inLoop_)return $traceurRuntime.superCall(this,L.prototype,"transformContinueStatement",[e]);e=new c(e.location,this.requestParentLabel_())}return this.transformAbruptCompletion_(e)},transformLabelledStatement:function(e){return this.labelledStatements_[e.name]=!0,$traceurRuntime.superCall(this,L.prototype,"transformLabelledStatement",[e])},transformVariableStatement:function(e){var t=this,r=this;if(e.declarations.declarationType===P){var n=[];return e.declarations.declarations.forEach(function(e){var i=e.lvalue.getStringValue(),o=$traceurRuntime.superCall(t,L.prototype,"transformAny",[e.initializer]);r.variableDeclarations_.push(R(i,null)),n.push(f(_(i),o))}),new s(null,n)}return $traceurRuntime.superCall(this,L.prototype,"transformVariableStatement",[e])},transformFunctionDeclaration:function(e){return e},transformFunctionExpression:function(e){return e},transformSetAccessor:function(e){return e},transformGetAccessor:function(e){return e},transformPropertyMethodAssignment:function(e){return e},transformArrowFunctionExpression:function(e){return e}},{createIIFE:function(e,t,r,n,i){return new L(e,i).createIIFE(t,r,n)}},r),{get FnExtractAbruptCompletions(){return I}}}),System.register("traceur@0.0.72/src/codegeneration/BlockBindingTransformer",[],function(){"use strict";function e(e,r){return e.forEach(function(e){r=t.rename(r,e.oldName,e.newName)}),r}var t=System.get("traceur@0.0.72/src/codegeneration/AlphaRenamer").AlphaRenamer,r=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),n=r.ANON_BLOCK,i=r.BINDING_IDENTIFIER,o=r.VARIABLE_DECLARATION_LIST,s=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),a=s.AnonBlock,c=s.BindingElement,u=s.BindingIdentifier,l=s.Block,h=s.Catch,p=s.DoWhileStatement,f=s.ForInStatement,d=s.ForStatement,m=s.FormalParameter,g=s.FunctionBody,y=s.FunctionExpression,v=s.LabelledStatement,b=s.LiteralPropertyName,S=s.Module,w=s.ObjectPatternField,_=s.Script,T=s.VariableDeclaration,E=s.VariableDeclarationList,C=s.VariableStatement,x=s.WhileStatement,R=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,A=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,O=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),j=O.createBindingIdentifier,k=O.createIdentifierExpression,P=O.createIdentifierToken,I=System.get("traceur@0.0.72/src/codegeneration/FindIdentifiers").FindIdentifiers,L=System.get("traceur@0.0.72/src/codegeneration/FindVisitor").FindVisitor,N=System.get("traceur@0.0.72/src/codegeneration/FnExtractAbruptCompletions").FnExtractAbruptCompletions,D=System.get("traceur@0.0.72/src/semantics/ScopeChainBuilder").ScopeChainBuilder,M=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,F=function(e,t,r){var n=arguments[3],i=arguments[4];$traceurRuntime.superCall(this,B.prototype,"constructor",[]),this.idGenerator_=e,this.reporter_=t,n||(n=new D(t),n.visitAny(r)),this.scopeBuilder_=n,this.labelledLoops_=new Map,this.prependStatement_=[],this.prependBlockStatement_=[],this.blockRenames_=[],this.rootTree_=r,i?this.scope_=i:this.pushScope(r),this.usedVars_=this.scope_.getAllBindingNames(),this.maybeRename_=!1,this.inObjectPattern_=!1},B=F;$traceurRuntime.createClass(F,{getVariableName_:function(e){var t=e.lvalue;if(t.type==i)return t.getStringValue();throw new Error("Unexpected destructuring declaration found.")},flushRenames:function(t){return t=e(this.blockRenames_,t),this.blockRenames_.length=0,t},pushScope:function(e){var t=this.scopeBuilder_.getScopeForTree(e);if(!t)throw new Error("BlockBindingTransformer tree with no scope");return this.scope_&&(this.scope_.blockBindingRenames=this.blockRenames_),this.scope_=t,this.blockRenames_=[],t},popScope:function(e){if(this.scope_!=e)throw new Error("BlockBindingTransformer scope mismatch");this.scope_=e.parent,this.blockRenames_=this.scope_&&this.scope_.blockBindingRenames||[]},revisitTreeForScopes:function(e){this.scopeBuilder_.scope=this.scope_,this.scopeBuilder_.visitAny(e),this.scopeBuilder_.scope=null},needsRename_:function(e){if(this.usedVars_[e])return!0;var t=this.scope_,r=t.parent;if(!r||t.isVarScope)return!1;var n=r.getBindingByName(e);if(!n)return!1;var i=t.getBindingByName(e);return i.tree===n.tree?!1:!0},newNameFromOrig:function(e,t){var r;return this.needsRename_(e)?(r=e+this.idGenerator_.generateUniqueIdentifier(),t.push(new H(e,r))):(this.usedVars_[e]=!0,r=e),r},transformFunctionBody:function(e){if(e!==this.rootTree_&&this.rootTree_){var t=new B(this.idGenerator_,this.reporter_,e,this.scopeBuilder_,this.scope_),r=t.transformAny(e);if(r===e)return e;e=new g(e.location,r.statements)}else if(e=$traceurRuntime.superCall(this,B.prototype,"transformFunctionBody",[e]),this.prependStatement_.length||this.blockRenames_.length){var n=M.apply(null,$traceurRuntime.spread([e.statements],this.prependStatement_));e=new g(e.location,n),e=this.flushRenames(e)}return e},transformScript:function(e){if(e!==this.rootTree_&&this.rootTree_){var t=new B(this.idGenerator_,this.reporter_,e,this.scopeBuilder_),r=t.transformAny(e);if(r===e)return e;e=new _(e.location,r.scriptItemList,e.moduleName)}else if(e=$traceurRuntime.superCall(this,B.prototype,"transformScript",[e]),this.prependStatement_.length||this.blockRenames_.length){var n=M.apply(null,$traceurRuntime.spread([e.scriptItemList],this.prependStatement_));e=new _(e.location,n,e.moduleName),e=this.flushRenames(e)}return e},transformModule:function(e){if(e!==this.rootTree_&&this.rootTree_){var t=new B(this.idGenerator_,this.reporter_,e,this.scopeBuilder_),r=t.transformAny(e);if(r===e)return e;e=new S(e.location,r.scriptItemList,e.moduleName)}else if(e=$traceurRuntime.superCall(this,B.prototype,"transformModule",[e]),this.prependStatement_.length||this.blockRenames_.length){var n=M.apply(null,$traceurRuntime.spread([e.scriptItemList],this.prependStatement_));e=new S(e.location,n,e.moduleName),e=this.flushRenames(e)}return e},transformVariableStatement:function(e){var t=this.transformAny(e.declarations);return t.type===n?t:t===e.declarations?e:new C(e.location,t)},transformVariableDeclarationList:function(e){if(e.declarationType===A)return $traceurRuntime.superCall(this,B.prototype,"transformVariableDeclarationList",[e]);this.maybeRename_=!this.scope_.isVarScope;var t=this.transformList(e.declarations);return this.maybeRename_=!1,new E(e.location,A,t)},transformVariableDeclaration:function(e){var t=this.maybeRename_,r=this.transformAny(e.lvalue);this.maybeRename_=!1;var n=this.transformAny(e.initializer);return this.maybeRename_=t,e.lvalue===r&&e.initializer===n?e:new T(e.location,r,e.typeAnnotation,n)},transformBindingIdentifier:function(e){if(this.maybeRename_){var t=e.getStringValue(),r=this.newNameFromOrig(t,this.blockRenames_);if(t===r)return e;var n=new u(e.location,r);return this.scope_.renameBinding(t,n,A,this.reporter_),n}return $traceurRuntime.superCall(this,B.prototype,"transformBindingIdentifier",[e])},transformBindingElement:function(e){var t=this.maybeRename_,r=this.inObjectPattern_,n=this.transformAny(e.binding);this.maybeRename_=!1,this.inObjectPattern_=!1;var o=this.transformAny(e.initializer);if(this.maybeRename_=t,this.inObjectPattern_=r,e.binding===n&&e.initializer===o)return e;var s=new c(e.location,n,o);return this.inObjectPattern_&&e.binding!==n&&e.binding.type===i?new w(e.location,new b(e.location,e.binding.identifierToken),s):s},transformObjectPattern:function(e){var t=this.inObjectPattern_;this.inObjectPattern_=!0;var r=$traceurRuntime.superCall(this,B.prototype,"transformObjectPattern",[e]);return this.inObjectPattern_=t,r},transformObjectPatternField:function(e){var t=this.transformAny(e.name);this.inObjectPattern_=!1;var r=this.transformAny(e.element);return this.inObjectPattern_=!0,e.name===t&&e.element===r?e:new w(e.location,t,r)},transformBlock:function(e){var t=this.pushScope(e);return e=$traceurRuntime.superCall(this,B.prototype,"transformBlock",[e]),this.prependBlockStatement_.length&&(e=new l(e.location,M.apply(null,$traceurRuntime.spread([e.statements],this.prependBlockStatement_))),this.prependBlockStatement_=[]),e=this.flushRenames(e),this.popScope(t),e},transformCatch:function(e){var t=this.pushScope(e),r=this.transformAny(e.binding),n=this.transformList(e.catchBody.statements);return(r!==e.binding||n!==e.catchBody.statements)&&(e=new h(e.location,r,new l(e.catchBody.location,n))),e=this.flushRenames(e),this.popScope(t),e},transformFunctionForScope_:function(e,t){var r=this.pushScope(t);return t=e(),t=this.flushRenames(t),this.popScope(r),t},transformGetAccessor:function(e){var t=this;return this.transformFunctionForScope_(function(){return $traceurRuntime.superCall(t,B.prototype,"transformGetAccessor",[e])},e)},transformSetAccessor:function(e){var t=this;return this.transformFunctionForScope_(function(){return $traceurRuntime.superCall(t,B.prototype,"transformSetAccessor",[e])},e)},transformFunctionExpression:function(e){var t=this;return this.transformFunctionForScope_(function(){return $traceurRuntime.superCall(t,B.prototype,"transformFunctionExpression",[e])},e)},transformFunctionDeclaration:function(e){var t=this;if(!this.scope_.isVarScope){var r=e.name.getStringValue(),n=this.newNameFromOrig(r,this.blockRenames_),i=new y(e.location,null,e.functionKind,e.parameterList,e.typeAnnotation,e.annotations,e.body);
this.revisitTreeForScopes(i),i=this.transformAny(i);var o=j(n),s=new C(e.location,new E(e.location,A,[new T(e.location,o,null,i)]));return this.scope_.renameBinding(r,o,A,this.reporter_),this.prependBlockStatement_.push(s),new a(null,[])}return this.transformFunctionForScope_(function(){return $traceurRuntime.superCall(t,B.prototype,"transformFunctionDeclaration",[e])},e)},transformLoop_:function(t,r,n){var i,s,u=this;r.initializer&&r.initializer.type===o&&r.initializer.declarationType!==A&&(s=!0),s&&(i=this.pushScope(r));var l=new $(r,this.scopeBuilder_);if(l.found){var h=[],p=[],f=[],d=null;r.initializer&&r.initializer.type===o&&r.initializer.declarationType!==A?(d=new E(null,A,r.initializer.declarations.map(function(e){var t=u.getVariableName_(e),r=u.newNameFromOrig(t,f);p.push(k(r)),h.push(new m(null,new c(null,j(t),null),null,[]));var n=j(r);return u.scope_.renameBinding(t,n,A,u.reporter_),new T(null,n,null,e.initializer)})),d=e(f,d)):d=this.transformAny(r.initializer);var g=this.labelledLoops_.get(r),y=N.createIIFE(this.idGenerator_,r.body,h,p,function(){return g=g||u.idGenerator_.generateUniqueIdentifier()});r=n(d,f,y.loopBody),g&&(r=new v(r.location,P(g),r)),r=new a(r.location,[y.variableStatements,r]),this.revisitTreeForScopes(r),r=this.transformAny(r)}else{if(!s)return t(r);var f=[],d=new E(null,A,r.initializer.declarations.map(function(e){var t=u.getVariableName_(e),r=u.newNameFromOrig(t,f),n=j(r);return u.scope_.renameBinding(t,n,A,u.reporter_),new T(null,n,null,e.initializer)}));d=e(f,d),r=n(d,f,e(f,r.body)),this.revisitTreeForScopes(r),r=t(r)}return s&&(r=this.flushRenames(r),this.popScope(i)),r},transformForInStatement:function(t){var r=this;return this.transformLoop_(function(e){return $traceurRuntime.superCall(r,B.prototype,"transformForInStatement",[e])},t,function(r,n,i){return new f(t.location,r,e(n,t.collection),i)})},transformForStatement:function(t){var r=this;return this.transformLoop_(function(e){return $traceurRuntime.superCall(r,B.prototype,"transformForStatement",[e])},t,function(r,n,i){return new d(t.location,r,e(n,t.condition),e(n,t.increment),i)})},transformWhileStatement:function(t){var r=this;return this.transformLoop_(function(e){return $traceurRuntime.superCall(r,B.prototype,"transformWhileStatement",[e])},t,function(r,n,i){return new x(t.location,e(n,t.condition),i)})},transformDoWhileStatement:function(t){var r=this;return this.transformLoop_(function(e){return $traceurRuntime.superCall(r,B.prototype,"transformDoWhileStatement",[e])},t,function(r,n,i){return new p(t.location,i,e(n,t.condition))})},transformLabelledStatement:function(e){if(e.statement.isIterationStatement()){this.labelledLoops_.set(e.statement,e.name.value);var t=this.transformAny(e.statement);return t.isStatement()?t===e.statement?e:new v(e.location,e.name,t):t}return $traceurRuntime.superCall(this,B.prototype,"transformLabelledStatement",[e])}},{},R);var H=function(e,t){this.oldName=e,this.newName=t};$traceurRuntime.createClass(H,{},{});var $=function(e,t){this.scopeBuilder_=t,this.topScope_=t.getScopeForTree(e)||t.getScopeForTree(e.body),this.outOfScope_=null,this.acceptLoop_=e.isIterationStatement(),$traceurRuntime.superCall(this,V.prototype,"constructor",[e,!1])},V=$;return $traceurRuntime.createClass($,{visitForInStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,V.prototype,"visitForInStatement",[e])})},visitForStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,V.prototype,"visitForStatement",[e])})},visitWhileStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,V.prototype,"visitWhileStatement",[e])})},visitDoWhileStatement:function(e){var t=this;this.visitLoop_(e,function(){return $traceurRuntime.superCall(t,V.prototype,"visitDoWhileStatement",[e])})},visitLoop_:function(e,t){this.acceptLoop_?this.acceptLoop_=!1:this.outOfScope_||(this.outOfScope_=this.scopeBuilder_.getScopeForTree(e)||this.scopeBuilder_.getScopeForTree(e.body)),t()},visitFunctionDeclaration:function(e){this.visitFunction_(e)},visitFunctionExpression:function(e){this.visitFunction_(e)},visitSetAccessor:function(e){this.visitFunction_(e)},visitGetAccessor:function(e){this.visitFunction_(e)},visitPropertyMethodAssignment:function(e){this.visitFunction_(e)},visitArrowFunctionExpression:function(e){this.visitFunction_(e)},visitFunction_:function(e){var t=this;this.found=new I(e,function(r,n){n=t.scopeBuilder_.getScopeForTree(n);var i=t.outOfScope_||t.scopeBuilder_.getScopeForTree(e);if(n.hasLexicalBindingName(r))return!1;for(;n!==i&&(n=n.parent);)if(n.hasLexicalBindingName(r))return!1;for(;i=i.parent;){if(i.hasLexicalBindingName(r))return!0;if(i===t.topScope_)break}return!1}).found}},{},L),{get BlockBindingTransformer(){return F}}}),System.register("traceur@0.0.72/src/codegeneration/MakeStrictTransformer",[],function(){"use strict";function e(e){return $traceurRuntime.spread([o()],e)}var t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),r=t.FunctionBody,n=t.Script,i=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,o=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createUseStrictDirective,s=System.get("traceur@0.0.72/src/semantics/util").hasUseStrict,a=function(){$traceurRuntime.defaultSuperCall(this,c.prototype,arguments)},c=a;return $traceurRuntime.createClass(a,{transformScript:function(t){return s(t.scriptItemList)?t:new n(t.location,e(t.scriptItemList))},transformFunctionBody:function(t){return s(t.statements)?t:new r(t.location,e(t.statements))}},{transformTree:function(e){return(new c).transformAny(e)}},i),{get MakeStrictTransformer(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/assignmentOperatorToBinaryOperator",[],function(){"use strict";function e(e){switch(e){case w:return S;case T:return _;case b:return v;case f:return p;case m:return d;case h:return l;case u:return c;case y:return g;case C:return E;case n:return r;case a:return s;case o:return i;default:throw Error("unreachable")}}var t=System.get("traceur@0.0.72/src/syntax/TokenType"),r=t.AMPERSAND,n=t.AMPERSAND_EQUAL,i=t.BAR,o=t.BAR_EQUAL,s=t.CARET,a=t.CARET_EQUAL,c=t.LEFT_SHIFT,u=t.LEFT_SHIFT_EQUAL,l=t.MINUS,h=t.MINUS_EQUAL,p=t.PERCENT,f=t.PERCENT_EQUAL,d=t.PLUS,m=t.PLUS_EQUAL,g=t.RIGHT_SHIFT,y=t.RIGHT_SHIFT_EQUAL,v=t.SLASH,b=t.SLASH_EQUAL,S=t.STAR,w=t.STAR_EQUAL,_=t.STAR_STAR,T=t.STAR_STAR_EQUAL,E=t.UNSIGNED_RIGHT_SHIFT,C=t.UNSIGNED_RIGHT_SHIFT_EQUAL,x=e;return{get default(){return x}}}),System.register("traceur@0.0.72/src/codegeneration/ExplodeExpressionTransformer",[],function(){"use strict";function e(e){return e.type===_?e.expressions[e.expressions.length-1]:e}function t(e){return e.type===_?e.expressions.slice(0,-1):[]}var r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,n=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),i=n.createAssignmentExpression,o=n.createCommaExpression,s=n.createIdentifierExpression,a=n.createMemberExpression,c=n.createNumberLiteral,u=n.createOperatorToken,l=n.createParenExpression,h=System.get("traceur@0.0.72/src/syntax/TokenType"),p=h.AND,f=h.EQUAL,d=h.MINUS,m=h.MINUS_EQUAL,g=h.MINUS_MINUS,y=h.OR,v=h.PLUS,b=h.PLUS_EQUAL,S=h.PLUS_PLUS,w=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),_=w.COMMA_EXPRESSION,T=w.IDENTIFIER_EXPRESSION,E=w.MEMBER_EXPRESSION,C=w.MEMBER_LOOKUP_EXPRESSION,x=w.PROPERTY_NAME_ASSIGNMENT,R=w.SPREAD_EXPRESSION,A=w.TEMPLATE_LITERAL_PORTION,O=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),j=O.ArgumentList,k=O.ArrayLiteralExpression,P=O.AwaitExpression,I=O.BinaryExpression,L=O.CallExpression,N=O.ConditionalExpression,D=O.MemberExpression,M=O.MemberLookupExpression,F=O.NewExpression,B=O.ObjectLiteralExpression,H=O.PropertyNameAssignment,$=O.SpreadExpression,V=O.TemplateLiteralExpression,U=O.TemplateSubstitution,z=O.UnaryExpression,W=O.YieldExpression,G=System.get("traceur@0.0.72/src/util/assert").assert,q=System.get("traceur@0.0.72/src/codegeneration/assignmentOperatorToBinaryOperator")["default"],Y=function(e){this.tempVar=e,this.expressions=[]};$traceurRuntime.createClass(Y,{add:function(e){var r;return e.type===_&&(r=this.expressions).push.apply(r,$traceurRuntime.spread(t(e))),this},build:function(e){var t=this.tempVar;return this.expressions.push(i(t,e),t),o(this.expressions)}},{});var X=function(e){$traceurRuntime.superCall(this,K.prototype,"constructor",[]),this.tempVarTransformer_=e},K=X;return $traceurRuntime.createClass(X,{addTempVar:function(){var e=this.tempVarTransformer_.addTempVar();return s(e)},transformUnaryExpression:function(r){if(r.operator.type==S)return this.transformUnaryNumeric(r,b);if(r.operator.type==g)return this.transformUnaryNumeric(r,m);var n=this.transformAny(r.operand);if(n===r.operand)return r;var i=$traceurRuntime.spread(t(n),[new z(r.location,r.operator,e(n))]);return o(i)},transformUnaryNumeric:function(e,t){return this.transformAny(new I(e.location,e.operand,u(t),c(1)))},transformPostfixExpression:function(e){if(e.operand.type===E)return this.transformPostfixMemberExpression(e);if(e.operand.type===C)return this.transformPostfixMemberLookupExpression(e);G(e.operand.type===T);var t=e.operand,r=this.addTempVar(),n=e.operator.type===S?v:d,s=[i(r,t),i(t,new I(e.location,r,u(n),c(1))),r];return o(s)},transformPostfixMemberExpression:function(r){var n=r.operand.memberName,s=this.transformAny(r.operand.operand),a=this.addTempVar(),l=new D(r.operand.location,e(s),n),h=r.operator.type===S?v:d,p=$traceurRuntime.spread(t(s),[i(a,l),i(l,new I(r.location,a,u(h),c(1))),a]);return o(p)},transformPostfixMemberLookupExpression:function(r){var n=this.transformAny(r.operand.memberExpression),s=this.transformAny(r.operand.operand),a=this.addTempVar(),l=new M(null,e(s),e(n)),h=r.operator.type===S?v:d,p=$traceurRuntime.spread(t(s),t(n),[i(a,l),i(l,new I(r.location,a,u(h),c(1))),a]);return o(p)},transformYieldExpression:function(t){var r=this.transformAny(t.expression);return this.createCommaExpressionBuilder().add(r).build(new W(t.location,e(r),t.isYieldFor))},transformAwaitExpression:function(t){var r=this.transformAny(t.expression);return this.createCommaExpressionBuilder().add(r).build(new P(t.location,e(r)))},transformParenExpression:function(t){var r=this.transformAny(t.expression);if(r===t.expression)return t;var n=e(r);return n.type===T?r:this.createCommaExpressionBuilder().add(r).build(n)},transformCommaExpression:function(t){var r=this.transformList(t.expressions);if(r===t.expressions)return t;for(var n=new Y(null),i=0;i<r.length;i++)n.add(r[i]);return o($traceurRuntime.spread(n.expressions,[e(r[r.length-1])]))},transformMemberExpression:function(t){var r=this.transformAny(t.operand);return this.createCommaExpressionBuilder().add(r).build(new D(t.location,e(r),t.memberName))},transformMemberLookupExpression:function(t){var r=this.transformAny(t.operand),n=this.transformAny(t.memberExpression);return this.createCommaExpressionBuilder().add(r).add(n).build(new M(t.location,e(r),e(n)))},transformBinaryExpression:function(r){if(r.operator.isAssignmentOperator())return this.transformAssignmentExpression(r);var n=this.transformAny(r.left),i=this.transformAny(r.right);if(n===r.left&&i===r.right)return r;if(r.operator.type===y)return this.transformOr(n,i);if(r.operator.type===p)return this.transformAnd(n,i);var s=$traceurRuntime.spread(t(n),t(i),[new I(r.location,e(n),r.operator,e(i))]);return o(s)},transformAssignmentExpression:function(r){var n=r.left;if(n.type===E)return this.transformAssignMemberExpression(r);if(n.type===C)return this.transformAssignMemberLookupExpression(r);if(G(r.left.type===T),r.operator.type===f){var n=this.transformAny(n),s=this.transformAny(r.right),a=$traceurRuntime.spread(t(s),[i(n,e(s)),e(s)]);return o(a)}var s=this.transformAny(r.right),c=this.addTempVar(),l=u(q(r.operator.type)),a=$traceurRuntime.spread(t(s),[i(c,new I(r.location,n,l,e(s))),i(n,c),c]);return o(a)},transformAssignMemberExpression:function(r){var n=r.left;if(r.operator.type===f){var s=this.transformAny(n.operand),a=this.transformAny(r.right),c=$traceurRuntime.spread(t(s),t(a),[new I(r.location,new D(n.location,e(s),n.memberName),r.operator,e(a)),e(a)]);return o(c)}var s=this.transformAny(n.operand),a=this.transformAny(r.right),l=this.addTempVar(),h=new D(n.location,e(s),n.memberName),p=this.addTempVar(),d=u(q(r.operator.type)),c=$traceurRuntime.spread(t(s),t(a),[i(l,h),i(p,new I(r.location,l,d,e(a))),i(h,p),p]);return o(c)},transformAssignMemberLookupExpression:function(r){var n=r.left;if(r.operator.type===f){var s=this.transformAny(n.operand),a=this.transformAny(n.memberExpression),c=this.transformAny(r.right),l=$traceurRuntime.spread(t(s),t(a),t(c),[new I(r.location,new M(n.location,e(s),e(a)),r.operator,e(c)),e(c)]);return o(l)}var s=this.transformAny(n.operand),a=this.transformAny(n.memberExpression),c=this.transformAny(r.right),h=this.addTempVar(),p=new M(n.location,e(s),e(a)),d=this.addTempVar(),m=u(q(r.operator.type)),l=$traceurRuntime.spread(t(s),t(a),t(c),[i(h,p),i(d,new I(r.location,h,m,e(c))),i(p,d),d]);return o(l)},transformArrayLiteralExpression:function(t){var r=this.transformList(t.elements);if(r===t.elements)return t;for(var n=this.createCommaExpressionBuilder(),i=[],o=0;o<r.length;o++)n.add(r[o]),i.push(e(r[o]));return n.build(new k(t.location,i))},transformObjectLiteralExpression:function(t){var r=this.transformList(t.propertyNameAndValues);if(r===t.propertyNameAndValues)return t;for(var n=this.createCommaExpressionBuilder(),i=[],o=0;o<r.length;o++)r[o].type===x?(n.add(r[o].value),i.push(new H(r[o].location,r[o].name,e(r[o].value)))):i.push(r[o]);return n.build(new B(t.location,i))},transformTemplateLiteralExpression:function(t){var r=this.transformAny(t.operand),n=this.transformList(t.elements);if(!r&&r===t.operand&&n===t.elements)return t;var i=this.createCommaExpressionBuilder();r&&i.add(r);for(var o=[],s=0;s<n.length;s++)if(n[s].type===A)o.push(n[s]);else{var a=n[s].expression;i.add(a);var c=e(a);o.push(new U(a.location,c))}return i.build(new V(t.location,r&&e(r),o))},transformCallExpression:function(e){return e.operand.type===E?this.transformCallMemberExpression(e):e.operand.type===C?this.transformCallMemberLookupExpression(e):this.transformCallAndNew_(e,L)},transformNewExpression:function(e){return this.transformCallAndNew_(e,F)},transformCallAndNew_:function(t,r){var n=this.transformAny(t.operand),i=this.transformAny(t.args),o=this.createCommaExpressionBuilder().add(n),s=[];return i.args.forEach(function(t){o.add(t),s.push(e(t))}),o.build(new r(t.location,e(n),new j(i.location,s)))},transformCallMemberExpression:function(r){var n=r.operand.memberName,s=this.transformAny(r.operand.operand),c=this.addTempVar(),u=new D(r.operand.location,e(s),n),l=this.transformAny(r.args),h=$traceurRuntime.spread(t(s),[i(c,u)]),p=[e(s)];l.args.forEach(function(r){var n;(n=h).push.apply(n,$traceurRuntime.spread(t(r))),p.push(e(r))});var f=new L(r.location,a(c,"call"),new j(l.location,p)),d=this.addTempVar();return h.push(i(d,f),d),o(h)},transformCallMemberLookupExpression:function(r){var n=this.transformAny(r.operand.operand),s=this.transformAny(r.operand.memberExpression),c=this.addTempVar(),u=new M(r.operand.location,e(n),e(s)),l=this.transformAny(r.args),h=$traceurRuntime.spread(t(n),t(s),[i(c,u)]),p=[e(n)];l.args.forEach(function(n,i){var o;(o=h).push.apply(o,$traceurRuntime.spread(t(n)));var s=e(n);r.args.args[i].type===R&&(s=new $(n.location,s)),p.push(s)});var f=new L(r.location,a(c,"call"),new j(l.location,p)),d=this.addTempVar();return h.push(i(d,f),d),o(h)},transformConditionalExpression:function(r){var n=this.transformAny(r.condition),s=this.transformAny(r.left),a=this.transformAny(r.right);if(n===r.condition&&s===r.left&&a===r.right)return r;var c=this.addTempVar(),u=o($traceurRuntime.spread(t(s),[i(c,e(s))])),h=o($traceurRuntime.spread(t(a),[i(c,e(a))])),p=$traceurRuntime.spread(t(n),[new N(r.location,e(n),l(u),l(h)),c]);return o(p)},transformOr:function(r,n){var s=this.addTempVar(),a=o([i(s,e(r))]),c=o($traceurRuntime.spread(t(n),[i(s,e(n))])),u=$traceurRuntime.spread(t(r),[new N(r.location,e(r),l(a),l(c)),s]);return o(u)},transformAnd:function(r,n){var s=this.addTempVar(),a=o($traceurRuntime.spread(t(n),[i(s,e(n))])),c=o([i(s,e(r))]),u=$traceurRuntime.spread(t(r),[new N(r.location,e(r),l(a),l(c)),s]);return o(u)},transformSpreadExpression:function(r){var n=this.transformAny(r.expression);if(n===r.expression)return r;var i=e(n);i.type!==R&&(i=new $(i.location,i));var s=$traceurRuntime.spread(t(n),[i]);return o(s)},createCommaExpressionBuilder:function(){return new Y(this.addTempVar())}},{},r),{get ExplodeExpressionTransformer(){return X}}}),System.register("traceur@0.0.72/src/codegeneration/SuperTransformer",[],function(){"use strict";function e(e){return e.type!==l&&e.type!==h?!1:e.operand.type===p}var t=Object.freeze(Object.defineProperties(["$traceurRuntime.superCall(",", ",", ",",\n                                   ",")"],{raw:{value:Object.freeze(["$traceurRuntime.superCall(",", ",", ",",\n                                   ",")"])}})),r=Object.freeze(Object.defineProperties(["$traceurRuntime.superGet(",", ",", ",")"],{raw:{value:Object.freeze(["$traceurRuntime.superGet(",", ",", ",")"])}})),n=Object.freeze(Object.defineProperties(["$traceurRuntime.superSet(",", ",", ",",\n                                    ",")"],{raw:{value:Object.freeze(["$traceurRuntime.superSet(",", ",", ",",\n                                    ",")"])}})),i=System.get("traceur@0.0.72/src/codegeneration/ExplodeExpressionTransformer").ExplodeExpressionTransformer,o=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),s=o.FunctionDeclaration,a=o.FunctionExpression,c=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),u=c.LITERAL_PROPERTY_NAME,l=c.MEMBER_EXPRESSION,h=c.MEMBER_LOOKUP_EXPRESSION,p=c.SUPER_EXPRESSION,f=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,d=System.get("traceur@0.0.72/src/syntax/TokenType"),m=d.EQUAL,g=d.MINUS_MINUS,y=d.PLUS_PLUS,v=System.get("traceur@0.0.72/src/util/assert").assert,b=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),S=b.createArrayLiteralExpression,w=b.createIdentifierExpression,_=b.createParenExpression,T=b.createStringLiteral,E=b.createThisExpression,C=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,x=function(){$traceurRuntime.defaultSuperCall(this,R.prototype,arguments)},R=x;$traceurRuntime.createClass(x,{transformArrowFunctionExpression:function(e){return e},transformClassExpression:function(e){return e},transformFunctionBody:function(e){return e}},{},i);var A=function(e,t,r,n){this.tempVarTransformer_=e,this.protoName_=t,this.method_=r,this.superCount_=0,this.thisVar_=w(n),this.inNestedFunc_=0,this.nestedSuperCount_=0},O=A;return $traceurRuntime.createClass(A,{get hasSuper(){return this.superCount_>0},get nestedSuper(){return this.nestedSuperCount_>0},transformFunctionDeclaration:function(e){return this.transformFunction_(e,s)},transformFunctionExpression:function(e){return this.transformFunction_(e,a)},transformFunction_:function(e,t){var r=this.superCount_;this.inNestedFunc_++;var n=t===a?$traceurRuntime.superCall(this,O.prototype,"transformFunctionExpression",[e]):$traceurRuntime.superCall(this,O.prototype,"transformFunctionDeclaration",[e]);return this.inNestedFunc_--,r!==this.superCount_&&(this.nestedSuperCount_+=this.superCount_-r),n},transformGetAccessor:function(e){return e},transformSetAccessor:function(e){return e},transformPropertyMethodAssignMent:function(e){return e},transformCallExpression:function(t){if(this.method_&&t.operand.type==p){this.superCount_++,v(this.method_.name.type===u);var r=this.method_.name.literalToken.value;return this.createSuperCallExpression_(r,t)}if(e(t.operand)){this.superCount_++;var n;return n=t.operand.type==l?t.operand.memberName.value:t.operand.memberExpression,this.createSuperCallExpression_(n,t)}return $traceurRuntime.superCall(this,O.prototype,"transformCallExpression",[t])},createSuperCallExpression_:function(e,t){var r=this.inNestedFunc_?this.thisVar_:E(),n=S(t.args.args);return this.createSuperCallExpression(r,this.protoName_,e,n)},createSuperCallExpression:function(e,r,n,i){return C(t,e,r,n,i)},transformMemberShared_:function(e,t){var n=this.inNestedFunc_?this.thisVar_:E();return C(r,n,this.protoName_,t)},transformMemberExpression:function(e){return e.operand.type===p?(this.superCount_++,this.transformMemberShared_(e,T(e.memberName.value))):$traceurRuntime.superCall(this,O.prototype,"transformMemberExpression",[e])},transformMemberLookupExpression:function(e){return e.operand.type===p?this.transformMemberShared_(e,e.memberExpression):$traceurRuntime.superCall(this,O.prototype,"transformMemberLookupExpression",[e])},transformBinaryExpression:function(t){if(t.operator.isAssignmentOperator()&&e(t.left)){if(t.operator.type!==m){var r=new x(this.tempVarTransformer_).transformAny(t);return this.transformAny(_(r))}this.superCount_++;var i=t.left.type===h?t.left.memberExpression:T(t.left.memberName.value),o=this.inNestedFunc_?this.thisVar_:E(),s=this.transformAny(t.right);return C(n,o,this.protoName_,i,s)}return $traceurRuntime.superCall(this,O.prototype,"transformBinaryExpression",[t])},transformUnaryExpression:function(e){var t=this.transformIncrementDecrement_(e);return t?t:$traceurRuntime.superCall(this,O.prototype,"transformUnaryExpression",[e])},transformPostfixExpression:function(e){var t=this.transformIncrementDecrement_(e);return t?t:$traceurRuntime.superCall(this,O.prototype,"transformPostfixExpression",[e])},transformIncrementDecrement_:function(t){var r=t.operator,n=t.operand;if((r.type===y||r.type===g)&&e(n)){var i=new x(this.tempVarTransformer_).transformAny(t);return i!==t&&(i=_(i)),this.transformAny(i)}return null}},{},f),{get SuperTransformer(){return A}}}),System.register("traceur@0.0.72/src/codegeneration/ClassTransformer",[],function(){"use strict";function e(e,n,i,o){return o?M(t,e,n,i,o):M(r,e,n,i)}var t=Object.freeze(Object.defineProperties(["($traceurRuntime.createClass)(",", ",", ",",\n                                       ",")"],{raw:{value:Object.freeze(["($traceurRuntime.createClass)(",", ",", ",",\n                                       ",")"])}})),r=Object.freeze(Object.defineProperties(["($traceurRuntime.createClass)(",", ",", ",")"],{raw:{value:Object.freeze(["($traceurRuntime.createClass)(",", ",", ",")"])}})),n=Object.freeze(Object.defineProperties(["var "," = ",""],{raw:{value:Object.freeze(["var "," = ",""])}})),i=Object.freeze(Object.defineProperties(["var "," = ",""],{raw:{value:Object.freeze(["var "," = ",""])}})),o=Object.freeze(Object.defineProperties(["function($__super) {\n          var "," = ",";\n          return ($traceurRuntime.createClass)(",", ",",\n                                               ",", $__super);\n        }(",")"],{raw:{value:Object.freeze(["function($__super) {\n          var "," = ",";\n          return ($traceurRuntime.createClass)(",", ",",\n                                               ",", $__super);\n        }(",")"])}})),s=Object.freeze(Object.defineProperties(["function() {\n          var "," = ",";\n          return ($traceurRuntime.createClass)(",", ",",\n                                               ",");\n        }()"],{raw:{value:Object.freeze(["function() {\n          var "," = ",";\n          return ($traceurRuntime.createClass)(",", ",",\n                                               ",");\n        }()"])}})),a=Object.freeze(Object.defineProperties(["$traceurRuntime.defaultSuperCall(this,\n                ",".prototype, arguments)"],{raw:{value:Object.freeze(["$traceurRuntime.defaultSuperCall(this,\n                ",".prototype, arguments)"])}})),c=System.get("traceur@0.0.72/src/codegeneration/AlphaRenamer").AlphaRenamer,u=System.get("traceur@0.0.72/src/syntax/PredefinedName").CONSTRUCTOR,l=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),h=l.AnonBlock,p=l.ExportDeclaration,f=l.FunctionExpression,d=l.GetAccessor,m=l.PropertyMethodAssignment,g=l.SetAccessor,y=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),v=y.GET_ACCESSOR,b=y.PROPERTY_METHOD_ASSIGNMENT,S=y.SET_ACCESSOR,w=System.get("traceur@0.0.72/src/codegeneration/SuperTransformer").SuperTransformer,_=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,T=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,E=System.get("traceur@0.0.72/src/codegeneration/MakeStrictTransformer").MakeStrictTransformer,C=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),x=C.createEmptyParameterList,R=C.createExpressionStatement,A=C.createFunctionBody,O=C.createIdentifierExpression,j=C.createMemberExpression,k=C.createObjectLiteralExpression,P=C.createParenExpression,I=C.createThisExpression,L=C.createVariableStatement,N=System.get("traceur@0.0.72/src/semantics/util").hasUseStrict,D=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),M=D.parseExpression,F=D.parseStatement,B=D.parseStatements,H=System.get("traceur@0.0.72/src/staticsemantics/PropName").propName,$=function(e){$traceurRuntime.superCall(this,V.prototype,"constructor",[e]),this.strictCount_=0,this.state_=null},V=$;return $traceurRuntime.createClass($,{transformExportDeclaration:function(e){var t=$traceurRuntime.superCall(this,V.prototype,"transformExportDeclaration",[e]);if(t===e)return e;var r=t.declaration;if(r instanceof h){var n=$traceurRuntime.spread([new p(null,r.statements[0],[])],r.statements.slice(1));return new h(null,n)}return t},transformModule:function(e){return this.strictCount_=1,$traceurRuntime.superCall(this,V.prototype,"transformModule",[e])},transformScript:function(e){return this.strictCount_=+N(e.scriptItemList),$traceurRuntime.superCall(this,V.prototype,"transformScript",[e])},transformFunctionBody:function(e){var t=+N(e.statements);this.strictCount_+=t;var r=$traceurRuntime.superCall(this,V.prototype,"transformFunctionBody",[e]);return this.strictCount_-=t,r},makeStrict_:function(e){return this.strictCount_?e:E.transformTree(e)},transformClassElements_:function(e,t){var r=this,n=this.state_;this.state_={hasSuper:!1};var i,o,s=this.transformAny(e.superClass),a=!1,c=[],l=[];e.elements.forEach(function(e){var n,s;switch(e.isStatic?(n=l,s=t):(n=c,s=j(t,"prototype")),e.type){case v:n.push(r.transformGetAccessor_(e,s));break;case S:n.push(r.transformSetAccessor_(e,s));break;case b:var h=r.transformPropertyMethodAssignment_(e,s);e.isStatic||H(e)!==u?n.push(h):(a=!0,o=h.parameterList,i=h.body);break;default:throw new Error("Unexpected class element: "+e.type)}});var h,p=k(c),d=k(l);h=a?new f(e.location,e.name,!1,o,null,[],i):this.getDefaultConstructor_(e,t);var m=this.state_;return this.state_=n,{func:h,superClass:s,object:p,staticObject:d,hasSuper:m.hasSuper}},transformClassDeclaration:function(t){var r=t.name.identifierToken,o=O("$"+r),s=c.rename(t,r.value,o.identifierToken.value),a=s!==t,t=s,u=this.transformClassElements_(t,o),l=u.func,p=u.hasSuper,f=u.object,d=u.staticObject,m=u.superClass,g=B(n,r,l),y=e(r,f,d,m);(p||a)&&g.push(F(i,o,r)),g.push(R(y));var v=new h(null,g);return this.makeStrict_(v)},transformClassExpression:function(t){this.pushTempScope();var r;r=t.name?t.name.identifierToken:O(this.getTempIdentifier());var n,i=this.transformClassElements_(t,r),a=i.func,c=i.hasSuper,u=i.object,l=i.staticObject,h=i.superClass;return n=c||t.name?h?M(o,r,a,r,u,l,h):M(s,r,a,r,u,l):e(a,u,l,h),this.popTempScope(),P(this.makeStrict_(n))},transformPropertyMethodAssignment_:function(e,t){var r=this.transformAny(e.parameterList),n=this.transformSuperInFunctionBody_(e,e.body,t);if(!e.isStatic&&r===e.parameterList&&n===e.body)return e;var i=!1;return new m(e.location,i,e.functionKind,e.name,r,e.typeAnnotation,e.annotations,n)},transformGetAccessor_:function(e,t){var r=this.transformSuperInFunctionBody_(e,e.body,t);return e.isStatic||r!==e.body?new d(e.location,!1,e.name,e.typeAnnotation,e.annotations,r):e},transformSetAccessor_:function(e,t){var r=this.transformAny(e.parameterList),n=this.transformSuperInFunctionBody_(e,e.body,t);return e.isStatic||n!==e.body?new g(e.location,!1,e.name,r,e.annotations,n):e},transformSuperInFunctionBody_:function(e,t,r){this.pushTempScope();var n=this.getTempIdentifier(),i=L(T,n,I()),o=new w(this,r,e,n),s=o.transformFunctionBody(this.transformFunctionBody(t));return o.hasSuper&&(this.state_.hasSuper=!0),this.popTempScope(),o.nestedSuper?A([i].concat(s.statements)):s},getDefaultConstructor_:function(e,t){var r,n=x();if(e.superClass){var i=F(a,t);r=A([i]),this.state_.hasSuper=!0}else r=A([]);return new f(e.location,e.name,!1,n,null,[],r)}},{},_),{get ClassTransformer(){return $}}}),System.register("traceur@0.0.72/src/codegeneration/CommonJsModuleTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["module.exports = function() {\n            ","\n          }.call(",");"],{raw:{value:Object.freeze(["module.exports = function() {\n            ","\n          }.call(",");"])}})),t=Object.freeze(Object.defineProperties(["Object.defineProperties(exports, ",");"],{raw:{value:Object.freeze(["Object.defineProperties(exports, ",");"])}})),r=Object.freeze(Object.defineProperties(["{get: ","}"],{raw:{value:Object.freeze(["{get: ","}"])}})),n=Object.freeze(Object.defineProperties(["{value: ","}"],{raw:{value:Object.freeze(["{value: ","}"])}})),i=Object.freeze(Object.defineProperties(["("," = require(","), \n        "," && ",".__esModule && "," || {default: ","})"],{raw:{value:Object.freeze(["("," = require(","), \n        "," && ",".__esModule && "," || {default: ","})"])}})),o=Object.freeze(Object.defineProperties(["__esModule: true"],{raw:{value:Object.freeze(["__esModule: true"])}})),s=System.get("traceur@0.0.72/src/codegeneration/ModuleTransformer").ModuleTransformer,a=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),c=a.GET_ACCESSOR,u=a.OBJECT_LITERAL_EXPRESSION,l=a.PROPERTY_NAME_ASSIGNMENT,h=a.RETURN_STATEMENT,p=System.get("traceur@0.0.72/src/util/assert").assert,f=System.get("traceur@0.0.72/src/codegeneration/globalThis")["default"],d=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),m=d.parseExpression,g=d.parsePropertyDefinition,y=d.parseStatement,v=d.parseStatements,b=System.get("traceur@0.0.72/src/codegeneration/scopeContainsThis")["default"],S=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),w=S.createEmptyParameterList,_=S.createFunctionExpression,T=S.createIdentifierExpression,E=S.createObjectLiteralExpression,C=S.createPropertyNameAssignment,x=S.createVariableStatement,R=S.createVariableDeclaration,A=S.createVariableDeclarationList,O=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,j=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,k=function(e){$traceurRuntime.superCall(this,P.prototype,"constructor",[e]),this.moduleVars_=[]},P=k;return $traceurRuntime.createClass(k,{moduleProlog:function(){var e=$traceurRuntime.superCall(this,P.prototype,"moduleProlog",[]);if(this.moduleVars_.length){var t=x(A(O,this.moduleVars_.map(function(e){return R(e,null)})));e.push(t)}return e},wrapModule:function(r){var n=r.some(b);if(n)return v(e,r,f());var i=r[r.length-1];r=r.slice(0,-1),p(i.type===h);var o=i.expression;if(this.hasExports()){var s=this.transformObjectLiteralToDescriptors(o),a=y(t,s);r=j(r,a)}return r},transformObjectLiteralToDescriptors:function(e){p(e.type===u);var t=e.propertyNameAndValues.map(function(e){var t;switch(e.type){case c:var i=_(w(),e.body);t=m(r,i);break;case l:t=m(n,e.value);break;default:throw new Error("Unexpected property type "+e.type)}return C(e.name,t)});return E(t)},transformModuleSpecifier:function(e){var t=e.token.processedValue,r=this.getTempVarNameForModuleSpecifier(e);this.moduleVars_.push(r);var n=T(r);return m(i,n,t,n,n,n,n)},getExportProperties:function(){var e=$traceurRuntime.superCall(this,P.prototype,"getExportProperties",[]);
return this.exportVisitor_.hasExports()&&e.push(g(o)),e}},{},s),{get CommonJsModuleTransformer(){return k}}}),System.register("traceur@0.0.72/src/codegeneration/ParameterTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").FunctionBody,t=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,r=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,n=[],i=function(){$traceurRuntime.defaultSuperCall(this,o.prototype,arguments)},o=i;return $traceurRuntime.createClass(i,{transformArrowFunctionExpression:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformArrowFunctionExpression",[e])},transformFunctionDeclaration:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformFunctionDeclaration",[e])},transformFunctionExpression:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformFunctionExpression",[e])},transformGetAccessor:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformGetAccessor",[e])},transformSetAccessor:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformSetAccessor",[e])},transformPropertyMethodAssignment:function(e){return n.push([]),$traceurRuntime.superCall(this,o.prototype,"transformPropertyMethodAssignment",[e])},transformFunctionBody:function(t){var i=$traceurRuntime.superCall(this,o.prototype,"transformFunctionBody",[t]),s=n.pop();return s.length?(s=r.apply(null,$traceurRuntime.spread([i.statements],s)),new e(i.location,s)):i},get parameterStatements(){return n[n.length-1]}},{},t),{get ParameterTransformer(){return i}}}),System.register("traceur@0.0.72/src/codegeneration/DefaultParametersTransformer",[],function(){"use strict";function e(e,t,i){var o,a=d(f(s),m(e));return o=null===i||r(i)||n(i)?a:p(h(a,g(c),v()),a,i),y(u,t,o)}var t=System.get("traceur@0.0.72/src/semantics/util"),r=t.isUndefined,n=t.isVoidExpression,i=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").FormalParameterList,o=System.get("traceur@0.0.72/src/codegeneration/ParameterTransformer").ParameterTransformer,s=System.get("traceur@0.0.72/src/syntax/PredefinedName").ARGUMENTS,a=System.get("traceur@0.0.72/src/syntax/TokenType"),c=a.NOT_EQUAL_EQUAL,u=a.VAR,l=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),h=l.createBinaryExpression,p=l.createConditionalExpression,f=l.createIdentifierExpression,d=l.createMemberLookupExpression,m=l.createNumberLiteral,g=l.createOperatorToken,y=l.createVariableStatement,v=l.createVoid0,b=function(){$traceurRuntime.defaultSuperCall(this,S.prototype,arguments)},S=b;return $traceurRuntime.createClass(b,{transformFormalParameterList:function(t){for(var r=[],n=!1,o=!1,s=0;s<t.parameters.length;s++){var a=this.transformAny(t.parameters[s]);a!==t.parameters[s]&&(n=!0),a.isRestParameter()||!a.parameter.initializer&&!o?r.push(a):(o=!0,n=!0,this.parameterStatements.push(e(s,a.parameter.binding,a.parameter.initializer)))}return n?new i(t.location,r):t}},{},o),{get DefaultParametersTransformer(){return b}}}),System.register("traceur@0.0.72/src/codegeneration/ExponentiationTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["Math.pow(",", ",")"],{raw:{value:Object.freeze(["Math.pow(",", ",")"])}})),t=System.get("traceur@0.0.72/src/codegeneration/ExplodeExpressionTransformer").ExplodeExpressionTransformer,r=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,n=System.get("traceur@0.0.72/src/syntax/TokenType"),i=n.STAR_STAR,o=n.STAR_STAR_EQUAL,s=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,a=function(){$traceurRuntime.defaultSuperCall(this,c.prototype,arguments)},c=a;return $traceurRuntime.createClass(a,{transformBinaryExpression:function(r){switch(r.operator.type){case i:var n=this.transformAny(r.left),a=this.transformAny(r.right);return s(e,n,a);case o:var u=new t(this).transformAny(r);return this.transformAny(u)}return $traceurRuntime.superCall(this,c.prototype,"transformBinaryExpression",[r])}},{},r),{get ExponentiationTransformer(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/ForOfTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties([""," = ",".value;"],{raw:{value:Object.freeze([""," = ",".value;"])}})),t=Object.freeze(Object.defineProperties(["\n        for (var "," =\n                 ","[Symbol.iterator](),\n                 ",";\n             !("," = ",".next()).done; ) {\n          ",";\n          ",";\n        }"],{raw:{value:Object.freeze(["\n        for (var "," =\n                 ","[Symbol.iterator](),\n                 ",";\n             !("," = ",".next()).done; ) {\n          ",";\n          ",";\n        }"])}})),r=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType").VARIABLE_DECLARATION_LIST,n=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,i=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),o=i.createIdentifierExpression,s=i.createMemberExpression,a=i.createVariableStatement,c=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,u=function(){$traceurRuntime.defaultSuperCall(this,l.prototype,arguments)},l=u;return $traceurRuntime.createClass(u,{transformForOfStatement:function(n){var i,u=$traceurRuntime.superCall(this,l.prototype,"transformForOfStatement",[n]),h=o(this.getTempIdentifier()),p=o(this.getTempIdentifier());return i=u.initializer.type===r?a(u.initializer.declarationType,u.initializer.declarations[0].lvalue,s(p,"value")):c(e,u.initializer,p),c(t,h,u.collection,p,p,h,i,u.body)}},{},n),{get ForOfTransformer(){return u}}}),System.register("traceur@0.0.72/src/codegeneration/GeneratorComprehensionTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["yield ",""],{raw:{value:Object.freeze(["yield ",""])}})),t=System.get("traceur@0.0.72/src/codegeneration/ComprehensionTransformer").ComprehensionTransformer,r=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,n=function(){$traceurRuntime.defaultSuperCall(this,i.prototype,arguments)},i=n;return $traceurRuntime.createClass(n,{transformGeneratorComprehension:function(t){var n=this.transformAny(t.expression),i=r(e,n),o=!0;return this.transformComprehension(t,i,o)}},{},t),{get GeneratorComprehensionTransformer(){return n}}}),System.register("traceur@0.0.72/src/codegeneration/generator/State",[],function(){"use strict";function e(e,r){var i=e.finallyState;return[n(i),a(t,r)]}var t=Object.freeze(Object.defineProperties(["$ctx.finallyFallThrough = ",""],{raw:{value:Object.freeze(["$ctx.finallyFallThrough = ",""])}})),r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),n=r.createAssignStateStatement,i=r.createBreakStatement,o=r.createCaseClause,s=r.createNumberLiteral,a=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,c=function(e){this.id=e};return $traceurRuntime.createClass(c,{transformMachineState:function(e,t,r){return o(s(this.id),this.transform(e,t,r))},transformBreak:function(e,t){return this},transformBreakOrContinue:function(e){arguments[1],arguments[2];return this}},{}),c.START_STATE=0,c.INVALID_STATE=-1,c.END_STATE=-2,c.RETHROW_STATE=-3,c.generateJump=function(e,t){return $traceurRuntime.spread(c.generateAssignState(e,t),[i()])},c.generateAssignState=function(t,r){var i;return i=c.isFinallyExit(t,r)?e(t,r):[n(r)]},c.isFinallyExit=function(e,t){return null!=e&&e.tryStates.indexOf(t)<0},c.replaceStateList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(c.replaceStateId(e[i],t,r));return n},c.replaceStateId=function(e,t,r){return e==t?r:e},c.replaceAllStates=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(e[i].replaceState(t,r));return n},{get State(){return c}}}),System.register("traceur@0.0.72/src/codegeneration/generator/TryState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t={CATCH:"catch",FINALLY:"finally"},r=function(e,t,r){this.kind=e,this.tryStates=t,this.nestedTrys=r};return $traceurRuntime.createClass(r,{replaceAllStates:function(t,r){return e.replaceStateList(this.tryStates,t,r)},replaceNestedTrys:function(e,t){for(var r=[],n=0;n<this.nestedTrys.length;n++)r.push(this.nestedTrys[n].replaceState(e,t));return r}},{}),r.Kind=t,{get TryState(){return r}}}),System.register("traceur@0.0.72/src/syntax/trees/StateMachine",[],function(){"use strict";function e(t,r,n){for(var i=0;i<n.length;i++){var o=n[i];if(o.kind==t)for(var s=0;s<o.tryStates.length;s++){var a=o.tryStates[s];r[a]=o}e(t,r,o.nestedTrys)}}function t(e,r){for(var n=0;n<e.length;n++){var i=e[n];i.kind==o.Kind.CATCH&&r.push(i),t(i.nestedTrys,r)}}var r=System.get("traceur@0.0.72/src/syntax/trees/ParseTree").ParseTree,n=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType").STATE_MACHINE,i=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,o=System.get("traceur@0.0.72/src/codegeneration/generator/TryState").TryState,s=function(e,t,r,n){this.location=null,this.startState=e,this.fallThroughState=t,this.states=r,this.exceptionBlocks=n},a=s;return $traceurRuntime.createClass(s,{get type(){return n},transform:function(e){return e.transformStateMachine(this)},visit:function(e){e.visitStateMachine(this)},getAllStateIDs:function(){for(var e=[],t=0;t<this.states.length;t++)e.push(this.states[t].id);return e},getEnclosingFinallyMap:function(){var t=Object.create(null);return e(o.Kind.FINALLY,t,this.exceptionBlocks),t},allCatchStates:function(){var e=[];return t(this.exceptionBlocks,e),e},replaceStateId:function(e,t){return new a(i.replaceStateId(this.startState,e,t),i.replaceStateId(this.fallThroughState,e,t),i.replaceAllStates(this.states,e,t),i.replaceAllStates(this.exceptionBlocks,e,t))},replaceStartState:function(e){return this.replaceStateId(this.startState,e)},replaceFallThroughState:function(e){return this.replaceStateId(this.fallThroughState,e)},append:function(e){for(var t=$traceurRuntime.spread(this.states),r=0;r<e.states.length;r++){var n=e.states[r];t.push(n.replaceState(e.startState,this.fallThroughState))}for(var i=$traceurRuntime.spread(this.exceptionBlocks),r=0;r<e.exceptionBlocks.length;r++){var o=e.exceptionBlocks[r];i.push(o.replaceState(e.startState,this.fallThroughState))}return new a(this.startState,e.fallThroughState,t,i)}},{},r),{get StateMachine(){return s}}}),System.register("traceur@0.0.72/src/codegeneration/generator/AwaitState",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["$ctx.finallyFallThrough = ",""],{raw:{value:Object.freeze(["$ctx.finallyFallThrough = ",""])}})),t=Object.freeze(Object.defineProperties(["Promise.resolve(",").then(\n          $ctx.createCallback(","), $ctx.errback);\n          return;"],{raw:{value:Object.freeze(["Promise.resolve(",").then(\n          $ctx.createCallback(","), $ctx.errback);\n          return;"])}})),r=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,n=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatements,i=function(e,t,r){$traceurRuntime.superCall(this,o.prototype,"constructor",[e]),this.callbackState=t,this.expression=r},o=i;return $traceurRuntime.createClass(i,{replaceState:function(e,t){return new o(r.replaceStateId(this.id,e,t),r.replaceStateId(this.callbackState,e,t),this.expression)},transform:function(i,o,s){var a,c,u;return r.isFinallyExit(i,this.callbackState)?(c=i.finallyState,u=n(e,this.callbackState)):(c=this.callbackState,u=[]),(a=u).push.apply(a,$traceurRuntime.spread(n(t,this.expression,c))),u}},{},r),{get AwaitState(){return i}}}),System.register("traceur@0.0.72/src/codegeneration/HoistVariablesTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),t=e.AnonBlock,r=e.Catch,n=e.FunctionBody,i=e.ForInStatement,o=e.ForOfStatement,s=e.ForStatement,a=e.VariableDeclarationList,c=e.VariableStatement,u=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),l=u.OBJECT_PATTERN,h=u.VARIABLE_DECLARATION_LIST,p=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,f=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,d=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),m=d.createAssignmentExpression,g=d.createCommaExpression,y=d.createExpressionStatement,v=d.createIdentifierExpression,b=d.createParenExpression,S=d.createVariableDeclaration,w=System.get("traceur@0.0.72/src/codegeneration/PrependStatements").prependStatements,_=function(){var e=void 0!==arguments[0]?arguments[0]:!1;$traceurRuntime.superCall(this,T.prototype,"constructor",[]),this.hoistedFunctions_=[],this.hoistedVariables_=Object.create(null),this.keepBindingIdentifiers_=!1,this.inBlockOrFor_=!1,this.shouldHoistFunctions_=e},T=_;$traceurRuntime.createClass(_,{transformFunctionBody:function(e){var t=this.transformList(e.statements);return t===e.statements?e:(t=this.prependVariables(t),t=this.prependFunctions(t),new n(e.location,t))},addVariable:function(e){this.hoistedVariables_[e]=!0},addFunctionDeclaration:function(e){this.hoistedFunctions_.push(e)},hasVariables:function(){for(var e in this.hoistedVariables_)return!0;return!1},hasFunctions:function(){return this.hoistedFunctions_.length>0},getVariableNames:function(){return Object.keys(this.hoistedVariables_)},getVariableStatement:function(){if(!this.hasVariables())return new t(null,[]);var e=this.getVariableNames().map(function(e){return S(e,null)});return new c(null,new a(null,f,e))},getFunctions:function(){return this.hoistedFunctions_},prependVariables:function(e){return this.hasVariables()?w(e,this.getVariableStatement()):e},prependFunctions:function(e){return this.hasFunctions()?w(e,this.getFunctionDeclarations()):e},transformVariableStatement:function(e){var r=this.transformAny(e.declarations);return r==e.declarations?e:null===r?new t(null,[]):r.type===h?new c(e.location,r):y(r)},transformVariableDeclaration:function(e){var t=this.transformAny(e.lvalue),r=this.transformAny(e.initializer);if(r){var n=m(t,r);return t.type===l&&(n=b(n)),n}return null},transformObjectPattern:function(e){var t=this.keepBindingIdentifiers_;this.keepBindingIdentifiers_=!0;var r=$traceurRuntime.superCall(this,T.prototype,"transformObjectPattern",[e]);return this.keepBindingIdentifiers_=t,r},transformArrayPattern:function(e){var t=this.keepBindingIdentifiers_;this.keepBindingIdentifiers_=!0;var r=$traceurRuntime.superCall(this,T.prototype,"transformArrayPattern",[e]);return this.keepBindingIdentifiers_=t,r},transformBindingIdentifier:function(e){var t=e.identifierToken;return this.addVariable(t.value),this.keepBindingIdentifiers_?e:v(t)},transformVariableDeclarationList:function(e){if(e.declarationType===f||!this.inBlockOrFor_){var t=this.transformList(e.declarations);return t=t.filter(function(e){return e}),0===t.length?null:1==t.length?t[0]:g(t)}return e},transformCatch:function(e){var t=this.transformAny(e.catchBody);return t===e.catchBody?e:new r(e.location,e.binding,t)},transformForInStatement:function(e){return this.transformLoop_(e,i)},transformForOfStatement:function(e){return this.transformLoop_(e,o)},transformLoop_:function(e,t){var r=this.transformLoopIninitaliser_(e.initializer),n=this.transformAny(e.collection),i=this.transformAny(e.body);return r===e.initializer&&n===e.collection&&i===e.body?e:new t(e.location,r,n,i)},transformLoopIninitaliser_:function(e){return e.type!==h||e.declarationType!==f?e:this.transformAny(e.declarations[0].lvalue)},transformForStatement:function(e){var t=this.inBlockOrFor_;this.inBlockOrFor_=!0;var r=this.transformAny(e.initializer);this.inBlockOrFor_=t;var n=this.transformAny(e.condition),i=this.transformAny(e.increment),o=this.transformAny(e.body);return r===e.initializer&&n===e.condition&&i===e.increment&&o===e.body?e:new s(e.location,r,n,i,o)},transformBlock:function(e){var t=this.inBlockOrFor_;return this.inBlockOrFor_=!0,e=$traceurRuntime.superCall(this,T.prototype,"transformBlock",[e]),this.inBlockOrFor_=t,e},addMachineVariable:function(e){this.machineVariables_[e]=!0},transformClassDeclaration:function(e){return e},transformClassExpression:function(e){return e},transformFunctionDeclaration:function(e){return this.shouldHoistFunctions_?(this.addFunctionDeclaration(e),new t(null,[])):e},transformFunctionExpression:function(e){return e},transformGetAccessor:function(e){return e},transformSetAccessor:function(e){return e},transformPropertyMethodAssignment:function(e){return e},transformArrowFunctionExpression:function(e){return e},transformComprehensionFor:function(e){return e}},{},p);var E=_;return{get default(){return E}}}),System.register("traceur@0.0.72/src/codegeneration/generator/FallThroughState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=function(e,t,n){$traceurRuntime.superCall(this,r.prototype,"constructor",[e]),this.fallThroughState=t,this.statements=n},r=t;return $traceurRuntime.createClass(t,{replaceState:function(t,n){return new r(e.replaceStateId(this.id,t,n),e.replaceStateId(this.fallThroughState,t,n),this.statements)},transform:function(t,r,n){return $traceurRuntime.spread(this.statements,e.generateJump(t,this.fallThroughState))}},{},e),{get FallThroughState(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/generator/BreakState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/FallThroughState").FallThroughState,t=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,r=function(e,t){$traceurRuntime.superCall(this,n.prototype,"constructor",[e]),this.label=t},n=r;return $traceurRuntime.createClass(r,{replaceState:function(e,r){return new n(t.replaceStateId(this.id,e,r),this.label)},transform:function(e,t,r){throw new Error("These should be removed before the transform step")},transformBreak:function(t){var r=arguments[1];return null==this.label?new e(this.id,r,[]):this.label in t?new e(this.id,t[this.label].fallThroughState,[]):this},transformBreakOrContinue:function(e){var t=arguments[1];arguments[2];return this.transformBreak(e,t)}},{},t),{get BreakState(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/generator/ContinueState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/FallThroughState").FallThroughState,t=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,r=function(e,t){$traceurRuntime.superCall(this,n.prototype,"constructor",[e]),this.label=t},n=r;return $traceurRuntime.createClass(r,{replaceState:function(e,r){return new n(t.replaceStateId(this.id,e,r),this.label)},transform:function(e,t,r){throw new Error("These should be removed before the transform step")},transformBreakOrContinue:function(t){var r=(arguments[1],arguments[2]);return null==this.label?new e(this.id,r,[]):this.label in t?new e(this.id,t[this.label].continueState,[]):this}},{},t),{get ContinueState(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/generator/BreakContinueTransformer",[],function(){"use strict";function e(e){return e.name?e.name.value:null}var t=System.get("traceur@0.0.72/src/codegeneration/generator/BreakState").BreakState,r=System.get("traceur@0.0.72/src/codegeneration/generator/ContinueState").ContinueState,n=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,i=System.get("traceur@0.0.72/src/syntax/trees/StateMachine").StateMachine,o=function(e){$traceurRuntime.superCall(this,s.prototype,"constructor",[]),this.transformBreaks_=!0,this.stateAllocator_=e},s=o;return $traceurRuntime.createClass(o,{allocateState_:function(){return this.stateAllocator_.allocateState()},stateToStateMachine_:function(e){var t=this.allocateState_();return new i(e.id,t,[e],[])},transformBreakStatement:function(r){return this.transformBreaks_||r.name?this.stateToStateMachine_(new t(this.allocateState_(),e(r))):r},transformContinueStatement:function(t){return this.stateToStateMachine_(new r(this.allocateState_(),e(t)))},transformDoWhileStatement:function(e){return e},transformForOfStatement:function(e){return e},transformForStatement:function(e){return e},transformFunctionDeclaration:function(e){return e},transformFunctionExpression:function(e){return e},transformStateMachine:function(e){return e},transformSwitchStatement:function(e){var t=this.transformBreaks_;this.transformBreaks_=!1;var r=$traceurRuntime.superCall(this,s.prototype,"transformSwitchStatement",[e]);return this.transformBreaks_=t,r},transformWhileStatement:function(e){return e}},{},n),{get BreakContinueTransformer(){return o}}}),System.register("traceur@0.0.72/src/codegeneration/generator/CatchState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=System.get("traceur@0.0.72/src/codegeneration/generator/TryState").TryState,r=function(e,r,i,o,s){$traceurRuntime.superCall(this,n.prototype,"constructor",[t.Kind.CATCH,o,s]),this.identifier=e,this.catchState=r,this.fallThroughState=i},n=r;return $traceurRuntime.createClass(r,{replaceState:function(t,r){return new n(this.identifier,e.replaceStateId(this.catchState,t,r),e.replaceStateId(this.fallThroughState,t,r),this.replaceAllStates(t,r),this.replaceNestedTrys(t,r))}},{},t),{get CatchState(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/generator/ConditionalState",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["$ctx.state = (",") ? "," : ",";\n        break"],{raw:{value:Object.freeze(["$ctx.state = (",") ? "," : ",";\n        break"])}})),t=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),n=r.createBlock,i=r.createIfStatement,o=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatements,s=function(e,t,r,n){$traceurRuntime.superCall(this,a.prototype,"constructor",[e]),this.ifState=t,this.elseState=r,this.condition=n},a=s;return $traceurRuntime.createClass(s,{replaceState:function(e,r){return new a(t.replaceStateId(this.id,e,r),t.replaceStateId(this.ifState,e,r),t.replaceStateId(this.elseState,e,r),this.condition)},transform:function(r,s,a){return t.isFinallyExit(r,this.ifState)||t.isFinallyExit(r,this.elseState)?[i(this.condition,n(t.generateJump(r,this.ifState)),n(t.generateJump(r,this.elseState)))]:o(e,this.condition,this.ifState,this.elseState)}},{},t),{get ConditionalState(){return s}}}),System.register("traceur@0.0.72/src/codegeneration/generator/FinallyFallThroughState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=function(){$traceurRuntime.defaultSuperCall(this,r.prototype,arguments)},r=t;return $traceurRuntime.createClass(t,{replaceState:function(t,n){return new r(e.replaceStateId(this.id,t,n))},transformMachineState:function(e,t,r){return null},transform:function(e,t,r){throw new Error("these are generated in addFinallyFallThroughDispatches")}},{},e),{get FinallyFallThroughState(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/generator/FinallyState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=System.get("traceur@0.0.72/src/codegeneration/generator/TryState").TryState,r=function(e,r,i,o){$traceurRuntime.superCall(this,n.prototype,"constructor",[t.Kind.FINALLY,i,o]),this.finallyState=e,this.fallThroughState=r},n=r;return $traceurRuntime.createClass(r,{replaceState:function(t,r){return new n(e.replaceStateId(this.finallyState,t,r),e.replaceStateId(this.fallThroughState,t,r),this.replaceAllStates(t,r),this.replaceNestedTrys(t,r))}},{},t),{get FinallyState(){return r}}}),System.register("traceur@0.0.72/src/codegeneration/generator/StateAllocator",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=function(){this.nextState_=e.START_STATE+1};return $traceurRuntime.createClass(t,{allocateState:function(){return this.nextState_++}},{}),{get StateAllocator(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/generator/SwitchState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),t=e.CaseClause,r=e.DefaultClause,n=e.SwitchStatement,i=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,o=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createBreakStatement,s=function(e,t){this.first=e,this.second=t};$traceurRuntime.createClass(s,{},{});var a=function(e,t,r){$traceurRuntime.superCall(this,c.prototype,"constructor",[e]),this.expression=t,this.clauses=r},c=a;return $traceurRuntime.createClass(a,{replaceState:function(e,t){var r=this.clauses.map(function(r){return new s(r.first,i.replaceStateId(r.second,e,t))});return new c(i.replaceStateId(this.id,e,t),this.expression,r)},transform:function(e,s,a){for(var c=[],u=0;u<this.clauses.length;u++){var l=this.clauses[u];null==l.first?c.push(new r(null,i.generateJump(e,l.second))):c.push(new t(null,l.first,i.generateJump(e,l.second)))}return[new n(null,this.expression,c),o()]}},{},i),{get SwitchClause(){return s},get SwitchState(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/generator/CPSTransformer",[],function(){"use strict";function e(e){var t=new ce(e);return t.found}function t(e){return e.type===S?t(e.expression):new E(e.location,e.statements)}var r=Object.freeze(Object.defineProperties(["$ctx.pushTry(\n            ",",\n            ",");"],{raw:{value:Object.freeze(["$ctx.pushTry(\n            ",",\n            ",");"])}})),n=Object.freeze(Object.defineProperties(["$ctx.popTry();"],{raw:{value:Object.freeze(["$ctx.popTry();"])}})),i=Object.freeze(Object.defineProperties(["\n              $ctx.popTry();\n              "," = $ctx.storedException;"],{raw:{value:Object.freeze(["\n              $ctx.popTry();\n              "," = $ctx.storedException;"])}})),o=Object.freeze(Object.defineProperties(["$ctx.popTry();"],{raw:{value:Object.freeze(["$ctx.popTry();"])}})),s=Object.freeze(Object.defineProperties(["function($ctx) {\n      while (true) ","\n    }"],{raw:{value:Object.freeze(["function($ctx) {\n      while (true) ","\n    }"])}})),a=Object.freeze(Object.defineProperties(["var $arguments = arguments;"],{raw:{value:Object.freeze(["var $arguments = arguments;"])}})),c=Object.freeze(Object.defineProperties(["return ","(\n              ",",\n              ",", this);"],{raw:{value:Object.freeze(["return ","(\n              ",",\n              ",", this);"])}})),u=Object.freeze(Object.defineProperties(["return ","(\n              ",", this);"],{raw:{value:Object.freeze(["return ","(\n              ",", this);"])}})),l=Object.freeze(Object.defineProperties(["return $ctx.end()"],{raw:{value:Object.freeze(["return $ctx.end()"])}})),h=Object.freeze(Object.defineProperties(["\n                  $ctx.state = $ctx.finallyFallThrough;\n                  $ctx.finallyFallThrough = ",";\n                  break;"],{raw:{value:Object.freeze(["\n                  $ctx.state = $ctx.finallyFallThrough;\n                  $ctx.finallyFallThrough = ",";\n                  break;"])}})),p=Object.freeze(Object.defineProperties(["\n                      $ctx.state = $ctx.finallyFallThrough;\n                      break;"],{raw:{value:Object.freeze(["\n                      $ctx.state = $ctx.finallyFallThrough;\n                      break;"])}})),f=System.get("traceur@0.0.72/src/codegeneration/AlphaRenamer").AlphaRenamer,d=System.get("traceur@0.0.72/src/codegeneration/generator/BreakContinueTransformer").BreakContinueTransformer,m=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),g=m.BLOCK,y=m.CASE_CLAUSE,v=m.CONDITIONAL_EXPRESSION,b=m.EXPRESSION_STATEMENT,S=m.PAREN_EXPRESSION,w=m.STATE_MACHINE,_=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),T=_.AnonBlock,E=_.Block,C=_.CaseClause,x=_.IfStatement,R=_.SwitchStatement,A=System.get("traceur@0.0.72/src/codegeneration/generator/CatchState").CatchState,O=System.get("traceur@0.0.72/src/codegeneration/generator/ConditionalState").ConditionalState,j=System.get("traceur@0.0.72/src/codegeneration/ExplodeExpressionTransformer").ExplodeExpressionTransformer,k=System.get("traceur@0.0.72/src/codegeneration/generator/FallThroughState").FallThroughState,P=System.get("traceur@0.0.72/src/codegeneration/generator/FinallyFallThroughState").FinallyFallThroughState,I=System.get("traceur@0.0.72/src/codegeneration/generator/FinallyState").FinallyState,L=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,N=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,D=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,M=System.get("traceur@0.0.72/src/util/assert").assert,F=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),B=F.parseExpression,H=F.parseStatement,$=F.parseStatements,V=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,U=System.get("traceur@0.0.72/src/codegeneration/generator/StateAllocator").StateAllocator,z=System.get("traceur@0.0.72/src/syntax/trees/StateMachine").StateMachine,W=System.get("traceur@0.0.72/src/codegeneration/generator/SwitchState"),G=W.SwitchClause,q=W.SwitchState,Y=System.get("traceur@0.0.72/src/codegeneration/generator/TryState").TryState,X=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),K=X.createAssignStateStatement,Q=X.createBreakStatement,J=X.createCaseClause,Z=X.createDefaultClause,ee=X.createExpressionStatement,te=X.createFunctionBody,re=X.createIdentifierExpression,ne=X.createMemberExpression,ie=X.createNumberLiteral,oe=X.createSwitchStatement,se=System.get("traceur@0.0.72/src/codegeneration/HoistVariablesTransformer")["default"],ae=function(e,t,r){this.name=e,this.continueState=t,this.fallThroughState=r};$traceurRuntime.createClass(ae,{},{});var ce=function(){$traceurRuntime.defaultSuperCall(this,ue.prototype,arguments)},ue=ce;$traceurRuntime.createClass(ce,{visitBreakStatement:function(e){this.found=!0},visitContinueStatement:function(e){this.found=!0},visitStateMachine:function(e){this.found=!0},visitYieldExpression:function(e){this.found=!0}},{},L);var le=function(){$traceurRuntime.superCall(this,he.prototype,"constructor",[!0])},he=le;$traceurRuntime.createClass(le,{prependVariables:function(e){return e},prependFunctions:function(e){return e}},{},se);var pe=function(e,t){$traceurRuntime.superCall(this,fe.prototype,"constructor",[e]),this.reporter=t,this.stateAllocator_=new U,this.labelSet_=Object.create(null),this.currentLabel_=null,this.hoistVariablesTransformer_=new le},fe=pe;$traceurRuntime.createClass(pe,{expressionNeedsStateMachine:function(e){return!1},allocateState:function(){return this.stateAllocator_.allocateState()},transformBlock:function(e){var t=this.getLabels_(),r=this.clearCurrentLabel_(),n=$traceurRuntime.superCall(this,fe.prototype,"transformBlock",[e]),i=this.transformStatementList_(n.statements);if(null===i)return n;if(r){for(var o=[],s=0;s<i.states.length;s++){var a=i.states[s];o.push(a.transformBreakOrContinue(t))}i=new z(i.startState,i.fallThroughState,o,i.exceptionBlocks)}return i},transformFunctionBody:function(e){this.pushTempScope();var t=this.clearLabels_(),r=$traceurRuntime.superCall(this,fe.prototype,"transformFunctionBody",[e]),n=this.transformStatementList_(r.statements);return this.restoreLabels_(t),this.popTempScope(),null==n?r:n},transformStatementList_:function(t){for(var r,n=[],i=0;i<t.length;i++)if(t[i].type===w)n.push(t[i]);else if(e(t[i]))r=this.ensureTransformed_(t[i]),n.push(r);else{var o=n[n.length-1];o instanceof Array||n.push(o=[]),o.push(t[i])}if(1===n.length&&n[0]instanceof Array)return null;for(var s=null,i=0;i<n.length;i++)r=n[i]instanceof Array?this.statementsToStateMachine_(n[i]):n[i],s=0===i?r:s.append(r);
return s},needsStateMachine_:function(t){if(t instanceof Array){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}return M(t instanceof R),e(t)},transformCaseClause:function(e){var t=$traceurRuntime.superCall(this,fe.prototype,"transformCaseClause",[e]),r=this.transformStatementList_(t.statements);return null==r?t:new C(null,t.expression,[r])},transformDoWhileStatement:function(e){var t,r,n,i,o,s,a=this.getLabels_(),c=this.clearCurrentLabel_();if(this.expressionNeedsStateMachine(e.condition))r=this.expressionToStateMachine(e.condition),i=r.machine,o=r.expression,r,s=this.transformAny(e.body);else{var u=$traceurRuntime.superCall(this,fe.prototype,"transformDoWhileStatement",[e]);if(n=u,o=n.condition,s=n.body,n,s.type!=w)return u}var l=this.ensureTransformed_(s),h=l.startState,p=l.fallThroughState,f=this.allocateState(),d=[];this.addLoopBodyStates_(l,p,f,a,d),i&&(i=i.replaceStartState(p),p=i.fallThroughState,(t=d).push.apply(t,$traceurRuntime.spread(i.states))),d.push(new O(p,h,f,o));var i=new z(h,f,d,l.exceptionBlocks);return c&&(i=i.replaceStateId(p,c.continueState)),i},addLoopBodyStates_:function(e,t,r,n,i){for(var o=0;o<e.states.length;o++){var s=e.states[o];i.push(s.transformBreakOrContinue(n,r,t))}},transformForStatement:function(e){var t,r,n,i,o,s=this.getLabels_(),a=this.clearCurrentLabel_(),c=null;e.initializer&&(this.expressionNeedsStateMachine(e.initializer)?(i=this.expressionToStateMachine(e.initializer),c=i.expression,o=i.machine):c=this.transformAny(e.initializer));var u,l=null;e.condition&&(this.expressionNeedsStateMachine(e.condition)?(i=this.expressionToStateMachine(e.condition),l=i.expression,u=i.machine):l=this.transformAny(e.condition));var h,p=null;e.increment&&(this.expressionNeedsStateMachine(e.increment)?(i=this.expressionToStateMachine(e.increment),p=i.expression,h=i.machine):p=this.transformAny(e.increment));var f=this.transformAny(e.body);if(c===e.initializer&&l===e.condition&&p===e.increment&&f===e.body)return e;if(!o&&!u&&!h&&f.type!==w)return new ForStatement(e.location,c,l,p,f);var d,m=this.ensureTransformed_(f),g=m.fallThroughState,y=this.allocateState(),v=c?this.allocateState():V.INVALID_STATE,b=p?this.allocateState():g,S=m.startState,_=g,T=[];if(c){d=v;var E;E=l?b:S;var C=v;o&&(o=o.replaceStartState(v),C=o.fallThroughState,(t=T).push.apply(t,$traceurRuntime.spread(o.states))),T.push(new k(C,E,[ee(c)]))}if(l){c||(d=b);var C=b;u&&(u=u.replaceStartState(b),C=u.fallThroughState,(r=T).push.apply(r,$traceurRuntime.spread(u.states))),T.push(new O(C,S,y,l))}if(p){var x;x=l?b:S;var C=_;h&&(h=h.replaceStartState(_),C=h.fallThroughState,(n=T).push.apply(n,$traceurRuntime.spread(h.states))),T.push(new k(C,x,[ee(p)]))}c||l||(d=S);var R;R=p?_:l?b:S,p||l||(m=m.replaceFallThroughState(m.startState)),this.addLoopBodyStates_(m,R,y,s,T);var A=new z(d,y,T,m.exceptionBlocks);return a&&(A=A.replaceStateId(R,a.continueState)),A},transformForInStatement:function(e){return e},transformForOfStatement:function(e){throw new Error("for of statements should be transformed before this pass")},transformIfStatement:function(e){var t,r,n,i,o,s,a,c,u;if(this.expressionNeedsStateMachine(e.condition))i=this.expressionToStateMachine(e.condition),s=i.machine,a=i.expression,i,c=this.transformAny(e.ifClause),u=this.transformAny(e.elseClause);else{var l=$traceurRuntime.superCall(this,fe.prototype,"transformIfStatement",[e]);if(o=l,a=o.condition,c=o.ifClause,u=o.elseClause,o,c.type!==w&&(null===u||u.type!==w))return l}c=this.ensureTransformed_(c),u=this.ensureTransformed_(u);var h=this.allocateState(),p=c.fallThroughState,f=c.startState,d=null==u?p:u.startState,m=[],g=[];m.push(new O(h,f,d,a)),(t=m).push.apply(t,$traceurRuntime.spread(c.states)),(r=g).push.apply(r,$traceurRuntime.spread(c.exceptionBlocks)),null!=u&&(this.replaceAndAddStates_(u.states,u.fallThroughState,p,m),(n=g).push.apply(n,$traceurRuntime.spread(V.replaceAllStates(u.exceptionBlocks,u.fallThroughState,p))));var y=new z(h,p,m,g);return s&&(y=s.append(y)),y},removeEmptyStates:function(e){for(var t=[],r=[],n=0;n<e.length;n++)e[n]instanceof k&&0===e[n].statements.length?t.push(e[n]):r.push(e[n]);for(n=0;n<r.length;n++)r[n]=t.reduce(function(e,t){var r=t,n=r.id,i=r.fallThroughState;return e.replaceState(n,i)},r[n]);return r},replaceAndAddStates_:function(e,t,r,n){for(var i=0;i<e.length;i++)n.push(e[i].replaceState(t,r))},transformLabelledStatement:function(e){var t=this.allocateState(),r=this.allocateState(),n=this.allocateState(),i=new ae(e.name.value,r,n),o=this.addLabel_(i);this.currentLabel_=i;var s=this.transformAny(e.statement);return s===e.statement?s=e:s.type===w&&(s=s.replaceStartState(t),s=s.replaceFallThroughState(n)),this.restoreLabels_(o),s},getLabels_:function(){return this.labelSet_},restoreLabels_:function(e){this.labelSet_=e},addLabel_:function(e){var t=this.labelSet_,r=Object.create(null);for(var n in this.labelSet_)r[n]=this.labelSet_[n];return r[e.name]=e,this.labelSet_=r,t},clearLabels_:function(){var e=this.labelSet_;return this.labelSet_=Object.create(null),e},clearCurrentLabel_:function(){var e=this.currentLabel_;return this.currentLabel_=null,e},transformSwitchStatement:function(t){var r,n,i,o,s,a=this.getLabels_();if(this.expressionNeedsStateMachine(t.expression))r=this.expressionToStateMachine(t.expression),i=r.expression,o=r.machine,r,s=this.transformList(t.caseClauses);else{var c=$traceurRuntime.superCall(this,fe.prototype,"transformSwitchStatement",[t]);if(!e(c))return c;n=c,i=n.expression,s=n.caseClauses,n}for(var u=this.allocateState(),l=this.allocateState(),h=l,p=[],f=[],d=[],m=!1,g=s.length-1;g>=0;g--){var v=s[g];if(v.type==y){var b=v;h=this.addSwitchClauseStates_(h,l,a,b.statements,p,d),f.push(new G(b.expression,h))}else{m=!0;var S=v;h=this.addSwitchClauseStates_(h,l,a,S.statements,p,d),f.push(new G(null,h))}}m||f.push(new G(null,l)),p.push(new q(u,i,f.reverse()));var w=new z(u,l,p.reverse(),d);return o&&(w=o.append(w)),w},addSwitchClauseStates_:function(e,t,r,n,i,o){for(var s,a=this.ensureTransformedList_(n),c=0;c<a.states.length;c++){var u=a.states[c],l=u.transformBreak(r,t);i.push(l.replaceState(a.fallThroughState,e))}return(s=o).push.apply(s,$traceurRuntime.spread(a.exceptionBlocks)),a.startState},transformTryStatement:function(e){var t=$traceurRuntime.superCall(this,fe.prototype,"transformTryStatement",[e]),s=t,a=s.body,c=s.catchBlock,u=s.finallyBlock;if(!(a.type==w||null!=c&&c.catchBody.type==w||null!=u&&u.block.type==w))return t;var l=this.allocateState(),h=this.allocateState(),p=this.statementToStateMachine_(H(r,c&&l,u&&h)),f=this.ensureTransformed_(a);if(f=p.append(f),null!==c){var d=this.statementToStateMachine_(H(n));f=f.append(d);var m=c.binding.identifierToken.value,g=this.ensureTransformed_(c.catchBody),y=this.allocateState();this.addMachineVariable(m);var v=$traceurRuntime.spread(f.states,[new k(y,g.startState,$(i,re(m)))]);this.replaceAndAddStates_(g.states,g.fallThroughState,f.fallThroughState,v),f=new z(f.startState,f.fallThroughState,v,[new A(m,y,f.fallThroughState,f.getAllStateIDs(),f.exceptionBlocks)]),f=f.replaceStateId(y,l)}if(null!=u){var b=this.ensureTransformed_(u.block),d=this.statementToStateMachine_(H(o));b=d.append(b);var v=$traceurRuntime.spread(f.states,b.states,[new P(b.fallThroughState)]);f=new z(f.startState,f.fallThroughState,v,[new I(b.startState,b.fallThroughState,f.getAllStateIDs(),f.exceptionBlocks)]),f=f.replaceStateId(b.startState,h)}return f},transformWhileStatement:function(e){var t,r,n,i,o,s,a=this.getLabels_(),c=this.clearCurrentLabel_();if(this.expressionNeedsStateMachine(e.condition))r=this.expressionToStateMachine(e.condition),o=r.machine,i=r.expression,r,s=this.transformAny(e.body);else{var u=$traceurRuntime.superCall(this,fe.prototype,"transformWhileStatement",[e]);if(n=u,i=n.condition,s=n.body,n,s.type!==w)return u}var l=this.ensureTransformed_(s),h=l.fallThroughState,p=this.allocateState(),f=[],d=h;o&&(o=o.replaceStartState(h),d=o.fallThroughState,(t=f).push.apply(t,$traceurRuntime.spread(o.states))),f.push(new O(d,l.startState,p,i)),this.addLoopBodyStates_(l,h,p,a,f);var o=new z(h,p,f,l.exceptionBlocks);return c&&(o=o.replaceStateId(h,c.continueState)),o},transformWithStatement:function(e){var t=$traceurRuntime.superCall(this,fe.prototype,"transformWithStatement",[e]);if(t.body.type!=w)return t;throw new Error("Unreachable - with statement not allowed in strict mode/harmony")},generateMachineInnerFunction:function(e){var t=e.getEnclosingFinallyMap(),r=oe(ne("$ctx","state"),this.transformMachineStates(e,V.END_STATE,V.RETHROW_STATE,t));return B(s,r)},addTempVar:function(){var e=this.getTempIdentifier();return this.addMachineVariable(e),e},addMachineVariable:function(e){this.hoistVariablesTransformer_.addVariable(e)},transformCpsFunctionBody:function(e,t){var r,n=arguments[2],i=f.rename(e,"arguments","$arguments"),o=i!==e,s=this.hoistVariablesTransformer_.transformAny(i),l=this.transformAny(s);if(this.reporter.hadError())return e;var h;h=l.type!==w?this.statementsToStateMachine_(l.statements):new z(l.startState,l.fallThroughState,this.removeEmptyStates(l.states),l.exceptionBlocks),h=h.replaceFallThroughState(V.END_STATE).replaceStartState(V.START_STATE);var p=[];return this.hoistVariablesTransformer_.hasFunctions()&&(r=p).push.apply(r,$traceurRuntime.spread(this.hoistVariablesTransformer_.getFunctions())),this.hoistVariablesTransformer_.hasVariables()&&p.push(this.hoistVariablesTransformer_.getVariableStatement()),o&&p.push(H(a)),n?p.push(H(c,t,this.generateMachineInnerFunction(h),n)):p.push(H(u,t,this.generateMachineInnerFunction(h))),te(p)},transformFunctionDeclaration:function(e){return e},transformFunctionExpression:function(e){return e},transformGetAccessor:function(e){return e},transformSetAccessor:function(e){return e},transformArrowFunctionExpression:function(e){return e},transformStateMachine:function(e){return e},statementToStateMachine_:function(e){var t;return t=e.type===g?e.statements:[e],this.statementsToStateMachine_(t)},statementsToStateMachine_:function(e){var t=this.allocateState(),r=this.allocateState();return this.stateToStateMachine_(new k(t,r,e),r)},stateToStateMachine_:function(e,t){return new z(e.id,t,[e],[])},transformMachineStates:function(e,t,r,n){for(var i=[],o=0;o<e.states.length;o++){var s=e.states[o],a=s.transformMachineState(n[s.id],t,this.reporter);null!=a&&i.push(a)}return this.addFinallyFallThroughDispatches(null,e.exceptionBlocks,i),i.push(Z($(l))),i},addFinallyFallThroughDispatches:function(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];if(i.kind==Y.Kind.FINALLY){var o=i;if(null!=e){for(var s=[],a=0,c=0;c<e.tryStates.length;c++){var u=e.tryStates[c];a++;var l;l=a<e.tryStates.length?[]:$(h,V.INVALID_STATE),s.push(J(ie(u),l))}s.push(Z([K(e.finallyState),Q()])),r.push(J(ie(o.fallThroughState),[oe(ne("$ctx","finallyFallThrough"),s),Q()]))}else r.push(J(ie(o.fallThroughState),$(p)));this.addFinallyFallThroughDispatches(o,o.nestedTrys,r)}else this.addFinallyFallThroughDispatches(e,i.nestedTrys,r)}},transformVariableDeclarationList:function(e){return this.reporter.reportError(e.location&&e.location.start,"Traceur: const/let declarations in a block containing a yield are not yet implemented"),e},maybeTransformStatement_:function(e){var t=new d(this.stateAllocator_).transformAny(e);return t!=e&&(t=this.transformAny(t)),t},ensureTransformed_:function(e){if(null==e)return null;var t=this.maybeTransformStatement_(e);return t.type==w?t:this.statementToStateMachine_(t)},ensureTransformedList_:function(e){for(var t=[],r=!1,n=0;n<e.length;n++){var i=e[n],o=this.maybeTransformStatement_(i);t.push(o),o.type==w&&(r=!0)}return r?this.transformStatementList_(t):this.statementsToStateMachine_(e)},expressionToStateMachine:function(e){var t=new j(this).transformAny(e),r=(new de).transformAny(t).statements,n=r.pop();M(n.type===b);var i=n.expression;r=$traceurRuntime.superCall(this,fe.prototype,"transformList",[r]);var o=this.transformStatementList_(r);return{expression:i,machine:o}}},{},D);var de=function(){$traceurRuntime.defaultSuperCall(this,me.prototype,arguments)},me=de;return $traceurRuntime.createClass(de,{transformCommaExpression:function(e){var t=this,r=e.expressions.map(function(e){return e.type===v?t.transformAny(e):ee(e)});return new T(e.location,r)},transformConditionalExpression:function(e){var r=this.transformAny(e.left),n=this.transformAny(e.right);return new x(e.location,e.condition,t(r),t(n))}},{},N),{get CPSTransformer(){return pe}}}),System.register("traceur@0.0.72/src/codegeneration/generator/EndState",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,t=function(){$traceurRuntime.defaultSuperCall(this,r.prototype,arguments)},r=t;return $traceurRuntime.createClass(t,{replaceState:function(t,n){return new r(e.replaceStateId(this.id,t,n))},transform:function(t,r,n){return e.generateJump(t,r)}},{},e),{get EndState(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/generator/AsyncTransformer",[],function(){"use strict";function e(e){return e.type===m&&e.operator.isAssignmentOperator()&&e.right.type===d&&e.left.isLeftHandSideExpression()}function t(e){return new E(e).found}var r=Object.freeze(Object.defineProperties(["$ctx.value"],{raw:{value:Object.freeze(["$ctx.value"])}})),n=Object.freeze(Object.defineProperties(["$ctx.returnValue = ",""],{raw:{value:Object.freeze(["$ctx.returnValue = ",""])}})),i=Object.freeze(Object.defineProperties(["$ctx.resolve(",")"],{raw:{value:Object.freeze(["$ctx.resolve(",")"])}})),o=Object.freeze(Object.defineProperties(["$traceurRuntime.asyncWrap"],{raw:{value:Object.freeze(["$traceurRuntime.asyncWrap"])}})),s=System.get("traceur@0.0.72/src/codegeneration/generator/AwaitState").AwaitState,a=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),c=a.BinaryExpression,u=a.ExpressionStatement,l=System.get("traceur@0.0.72/src/codegeneration/generator/CPSTransformer").CPSTransformer,h=System.get("traceur@0.0.72/src/codegeneration/generator/EndState").EndState,p=System.get("traceur@0.0.72/src/codegeneration/generator/FallThroughState").FallThroughState,f=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),d=f.AWAIT_EXPRESSION,m=f.BINARY_EXPRESSION,g=f.STATE_MACHINE,y=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),v=y.parseExpression,b=y.parseStatement,S=y.parseStatements,w=System.get("traceur@0.0.72/src/syntax/trees/StateMachine").StateMachine,_=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,T=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createUndefinedExpression,E=function(){$traceurRuntime.defaultSuperCall(this,C.prototype,arguments)},C=E;$traceurRuntime.createClass(E,{visitAwaitExpression:function(e){this.found=!0}},{},_);var x=function(){$traceurRuntime.defaultSuperCall(this,R.prototype,arguments)},R=x;return $traceurRuntime.createClass(x,{expressionNeedsStateMachine:function(e){return null===e?!1:t(e)},transformExpressionStatement:function(t){var r=t.expression;return r.type===d?this.transformAwaitExpression_(r):e(r)?this.transformAwaitAssign_(r):this.expressionNeedsStateMachine(r)?this.expressionToStateMachine(r).machine:$traceurRuntime.superCall(this,R.prototype,"transformExpressionStatement",[t])},transformAwaitExpression:function(e){throw new Error("Internal error")},transformAwaitExpression_:function(e){return this.transformAwait_(e,e.expression,null,null)},transformAwaitAssign_:function(e){return this.transformAwait_(e,e.right.expression,e.left,e.operator)},transformAwait_:function(e,t,n,i){var o,a,l;this.expressionNeedsStateMachine(t)?(o=this.expressionToStateMachine(t),a=o.expression,l=o.machine,o):a=this.transformAny(t);var h=this.allocateState(),f=this.allocateState(),d=n?this.allocateState():f,m=[];if(m.push(new s(h,d,a)),n){var g=new u(e.location,new c(e.location,n,i,v(r)));m.push(new p(d,f,[g]))}var y=new w(h,f,m,[]);return l&&(y=l.append(y)),y},transformFinally:function(e){var t=$traceurRuntime.superCall(this,R.prototype,"transformFinally",[e]);return t.block.type!=g?t:(this.reporter.reportError(e.location.start,"await not permitted within a finally block."),t)},transformReturnStatement:function(e){var t,r,i;this.expressionNeedsStateMachine(e.expression)?(t=this.expressionToStateMachine(e.expression),r=t.expression,i=t.machine,t):r=e.expression||T();var o=this.allocateState(),s=this.allocateState(),a=new p(o,s,S(n,r)),c=new h(s),u=new w(o,this.allocateState(),[a,c],[]);return i&&(u=i.append(u)),u},createCompleteTask_:function(e){return b(i,e)},transformAsyncBody:function(e){var t=v(o);return this.transformCpsFunctionBody(e,t)}},{transformAsyncBody:function(e,t,r){return new R(e,t).transformAsyncBody(r)}},l),{get AsyncTransformer(){return x}}}),System.register("traceur@0.0.72/src/codegeneration/generator/ForInTransformPass",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),t=e.BLOCK,r=e.VARIABLE_DECLARATION_LIST,n=e.IDENTIFIER_EXPRESSION,i=System.get("traceur@0.0.72/src/syntax/PredefinedName"),o=i.LENGTH,s=i.PUSH,a=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,c=System.get("traceur@0.0.72/src/syntax/TokenType"),u=c.BANG,l=c.IN,h=c.OPEN_ANGLE,p=c.PLUS_PLUS,f=c.VAR,d=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),m=d.createArgumentList,g=d.createAssignmentStatement,y=d.createBinaryExpression,v=d.createBlock,b=d.createCallStatement,S=d.createContinueStatement,w=d.createEmptyArrayLiteralExpression,_=d.createForInStatement,T=d.createForStatement,E=d.createIdentifierExpression,C=d.createIfStatement,x=d.createMemberExpression,R=d.createMemberLookupExpression,A=d.createNumberLiteral,O=d.createOperatorToken,j=d.createParenExpression,k=d.createPostfixExpression,P=d.createUnaryExpression,I=d.createVariableDeclarationList,L=d.createVariableStatement,N=function(){$traceurRuntime.defaultSuperCall(this,D.prototype,arguments)},D=N;return $traceurRuntime.createClass(N,{transformForInStatement:function(e){var i,a,c=[],d=this.transformAny(e.body);d.type==t?(i=c).push.apply(i,$traceurRuntime.spread(d.statements)):c.push(d);var N=[],D=this.getTempIdentifier();N.push(L(f,D,w()));var M=this.getTempIdentifier();N.push(L(f,M,e.collection));var F=this.getTempIdentifier();N.push(_(I(f,F,null),E(M),b(x(D,s),m([E(F)]))));var B,H,$=this.getTempIdentifier(),V=R(E(D),E($));if(e.initializer.type==r){var U=e.initializer;B=E(U.declarations[0].lvalue),H=L(U.declarationType,B.identifierToken,V)}else{if(e.initializer.type!=n)throw new Error("Invalid left hand side of for in loop");B=e.initializer,H=g(e.initializer,V)}var z=[];return z.push(H),z.push(C(P(O(u),j(y(B,O(l),E(M)))),S(),null)),(a=z).push.apply(a,$traceurRuntime.spread(c)),N.push(T(I(f,$,A(0)),y(E($),O(h),x(D,o)),k(E($),O(p)),v(z))),v(N)}},{},a),{get ForInTransformPass(){return N}}}),System.register("traceur@0.0.72/src/codegeneration/generator/YieldState",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["return ",""],{raw:{value:Object.freeze(["return ",""])}})),t=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,r=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,n=function(e,t,r){$traceurRuntime.superCall(this,i.prototype,"constructor",[e]),this.fallThroughState=t,this.expression=r},i=n;return $traceurRuntime.createClass(n,{replaceState:function(e,r){return new this.constructor(t.replaceStateId(this.id,e,r),t.replaceStateId(this.fallThroughState,e,r),this.expression)},transform:function(n,i,o){return $traceurRuntime.spread(t.generateAssignState(n,this.fallThroughState),[r(e,this.expression)])}},{},t),{get YieldState(){return n}}}),System.register("traceur@0.0.72/src/codegeneration/generator/ReturnState",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["$ctx.returnValue = ",""],{raw:{value:Object.freeze(["$ctx.returnValue = ",""])}})),t=System.get("traceur@0.0.72/src/semantics/util"),r=t.isUndefined,n=t.isVoidExpression,i=System.get("traceur@0.0.72/src/codegeneration/generator/YieldState").YieldState,o=System.get("traceur@0.0.72/src/codegeneration/generator/State").State,s=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,a=function(){$traceurRuntime.defaultSuperCall(this,c.prototype,arguments)},c=a;return $traceurRuntime.createClass(a,{transform:function(t,i,a){var c,u=this.expression,l=[];return!u||r(u)||n(u)||l.push(s(e,this.expression)),(c=l).push.apply(c,$traceurRuntime.spread(o.generateJump(t,i))),l}},{},i),{get ReturnState(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/generator/GeneratorTransformer",[],function(){"use strict";function e(e){return e.type===u&&e.operator.isAssignmentOperator()&&e.right.type===l&&e.left.isLeftHandSideExpression()}function t(e){return new E(e).found}var r=Object.freeze(Object.defineProperties(["\n        "," = ","[Symbol.iterator]();\n        // received = void 0;\n        $ctx.sent = void 0;\n        // send = true; // roughly equivalent\n        $ctx.action = 'next';\n\n        for (;;) {\n          "," = ","[$ctx.action]($ctx.sentIgnoreThrow);\n          if (",".done) {\n            $ctx.sent = ",".value;\n            break;\n          }\n          yield ",".value;\n        }"],{raw:{value:Object.freeze(["\n        "," = ","[Symbol.iterator]();\n        // received = void 0;\n        $ctx.sent = void 0;\n        // send = true; // roughly equivalent\n        $ctx.action = 'next';\n\n        for (;;) {\n          "," = ","[$ctx.action]($ctx.sentIgnoreThrow);\n          if (",".done) {\n            $ctx.sent = ",".value;\n            break;\n          }\n          yield ",".value;\n        }"])}})),n=Object.freeze(Object.defineProperties(["$ctx.sentIgnoreThrow"],{raw:{value:Object.freeze(["$ctx.sentIgnoreThrow"])}})),i=Object.freeze(Object.defineProperties(["$ctx.sent"],{raw:{value:Object.freeze(["$ctx.sent"])}})),o=Object.freeze(Object.defineProperties(["$ctx.maybeThrow()"],{raw:{value:Object.freeze(["$ctx.maybeThrow()"])}})),s=Object.freeze(Object.defineProperties(["$traceurRuntime.createGeneratorInstance"],{raw:{value:Object.freeze(["$traceurRuntime.createGeneratorInstance"])}})),a=System.get("traceur@0.0.72/src/codegeneration/generator/CPSTransformer").CPSTransformer,c=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),u=c.BINARY_EXPRESSION,l=c.YIELD_EXPRESSION,h=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),p=h.BinaryExpression,f=h.ExpressionStatement,d=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,m=System.get("traceur@0.0.72/src/codegeneration/generator/ReturnState").ReturnState,g=System.get("traceur@0.0.72/src/codegeneration/generator/YieldState").YieldState,y=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),v=y.createIdentifierExpression,b=(y.createMemberExpression,y.createUndefinedExpression),S=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),w=S.parseExpression,_=S.parseStatement,T=S.parseStatements,E=function(){$traceurRuntime.defaultSuperCall(this,C.prototype,arguments)},C=E;$traceurRuntime.createClass(E,{visitYieldExpression:function(e){this.found=!0}},{},d);var x=function(e,t){$traceurRuntime.superCall(this,R.prototype,"constructor",[e,t]),this.shouldAppendThrowCloseState_=!0},R=x;return $traceurRuntime.createClass(x,{expressionNeedsStateMachine:function(e){return null===e?!1:t(e)},transformYieldExpression_:function(e){var t,r,n;if(this.expressionNeedsStateMachine(e.expression)?(t=this.expressionToStateMachine(e.expression),r=t.expression,n=t.machine,t):(r=this.transformAny(e.expression),r||(r=b())),e.isYieldFor)return this.transformYieldForExpression_(r,n);var i=this.allocateState(),o=this.allocateState(),s=this.stateToStateMachine_(new g(i,o,r),o);return n&&(s=n.append(s)),this.shouldAppendThrowCloseState_&&(s=s.append(this.createThrowCloseState_())),s},transformYieldForExpression_:function(e){var t=arguments[1],n=this.getTempIdentifier();this.addMachineVariable(n);var i=v(n),o=this.getTempIdentifier();this.addMachineVariable(o);var s=v(o),a=T(r,i,e,s,i,s,s,s),c=this.shouldAppendThrowCloseState_;this.shouldAppendThrowCloseState_=!1,a=this.transformList(a);var u=this.transformStatementList_(a);return this.shouldAppendThrowCloseState_=c,t&&(u=t.append(u)),u},transformYieldExpression:function(e){return this.reporter.reportError(e.location.start,"Only 'a = yield b' and 'var a = yield b' currently supported."),e},transformYieldAssign_:function(e){var t=this.shouldAppendThrowCloseState_;this.shouldAppendThrowCloseState_=!1;var r=this.transformYieldExpression_(e.right),o=this.transformAny(e.left),s=w(e.right.isYieldFor?n:i),a=new f(e.location,new p(e.location,o,e.operator,s)),c=this.statementToStateMachine_(a);return this.shouldAppendThrowCloseState_=t,r.append(c)},createThrowCloseState_:function(){return this.statementToStateMachine_(_(o))},transformExpressionStatement:function(t){var r=t.expression;return r.type===l?this.transformYieldExpression_(r):e(r)?this.transformYieldAssign_(r):this.expressionNeedsStateMachine(r)?this.expressionToStateMachine(r).machine:$traceurRuntime.superCall(this,R.prototype,"transformExpressionStatement",[t])},transformAwaitStatement:function(e){return this.reporter.reportError(e.location.start,"Generator function may not have an await statement."),e},transformReturnStatement:function(e){var t,r,n;this.expressionNeedsStateMachine(e.expression)?(t=this.expressionToStateMachine(e.expression),r=t.expression,n=t.machine,t):r=e.expression;var i=this.allocateState(),o=this.allocateState(),s=this.stateToStateMachine_(new m(i,o,this.transformAny(r)),o);return n?n.append(s):s},transformGeneratorBody:function(e,t){var r=w(s);return this.transformCpsFunctionBody(e,r,t)}},{transformGeneratorBody:function(e,t,r,n){return new R(e,t).transformGeneratorBody(r,n)}},a),{get GeneratorTransformer(){return x}}}),System.register("traceur@0.0.72/src/codegeneration/GeneratorTransformPass",[],function(){"use strict";function e(e){return w.generators&&e.isGenerator()||w.asyncFunctions&&e.isAsyncFunction()}var t=Object.freeze(Object.defineProperties(["$traceurRuntime.initGeneratorFunction(",")"],{raw:{value:Object.freeze(["$traceurRuntime.initGeneratorFunction(",")"])}})),r=Object.freeze(Object.defineProperties(["var "," = ",""],{raw:{value:Object.freeze(["var "," = ",""])}})),n=Object.freeze(Object.defineProperties(["$traceurRuntime.initGeneratorFunction(",")"],{raw:{value:Object.freeze(["$traceurRuntime.initGeneratorFunction(",")"])}})),i=System.get("traceur@0.0.72/src/codegeneration/ArrowFunctionTransformer").ArrowFunctionTransformer,o=System.get("traceur@0.0.72/src/codegeneration/generator/AsyncTransformer").AsyncTransformer,s=System.get("traceur@0.0.72/src/codegeneration/generator/ForInTransformPass").ForInTransformPass,a=System.get("traceur@0.0.72/src/codegeneration/generator/GeneratorTransformer").GeneratorTransformer,c=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),u=c.parseExpression,l=c.parseStatement,h=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,p=System.get("traceur@0.0.72/src/codegeneration/FindInFunctionScope").FindInFunctionScope,f=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),d=f.AnonBlock,m=f.FunctionDeclaration,g=f.FunctionExpression,y=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),v=y.createBindingIdentifier,b=y.createIdentifierExpression,S=y.createIdentifierToken,w=System.get("traceur@0.0.72/src/Options").transformOptions,_=function(){$traceurRuntime.defaultSuperCall(this,T.prototype,arguments)},T=_;$traceurRuntime.createClass(_,{visitForInStatement:function(e){this.found=!0}},{},p);var E=function(e,t){$traceurRuntime.superCall(this,C.prototype,"constructor",[e]),this.reporter_=t,this.inBlock_=!1},C=E;return $traceurRuntime.createClass(E,{transformFunctionDeclaration:function(t){return e(t)?t.isGenerator()?this.transformGeneratorDeclaration_(t):this.transformFunction_(t,m,null):$traceurRuntime.superCall(this,C.prototype,"transformFunctionDeclaration",[t])},transformGeneratorDeclaration_:function(e){var n=b(e.name.identifierToken),i=u(t,n),o=b(this.inBlock_?this.getTempIdentifier():this.addTempVar(i)),s=this.transformFunction_(e,m,o);return this.inBlock_?new d(null,[s,l(r,o,i)]):s},transformFunctionExpression:function(t){return e(t)?t.isGenerator()?this.transformGeneratorExpression_(t):this.transformFunction_(t,g,null):$traceurRuntime.superCall(this,C.prototype,"transformFunctionExpression",[t])},transformGeneratorExpression_:function(e){var t;e.name?t=e.name.identifierToken:(t=S(this.getTempIdentifier()),e=new g(e.location,v(t),e.functionKind,e.parameterList,e.typeAnnotation,e.annotations,e.body));var r=this.transformFunction_(e,g,b(t));return u(n,r)},transformFunction_:function(e,t,r){var n=$traceurRuntime.superCall(this,C.prototype,"transformAny",[e.body]),i=new _(n);i.found&&(n=new s(this.identifierGenerator).transformAny(n)),w.generators&&e.isGenerator()?n=a.transformGeneratorBody(this.identifierGenerator,this.reporter_,n,r):w.asyncFunctions&&e.isAsyncFunction()&&(n=o.transformAsyncBody(this.identifierGenerator,this.reporter_,n));var c=null;return new t(e.location,e.name,c,e.parameterList,e.typeAnnotation||null,e.annotations||null,n)},transformArrowFunctionExpression:function(e){return e.isAsyncFunction()?this.transformAny(i.transform(this,e)):$traceurRuntime.superCall(this,C.prototype,"transformArrowFunctionExpression",[e])},transformBlock:function(e){var t=this.inBlock_;this.inBlock_=!0;var r=$traceurRuntime.superCall(this,C.prototype,"transformBlock",[e]);return this.inBlock_=t,r}},{},h),{get GeneratorTransformPass(){return E}}}),System.register("traceur@0.0.72/src/codegeneration/InlineModuleTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/TokenType").VAR,t=System.get("traceur@0.0.72/src/codegeneration/ModuleTransformer").ModuleTransformer,r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),n=r.createBindingIdentifier,i=r.createEmptyStatement,o=r.createFunctionBody,s=r.createImmediatelyInvokedFunctionExpression,a=r.createScopedExpression,c=r.createVariableStatement,u=System.get("traceur@0.0.72/src/codegeneration/globalThis")["default"],l=System.get("traceur@0.0.72/src/codegeneration/scopeContainsThis")["default"],h=0,p=function(){$traceurRuntime.defaultSuperCall(this,f.prototype,arguments)},f=p;return $traceurRuntime.createClass(p,{wrapModule:function(t){var r,n=this.moduleName||"anon_"+ ++h,i=this.getTempVarNameForModuleName(n),p=o(t);return r=t.some(l)?a(p,u()):s(p),[c(e,i,r)]},transformNamedExport:function(e){return i()},transformModuleSpecifier:function(e){return n(this.getTempVarNameForModuleSpecifier(e))}},{},t),{get InlineModuleTransformer(){return p}}}),System.register("traceur@0.0.72/src/codegeneration/InstantiateModuleTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties([""," = ",""],{raw:{value:Object.freeze([""," = ",""])}})),t=Object.freeze(Object.defineProperties(["$__export(",", ",")"],{raw:{value:Object.freeze(["$__export(",", ",")"])}})),r=Object.freeze(Object.defineProperties(["($__export(",", "," + 1), ",")"],{raw:{value:Object.freeze(["($__export(",", "," + 1), ",")"])}})),n=Object.freeze(Object.defineProperties(["($__export(",", "," - 1), ",")"],{raw:{value:Object.freeze(["($__export(",", "," - 1), ",")"])}})),i=Object.freeze(Object.defineProperties(["$__export(",", ",")}"],{raw:{value:Object.freeze(["$__export(",", ",")}"])}})),o=Object.freeze(Object.defineProperties(["System.register(",", ",", function($__export) {\n          ","\n        });"],{raw:{value:Object.freeze(["System.register(",", ",", function($__export) {\n          ","\n        });"])}})),s=Object.freeze(Object.defineProperties(["System.register(",", function($__export) {\n          ","\n        });"],{raw:{value:Object.freeze(["System.register(",", function($__export) {\n          ","\n        });"])}})),a=Object.freeze(Object.defineProperties([""," = m.",";"],{
raw:{value:Object.freeze([""," = m.",";"])}})),c=Object.freeze(Object.defineProperties(["$__export(",", m.",");"],{raw:{value:Object.freeze(["$__export(",", m.",");"])}})),u=Object.freeze(Object.defineProperties([""," = m;"],{raw:{value:Object.freeze([""," = m;"])}})),l=Object.freeze(Object.defineProperties(["\n          Object.keys(m).forEach(function(p) {\n            $__export(p, m[p]);\n          });\n        "],{raw:{value:Object.freeze(["\n          Object.keys(m).forEach(function(p) {\n            $__export(p, m[p]);\n          });\n        "])}})),h=Object.freeze(Object.defineProperties(["function(m) {\n          ","\n        }"],{raw:{value:Object.freeze(["function(m) {\n          ","\n        }"])}})),p=Object.freeze(Object.defineProperties(["function(m) {}"],{raw:{value:Object.freeze(["function(m) {}"])}})),f=Object.freeze(Object.defineProperties(["\n        $__export(",", ",")\n      "],{raw:{value:Object.freeze(["\n        $__export(",", ",")\n      "])}})),d=Object.freeze(Object.defineProperties(["return {\n      setters: ",",\n      execute: ","\n    }"],{raw:{value:Object.freeze(["return {\n      setters: ",",\n      execute: ","\n    }"])}})),m=Object.freeze(Object.defineProperties(["$__export(",", ",")"],{raw:{value:Object.freeze(["$__export(",", ",")"])}})),g=Object.freeze(Object.defineProperties(["$__export(",", ",")"],{raw:{value:Object.freeze(["$__export(",", ",")"])}})),y=Object.freeze(Object.defineProperties(["var "," = $__export(",", ",");"],{raw:{value:Object.freeze(["var "," = $__export(",", ",");"])}})),v=Object.freeze(Object.defineProperties(["var ",";"],{raw:{value:Object.freeze(["var ",";"])}})),b=Object.freeze(Object.defineProperties(["$__export('default', ",");"],{raw:{value:Object.freeze(["$__export('default', ",");"])}})),S=Object.freeze(Object.defineProperties(["$__export(",", ",");"],{raw:{value:Object.freeze(["$__export(",", ",");"])}})),w=Object.freeze(Object.defineProperties(["var ",";"],{raw:{value:Object.freeze(["var ",";"])}})),_=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),T=_.AnonBlock,E=_.ArrayLiteralExpression,C=_.ClassExpression,x=_.CommaExpression,R=_.ExpressionStatement,A=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),O=A.CLASS_DECLARATION,j=A.FUNCTION_DECLARATION,k=A.IDENTIFIER_EXPRESSION,P=A.IMPORT_SPECIFIER_SET,I=System.get("traceur@0.0.72/src/codegeneration/ScopeTransformer").ScopeTransformer,L=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),N=L.createIdentifierExpression,D=L.createIdentifierToken,M=L.createVariableStatement,F=L.createVariableDeclaration,B=L.createVariableDeclarationList,H=System.get("traceur@0.0.72/src/codegeneration/ModuleTransformer").ModuleTransformer,$=System.get("traceur@0.0.72/src/syntax/TokenType"),V=$.MINUS_MINUS,U=$.PLUS_PLUS,z=$.VAR,W=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),G=W.parseExpression,q=W.parseStatement,Y=W.parseStatements,X=System.get("traceur@0.0.72/src/codegeneration/HoistVariablesTransformer")["default"],K=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),Q=K.createFunctionExpression,J=K.createEmptyParameterList,Z=K.createFunctionBody,ee=function(){$traceurRuntime.superCall(this,te.prototype,"constructor",[]),this.declarations_=[]},te=ee;$traceurRuntime.createClass(ee,{getDeclarationStatements:function(){return $traceurRuntime.spread([this.getVariableStatement()],this.declarations_)},addDeclaration:function(e){this.declarations_.push(e)},transformFunctionDeclaration:function(e){return this.addDeclaration(e),new T(null,[])},transformClassDeclaration:function(t){return this.addVariable(t.name.identifierToken.value),t=new C(t.location,t.name,t.superClass,t.elements,t.annotations),q(e,t.name.identifierToken,t)}},{},X);var re=function(e,t){$traceurRuntime.superCall(this,ne.prototype,"constructor",[t]),this.bindingName_=t,this.exportName_=e},ne=re;$traceurRuntime.createClass(re,{matchesBindingName_:function(e){return e.type===k&&e.identifierToken.value==this.bindingName_},transformUnaryExpression:function(e){if(!this.matchesBindingName_(e.operand))return $traceurRuntime.superCall(this,ne.prototype,"transformUnaryExpression",[e]);var r=e.operator.type;if(r!==U&&r!==V)return $traceurRuntime.superCall(this,ne.prototype,"transformUnaryExpression",[e]);var n=this.transformAny(e.operand);return n!==e.operand&&(e=new UnaryExpression(e.location,e.operator,n)),G(t,this.exportName_,e)},transformPostfixExpression:function(e){if(e=$traceurRuntime.superCall(this,ne.prototype,"transformPostfixExpression",[e]),!this.matchesBindingName_(e.operand))return e;switch(e.operator.type){case U:return G(r,this.exportName_,e.operand,e);case V:return G(n,this.exportName_,e.operand,e)}return e},transformBinaryExpression:function(e){return e=$traceurRuntime.superCall(this,ne.prototype,"transformBinaryExpression",[e]),e.operator.isAssignmentOperator()&&this.matchesBindingName_(e.left)?G(i,this.exportName_,e):e}},{},I);var ie=function(e){$traceurRuntime.superCall(this,oe.prototype,"constructor",[e]),this.inExport_=!1,this.curDepIndex_=null,this.dependencies=[],this.externalExportBindings=[],this.importBindings=[],this.localExportBindings=[],this.functionDeclarations=[],this.moduleBindings=[],this.exportStarBindings=[]},oe=ie;return $traceurRuntime.createClass(ie,{wrapModule:function(e){return this.moduleName?Y(o,this.moduleName,this.dependencies,e):Y(s,this.dependencies,e)},appendExportStatement:function(e){var t=this,r=new ee;this.localExportBindings.forEach(function(t){e=new re(t.exportName,t.localName).transformList(e)});var n=e.map(function(e){return r.transformAny(e)}),i=Q(J(),Z(n)),o=r.getDeclarationStatements(),s=this.dependencies.map(function(e,r){var n=t.importBindings[r],i=t.externalExportBindings[r],o=t.exportStarBindings[r],s=t.moduleBindings[r],f=[];return n&&n.forEach(function(e){f.push(q(a,D(e.variableName),e.exportName))}),i&&i.forEach(function(e){f.push(q(c,e.exportName,e.importName))}),s&&f.push(q(u,N(s))),o&&(f=f.concat(Y(l))),f.length?G(h,f):G(p)});return o=o.concat(this.functionDeclarations.map(function(e){return q(f,e.exportName,D(e.functionName))})),o.push(q(d,new E(null,s),i)),o},addLocalExportBinding:function(e){var t=void 0!==arguments[1]?arguments[1]:e;this.localExportBindings.push({exportName:e,localName:t})},addImportBinding:function(e,t,r){this.importBindings[e]=this.importBindings[e]||[],this.importBindings[e].push({variableName:t,exportName:r})},addExternalExportBinding:function(e,t,r){this.externalExportBindings[e]=this.externalExportBindings[e]||[],this.externalExportBindings[e].push({exportName:t,importName:r})},addExportStarBinding:function(e){this.exportStarBindings[e]=!0},addModuleBinding:function(e,t){this.moduleBindings[e]=t},addExportFunction:function(e){var t=void 0!==arguments[1]?arguments[1]:e;this.functionDeclarations.push({exportName:e,functionName:t})},getOrCreateDependencyIndex:function(e){var t=e.token.processedValue,r=this.dependencies.indexOf(t);return-1==r&&(r=this.dependencies.length,this.dependencies.push(t)),r},transformExportDeclaration:function(e){this.inExport_=!0,e.declaration.moduleSpecifier?this.curDepIndex_=this.getOrCreateDependencyIndex(e.declaration.moduleSpecifier):this.curDepIndex_=null;var t=this.transformAny(e.declaration);return this.inExport_=!1,t},transformVariableStatement:function(e){var t=this;return this.inExport_?(this.inExport_=!1,M(B(z,e.declarations.declarations.map(function(e){var r,n=e.lvalue.identifierToken.value;return t.addLocalExportBinding(n),r=e.initializer?G(m,n,t.transformAny(e.initializer)):G(g,n,N(n)),F(n,r)})))):$traceurRuntime.superCall(this,oe.prototype,"transformVariableStatement",[e])},transformExportStar:function(e){return this.inExport_=!1,this.addExportStarBinding(this.curDepIndex_),new T(null,[])},transformClassDeclaration:function(e){if(!this.inExport_)return $traceurRuntime.superCall(this,oe.prototype,"transformClassDeclaration",[e]);this.inExport_=!1;var t=this.transformAny(e.name),r=this.transformAny(e.superClass),n=this.transformList(e.elements),i=this.transformList(e.annotations),o=t.identifierToken.value,s=new C(e.location,t,r,n,i);return this.addLocalExportBinding(o),q(y,o,o,s)},transformFunctionDeclaration:function(e){if(this.inExport_){var t=e.name.getStringValue();this.addLocalExportBinding(t),this.addExportFunction(t),this.inExport_=!1}return $traceurRuntime.superCall(this,oe.prototype,"transformFunctionDeclaration",[e])},transformNamedExport:function(e){this.transformAny(e.moduleSpecifier);var t=this.transformAny(e.specifierSet);return null===this.curDepIndex_?t:new T(null,[])},transformImportDeclaration:function(e){this.curDepIndex_=this.getOrCreateDependencyIndex(e.moduleSpecifier);this.transformAny(e.moduleSpecifier);if(!e.importClause)return new T(null,[]);var t=this.transformAny(e.importClause);if(e.importClause.type===P)return t;var r=e.importClause.binding.getStringValue();return this.addImportBinding(this.curDepIndex_,r,"default"),q(v,r)},transformImportSpecifierSet:function(e){return M(B(z,this.transformList(e.specifiers)))},transformExportDefault:function(e){this.inExport_=!1;var t=this.transformAny(e.expression);return this.addLocalExportBinding("default"),t.type===O&&(t=new C(t.location,t.name,t.superClass,t.elements,t.annotations)),t.type===j?(this.addExportFunction("default",t.name.identifierToken.value),t):q(b,t)},transformExportSpecifier:function(e){var t,r;return e.rhs?(t=e.rhs.value,r=e.lhs.value):(t=e.lhs.value,r=t),null===this.curDepIndex_?(this.addLocalExportBinding(t,r),G(S,t,N(r))):void this.addExternalExportBinding(this.curDepIndex_,t,r)},transformExportSpecifierSet:function(e){var t=this.transformList(e.specifiers);return new R(e.location,new x(e.location,t.filter(function(e){return e})))},transformImportSpecifier:function(e){var t=e.binding.binding,r=t.identifierToken,n=(e.name||r).value;return this.addImportBinding(this.curDepIndex_,r.value,n),F(t)},transformModuleDeclaration:function(e){this.transformAny(e.expression);var t=e.binding.binding,r=t.getStringValue();return this.addModuleBinding(this.curDepIndex_,r),q(w,t)},transformModuleSpecifier:function(e){return this.curDepIndex_=this.getOrCreateDependencyIndex(e),e}},{},H),{get InstantiateModuleTransformer(){return ie}}}),System.register("traceur@0.0.72/src/outputgeneration/ParseTreeWriter",[],function(){"use strict";function e(e,t){return!((e!==K&&e!==Q||t!==K&&t!==Q)&&(e!==ie&&e!==oe||t!==ie&&t!==oe))}function t(e){return w(e.charCodeAt(e.length-1))}var r=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),n=r.BLOCK,i=r.CLASS_DECLARATION,o=r.FUNCTION_DECLARATION,s=r.IF_STATEMENT,a=r.LITERAL_EXPRESSION,c=r.POSTFIX_EXPRESSION,u=r.UNARY_EXPRESSION,l=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,h=System.get("traceur@0.0.72/src/syntax/PredefinedName"),p=h.AS,f=h.ASYNC,d=h.AWAIT,m=h.FROM,g=h.GET,y=h.OF,v=(h.MODULE,h.SET),b=System.get("traceur@0.0.72/src/syntax/Scanner"),S=b.isIdentifierPart,w=b.isWhitespace,_=System.get("traceur@0.0.72/src/syntax/TokenType"),T=_.ARROW,E=_.AT,C=_.BACK_QUOTE,x=_.BREAK,R=_.CASE,A=_.CATCH,O=_.CLASS,j=_.CLOSE_CURLY,k=_.CLOSE_PAREN,P=_.CLOSE_SQUARE,I=_.COLON,L=_.COMMA,N=_.CONTINUE,D=_.DEBUGGER,M=_.DEFAULT,F=_.DO,B=_.DOT_DOT_DOT,H=_.ELSE,$=_.EQUAL,V=_.EXPORT,U=_.EXTENDS,z=_.FINALLY,W=_.FOR,G=_.FUNCTION,q=_.IF,Y=_.IMPORT,X=_.IN,K=_.MINUS,Q=_.MINUS_MINUS,J=_.NEW,Z=_.NUMBER,ee=_.OPEN_CURLY,te=_.OPEN_PAREN,re=_.OPEN_SQUARE,ne=_.PERIOD,ie=_.PLUS,oe=_.PLUS_PLUS,se=_.QUESTION,ae=_.RETURN,ce=_.SEMI_COLON,ue=_.STAR,le=_.STATIC,he=_.SUPER,pe=_.SWITCH,fe=_.THIS,de=_.THROW,me=_.TRY,ge=_.WHILE,ye=_.WITH,ve=_.YIELD,be="\n",Se=80,we=function(){var e,t,r,n=void 0!==arguments[0]?arguments[0]:{},i=void 0===(e=n.highlighted)?!1:e,o=void 0===(t=n.showLineNumbers)?!1:t,s=void 0===(r=n.prettyPrint)?!0:r;$traceurRuntime.superCall(this,_e.prototype,"constructor",[]),this.highlighted_=i,this.showLineNumbers_=o,this.prettyPrint_=s,this.result_="",this.currentLine_="",this.currentLineComment_=null,this.indentDepth_=0,this.currentParameterTypeAnnotation_=null},_e=we;return $traceurRuntime.createClass(we,{toString:function(){return this.currentLine_.length>0&&(this.result_+=this.currentLine_,this.currentLine_=""),this.result_},visitAny:function(e){if(e){if(e===this.highlighted_&&this.write_("[41m"),null!==e.location&&null!==e.location.start&&this.showLineNumbers_){var t=e.location.start.line+1,r=e.location.start.column;this.currentLineComment_="Line: "+t+"."+r}$traceurRuntime.superCall(this,_e.prototype,"visitAny",[e]),e===this.highlighted_&&this.write_("[0m")}},visitAnnotation:function(e){this.write_(E),this.visitAny(e.name),null!==e.args&&(this.write_(te),this.writeList_(e.args,L,!1),this.write_(k))},visitArgumentList:function(e){this.write_(te),this.writeList_(e.args,L,!1),this.write_(k)},visitArrayComprehension:function(e){this.write_(re),this.visitList(e.comprehensionList),this.visitAny(e.expression),this.write_(P)},visitArrayLiteralExpression:function(e){this.write_(re),this.writeList_(e.elements,L,!1),this.write_(P)},visitArrayPattern:function(e){this.write_(re),this.writeList_(e.elements,L,!1),this.write_(P)},visitArrowFunctionExpression:function(e){e.functionKind&&(this.write_(e.functionKind),this.writeSpace_()),this.write_(te),this.visitAny(e.parameterList),this.write_(k),this.writeSpace_(),this.write_(T),this.writeSpace_(),this.visitAny(e.body)},visitAssignmentElement:function(e){this.visitAny(e.assignment),e.initializer&&(this.writeSpace_(),this.write_($),this.writeSpace_(),this.visitAny(e.initializer))},visitAwaitExpression:function(e){this.write_(d),this.writeSpace_(),this.visitAny(e.expression)},visitBinaryExpression:function(t){var r=t.left;this.visitAny(r);var n=t.operator;r.type===c&&e(r.operator.type,n.type)?this.writeRequiredSpace_():this.writeSpace_(),this.write_(n);var i=t.right;i.type===u&&e(n.type,i.operator.type)?this.writeRequiredSpace_():this.writeSpace_(),this.visitAny(i)},visitBindingElement:function(e){var t=this.currentParameterTypeAnnotation_;this.currentParameterTypeAnnotation_=null,this.visitAny(e.binding),this.writeTypeAnnotation_(t),e.initializer&&(this.writeSpace_(),this.write_($),this.writeSpace_(),this.visitAny(e.initializer))},visitBindingIdentifier:function(e){this.write_(e.identifierToken)},visitBlock:function(e){this.write_(ee),this.writelnList_(e.statements),this.write_(j)},visitBreakStatement:function(e){this.write_(x),null!==e.name&&(this.writeSpace_(),this.write_(e.name)),this.write_(ce)},visitCallExpression:function(e){this.visitAny(e.operand),this.visitAny(e.args)},visitCaseClause:function(e){this.write_(R),this.writeSpace_(),this.visitAny(e.expression),this.write_(I),this.indentDepth_++,this.writelnList_(e.statements),this.indentDepth_--},visitCatch:function(e){this.write_(A),this.writeSpace_(),this.write_(te),this.visitAny(e.binding),this.write_(k),this.writeSpace_(),this.visitAny(e.catchBody)},visitClassShared_:function(e){this.writeAnnotations_(e.annotations),this.write_(O),this.writeSpace_(),this.visitAny(e.name),null!==e.superClass&&(this.writeSpace_(),this.write_(U),this.writeSpace_(),this.visitAny(e.superClass)),this.writeSpace_(),this.write_(ee),this.writelnList_(e.elements),this.write_(j)},visitClassDeclaration:function(e){this.visitClassShared_(e)},visitClassExpression:function(e){this.visitClassShared_(e)},visitCommaExpression:function(e){this.writeList_(e.expressions,L,!1)},visitComprehensionFor:function(e){this.write_(W),this.writeSpace_(),this.write_(te),this.visitAny(e.left),this.writeSpace_(),this.write_(y),this.writeSpace_(),this.visitAny(e.iterator),this.write_(k),this.writeSpace_()},visitComprehensionIf:function(e){this.write_(q),this.writeSpace_(),this.write_(te),this.visitAny(e.expression),this.write_(k),this.writeSpace_()},visitComputedPropertyName:function(e){this.write_(re),this.visitAny(e.expression),this.write_(P)},visitConditionalExpression:function(e){this.visitAny(e.condition),this.writeSpace_(),this.write_(se),this.writeSpace_(),this.visitAny(e.left),this.writeSpace_(),this.write_(I),this.writeSpace_(),this.visitAny(e.right)},visitContinueStatement:function(e){this.write_(N),null!==e.name&&(this.writeSpace_(),this.write_(e.name)),this.write_(ce)},visitCoverInitializedName:function(e){this.write_(e.name),this.writeSpace_(),this.write_(e.equalToken),this.writeSpace_(),this.visitAny(e.initializer)},visitDebuggerStatement:function(e){this.write_(D),this.write_(ce)},visitDefaultClause:function(e){this.write_(M),this.write_(I),this.indentDepth_++,this.writelnList_(e.statements),this.indentDepth_--},visitDoWhileStatement:function(e){this.write_(F),this.visitAnyBlockOrIndent_(e.body),this.writeSpace_(),this.write_(ge),this.writeSpace_(),this.write_(te),this.visitAny(e.condition),this.write_(k),this.write_(ce)},visitEmptyStatement:function(e){this.write_(ce)},visitExportDeclaration:function(e){this.writeAnnotations_(e.annotations),this.write_(V),this.writeSpace_(),this.visitAny(e.declaration)},visitExportDefault:function(e){switch(this.write_(M),this.writeSpace_(),this.visitAny(e.expression),e.expression.type){case i:case o:break;default:this.write_(ce)}},visitNamedExport:function(e){this.visitAny(e.specifierSet),e.moduleSpecifier&&(this.writeSpace_(),this.write_(m),this.writeSpace_(),this.visitAny(e.moduleSpecifier)),this.write_(ce)},visitExportSpecifier:function(e){this.write_(e.lhs),e.rhs&&(this.writeSpace_(),this.write_(p),this.writeSpace_(),this.write_(e.rhs))},visitExportSpecifierSet:function(e){this.write_(ee),this.writeList_(e.specifiers,L,!1),this.write_(j)},visitExportStar:function(e){this.write_(ue)},visitExpressionStatement:function(e){this.visitAny(e.expression),this.write_(ce)},visitFinally:function(e){this.write_(z),this.writeSpace_(),this.visitAny(e.block)},visitForOfStatement:function(e){this.write_(W),this.writeSpace_(),this.write_(te),this.visitAny(e.initializer),this.writeSpace_(),this.write_(y),this.writeSpace_(),this.visitAny(e.collection),this.write_(k),this.visitAnyBlockOrIndent_(e.body)},visitForInStatement:function(e){this.write_(W),this.writeSpace_(),this.write_(te),this.visitAny(e.initializer),this.writeSpace_(),this.write_(X),this.writeSpace_(),this.visitAny(e.collection),this.write_(k),this.visitAnyBlockOrIndent_(e.body)},visitForStatement:function(e){this.write_(W),this.writeSpace_(),this.write_(te),this.visitAny(e.initializer),this.write_(ce),this.writeSpace_(),this.visitAny(e.condition),this.write_(ce),this.writeSpace_(),this.visitAny(e.increment),this.write_(k),this.visitAnyBlockOrIndent_(e.body)},visitFormalParameterList:function(e){for(var t=!0,r=0;r<e.parameters.length;r++){var n=e.parameters[r];t?t=!1:(this.write_(L),this.writeSpace_()),this.visitAny(n)}},visitFormalParameter:function(e){this.writeAnnotations_(e.annotations,!1),this.currentParameterTypeAnnotation_=e.typeAnnotation,this.visitAny(e.parameter),this.currentParameterTypeAnnotation_=null},visitFunctionBody:function(e){this.write_(ee),this.writelnList_(e.statements),this.write_(j)},visitFunctionDeclaration:function(e){this.visitFunction_(e)},visitFunctionExpression:function(e){this.visitFunction_(e)},visitFunction_:function(e){this.writeAnnotations_(e.annotations),e.isAsyncFunction()&&this.write_(e.functionKind),this.write_(G),e.isGenerator()&&this.write_(e.functionKind),e.name&&(this.writeSpace_(),this.visitAny(e.name)),this.write_(te),this.visitAny(e.parameterList),this.write_(k),this.writeTypeAnnotation_(e.typeAnnotation),this.writeSpace_(),this.visitAny(e.body)},visitGeneratorComprehension:function(e){this.write_(te),this.visitList(e.comprehensionList),this.visitAny(e.expression),this.write_(k)},visitGetAccessor:function(e){this.writeAnnotations_(e.annotations),e.isStatic&&(this.write_(le),this.writeSpace_()),this.write_(g),this.writeSpace_(),this.visitAny(e.name),this.write_(te),this.write_(k),this.writeSpace_(),this.writeTypeAnnotation_(e.typeAnnotation),this.visitAny(e.body)},visitIdentifierExpression:function(e){this.write_(e.identifierToken)},visitIfStatement:function(e){this.write_(q),this.writeSpace_(),this.write_(te),this.visitAny(e.condition),this.write_(k),this.visitAnyBlockOrIndent_(e.ifClause),e.elseClause&&(e.ifClause.type===n&&this.writeSpace_(),this.write_(H),e.elseClause.type===s?(this.writeSpace_(),this.visitAny(e.elseClause)):this.visitAnyBlockOrIndent_(e.elseClause))},visitAnyBlockOrIndent_:function(e){e.type===n?(this.writeSpace_(),this.visitAny(e)):this.visitAnyIndented_(e)},visitAnyIndented_:function(e){var t=void 0!==arguments[1]?arguments[1]:1;this.prettyPrint_&&(this.indentDepth_+=t,this.writeln_()),this.visitAny(e),this.prettyPrint_&&(this.indentDepth_-=t,this.writeln_())},visitImportDeclaration:function(e){this.write_(Y),this.writeSpace_(),e.importClause&&(this.visitAny(e.importClause),this.writeSpace_(),this.write_(m),this.writeSpace_()),this.visitAny(e.moduleSpecifier),this.write_(ce)},visitImportSpecifier:function(e){e.name&&(this.write_(e.name),this.writeSpace_(),this.write_(p),this.writeSpace_()),this.visitAny(e.binding)},visitImportSpecifierSet:function(e){e.specifiers.type==ue?this.write_(ue):(this.write_(ee),this.writelnList_(e.specifiers,L),this.write_(j))},visitLabelledStatement:function(e){this.write_(e.name),this.write_(I),this.writeSpace_(),this.visitAny(e.statement)},visitLiteralExpression:function(e){this.write_(e.literalToken)},visitLiteralPropertyName:function(e){this.write_(e.literalToken)},visitMemberExpression:function(e){this.visitAny(e.operand),e.operand.type===a&&e.operand.literalToken.type===Z&&(/\.|e|E/.test(e.operand.literalToken.value)||this.writeRequiredSpace_()),this.write_(ne),this.write_(e.memberName)},visitMemberLookupExpression:function(e){this.visitAny(e.operand),this.write_(re),this.visitAny(e.memberExpression),this.write_(P)},visitSyntaxErrorTree:function(e){this.write_("(function() {"+("throw SyntaxError("+JSON.stringify(e.message)+");")+"})()")},visitModule:function(e){this.writelnList_(e.scriptItemList,null)},visitModuleSpecifier:function(e){this.write_(e.token)},visitModuleDeclaration:function(e){this.write_(Y),this.writeSpace_(),this.write_(ue),this.writeSpace_(),this.write_(p),this.visitAny(e.binding),this.writeSpace_(),this.write_(m),this.writeSpace_(),this.visitAny(e.expression),this.write_(ce)},visitNewExpression:function(e){this.write_(J),this.writeSpace_(),this.visitAny(e.operand),this.visitAny(e.args)},visitObjectLiteralExpression:function(e){this.write_(ee),e.propertyNameAndValues.length>1&&this.writeln_(),this.writelnList_(e.propertyNameAndValues,L),e.propertyNameAndValues.length>1&&this.writeln_(),this.write_(j)},visitObjectPattern:function(e){this.write_(ee),this.writelnList_(e.fields,L),this.write_(j)},visitObjectPatternField:function(e){this.visitAny(e.name),null!==e.element&&(this.write_(I),this.writeSpace_(),this.visitAny(e.element))},visitParenExpression:function(e){this.write_(te),$traceurRuntime.superCall(this,_e.prototype,"visitParenExpression",[e]),this.write_(k)},visitPostfixExpression:function(e){this.visitAny(e.operand),e.operand.type===c&&e.operand.operator.type===e.operator.type&&this.writeRequiredSpace_(),this.write_(e.operator)},visitPredefinedType:function(e){this.write_(e.typeToken)},visitScript:function(e){this.writelnList_(e.scriptItemList,null)},visitPropertyMethodAssignment:function(e){this.writeAnnotations_(e.annotations),e.isStatic&&(this.write_(le),this.writeSpace_()),e.isGenerator()&&this.write_(ue),e.isAsyncFunction()&&this.write_(f),this.visitAny(e.name),this.write_(te),this.visitAny(e.parameterList),this.write_(k),this.writeSpace_(),this.writeTypeAnnotation_(e.typeAnnotation),this.visitAny(e.body)},visitPropertyNameAssignment:function(e){this.visitAny(e.name),this.write_(I),this.writeSpace_(),this.visitAny(e.value)},visitPropertyNameShorthand:function(e){this.write_(e.name)},visitTemplateLiteralExpression:function(e){e.operand&&(this.visitAny(e.operand),this.writeSpace_()),this.writeRaw_(C),this.visitList(e.elements),this.writeRaw_(C)},visitTemplateLiteralPortion:function(e){this.writeRaw_(e.value)},visitTemplateSubstitution:function(e){this.writeRaw_("$"),this.writeRaw_(ee),this.visitAny(e.expression),this.writeRaw_(j)},visitReturnStatement:function(e){this.write_(ae),this.writeSpace_(e.expression),this.visitAny(e.expression),this.write_(ce)},visitRestParameter:function(e){this.write_(B),this.write_(e.identifier.identifierToken),this.writeTypeAnnotation_(this.currentParameterTypeAnnotation_)},visitSetAccessor:function(e){this.writeAnnotations_(e.annotations),e.isStatic&&(this.write_(le),this.writeSpace_()),this.write_(v),this.writeSpace_(),this.visitAny(e.name),this.write_(te),this.visitAny(e.parameterList),this.write_(k),this.writeSpace_(),this.visitAny(e.body)},visitSpreadExpression:function(e){this.write_(B),this.visitAny(e.expression)},visitSpreadPatternElement:function(e){this.write_(B),this.visitAny(e.lvalue)},visitStateMachine:function(e){throw new Error("State machines cannot be converted to source")},visitSuperExpression:function(e){this.write_(he)},visitSwitchStatement:function(e){this.write_(pe),this.writeSpace_(),this.write_(te),this.visitAny(e.expression),this.write_(k),this.writeSpace_(),this.write_(ee),this.writelnList_(e.caseClauses),this.write_(j)},visitThisExpression:function(e){this.write_(fe)},visitThrowStatement:function(e){this.write_(de),this.writeSpace_(),this.visitAny(e.value),this.write_(ce)},visitTryStatement:function(e){this.write_(me),this.writeSpace_(),this.visitAny(e.body),e.catchBlock&&(this.writeSpace_(),this.visitAny(e.catchBlock)),e.finallyBlock&&(this.writeSpace_(),this.visitAny(e.finallyBlock))},visitTypeName:function(e){e.moduleName&&(this.visitAny(e.moduleName),this.write_(ne)),this.write_(e.name)},visitUnaryExpression:function(t){var r=t.operator;this.write_(r);var n=t.operand;n.type===u&&e(r.type,n.operator.type)&&this.writeRequiredSpace_(),this.visitAny(n)},visitVariableDeclarationList:function(e){this.write_(e.declarationType),this.writeSpace_(),this.writeList_(e.declarations,L,!0,2)},visitVariableDeclaration:function(e){this.visitAny(e.lvalue),this.writeTypeAnnotation_(e.typeAnnotation),null!==e.initializer&&(this.writeSpace_(),this.write_($),this.writeSpace_(),this.visitAny(e.initializer))},visitVariableStatement:function(e){$traceurRuntime.superCall(this,_e.prototype,"visitVariableStatement",[e]),this.write_(ce)},visitWhileStatement:function(e){this.write_(ge),this.writeSpace_(),this.write_(te),this.visitAny(e.condition),this.write_(k),this.visitAnyBlockOrIndent_(e.body)},visitWithStatement:function(e){this.write_(ye),this.writeSpace_(),this.write_(te),this.visitAny(e.expression),this.write_(k),this.writeSpace_(),this.visitAny(e.body)},visitYieldExpression:function(e){this.write_(ve),e.isYieldFor&&this.write_(ue),e.expression&&(this.writeSpace_(),this.visitAny(e.expression))},writeCurrentln_:function(){this.result_+=this.currentLine_+be},writeln_:function(){if(this.currentLineComment_){for(;this.currentLine_.length<Se;)this.currentLine_+=" ";this.currentLine_+=" // "+this.currentLineComment_,this.currentLineComment_=null}this.currentLine_&&this.writeCurrentln_(),this.currentLine_=""},writelnList_:function(e,t){t?this.writeList_(e,t,!0):(e.length>0&&this.writeln_(),this.writeList_(e,null,!0),e.length>0&&this.writeln_())},writeList_:function(e,t,r){for(var n=void 0!==arguments[3]?arguments[3]:0,i=!0,o=0;o<e.length;o++){var s=e[o];i?i=!1:(null!==t&&(this.write_(t),r||this.writeSpace_()),r&&(1===o&&(this.indentDepth_+=n),this.writeln_())),this.visitAny(s)}r&&e.length>1&&(this.indentDepth_-=n)},writeRaw_:function(e){this.currentLine_+=e},write_:function(e){if(e===j&&this.indentDepth_--,null!==e){if(this.prettyPrint_&&!this.currentLine_)for(var t=0,r=this.indentDepth_;r>t;t++)this.currentLine_+="  ";this.needsSpace_(e)&&(this.currentLine_+=" "),this.currentLine_+=e}e===ee&&this.indentDepth_++},writeSpace_:function(){var e=void 0!==arguments[0]?arguments[0]:this.prettyPrint_;e&&!t(this.currentLine_)&&(this.currentLine_+=" ")},writeRequiredSpace_:function(){this.writeSpace_(!0)},writeTypeAnnotation_:function(e){null!==e&&(this.write_(I),this.writeSpace_(),this.visitAny(e))},writeAnnotations_:function(e){var t=void 0!==arguments[1]?arguments[1]:this.prettyPrint_;e.length>0&&(this.writeList_(e,null,t),t&&this.writeln_())},needsSpace_:function(e){var t=this.currentLine_;if(!t)return!1;var r=t.charCodeAt(t.length-1);if(w(r))return!1;var n=e.toString().charCodeAt(0);return S(n)&&(S(r)||47===r)}},{},l),{get ParseTreeWriter(){return we}}}),System.register("traceur@0.0.72/src/outputgeneration/ParseTreeMapWriter",[],function(){"use strict";function e(e,t){var r;if(!e||"@"===e[0])return e;if(!t)return e;var n=e.split("/"),i=t.split("/");i[i.length-1]&&i.push("");var o=0,s=[];if(n.forEach(function(e,t){return e===i[t]?(o++,!1):void s.push(e)}),1>o||o===i.length)return e;for(var a=i.length-o-1,c=[];a--;)c.push("..");return(r=c).push.apply(r,$traceurRuntime.spread(s)),c.join("/")}var t=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeWriter").ParseTreeWriter,r=function(e,t){var r=arguments[2];$traceurRuntime.superCall(this,n.prototype,"constructor",[r]),this.sourceMapGenerator_=e,this.sourceRoot_=t,this.outputLineCount_=1,this.isFirstMapping_=!0},n=r;return $traceurRuntime.createClass(r,{visitAny:function(e){e&&(e.location&&this.enterBranch(e.location),$traceurRuntime.superCall(this,n.prototype,"visitAny",[e]),e.location&&this.exitBranch(e.location))},writeCurrentln_:function(){$traceurRuntime.superCall(this,n.prototype,"writeCurrentln_",[]),this.flushMappings(),this.outputLineCount_++,this.generated_={line:this.outputLineCount_,column:0},this.flushMappings()},write_:function(e){this.entered_?(this.generate(),$traceurRuntime.superCall(this,n.prototype,"write_",[e]),this.generate()):(this.generate(),$traceurRuntime.superCall(this,n.prototype,"write_",[e]),this.generate())},generate:function(){var e=this.currentLine_.length?this.currentLine_.length-1:0;this.generated_={line:this.outputLineCount_,column:e},this.flushMappings()},enterBranch:function(e){this.originate(e.start),this.entered_=!0},exitBranch:function(e){var t=e.end,r={line:t.line,column:t.column?t.column-1:0,source:{name:t.source.name,contents:t.source.contents}};this.originate(r),this.entered_=!1},originate:function(t){var r=t.line+1;this.original_&&this.original_.line!==r&&this.flushMappings(),this.original_={line:r,column:t.column||0},t.source.name!==this.sourceName_&&(this.sourceName_=e(t.source.name,this.sourceRoot_),this.sourceMapGenerator_.setSourceContent(t.source.name,t.source.contents)),this.flushMappings()},flushMappings:function(){this.original_&&this.generated_&&(this.addMapping(),this.original_=null,this.generated_=null)},isSame:function(e,t){return e.line===t.line&&e.column===t.column},isSameMapping:function(){return this.previousMapping_?this.isSame(this.previousMapping_.generated,this.generated_)&&this.isSame(this.previousMapping_.original,this.original_)?!0:void 0:!1},addMapping:function(){if(!this.isSameMapping()){var e={generated:this.generated_,original:this.original_,source:this.sourceName_};this.sourceMapGenerator_.addMapping(e),this.previousMapping_=e}}},{},t),{get ParseTreeMapWriter(){return r},get relativeToSourceRoot(){return e}}}),System.register("traceur@0.0.72/src/outputgeneration/SourceMapIntegration",[],function(){"use strict";function e(e,t){var r=function(t){return e[t]},n=e[t]={},i=null;return function(e){e(r,n,i)}}var t,r={};if(t=e(r,"./util"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')}function i(e){var t=e.match(d);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=i(e);if(r){if(!r.path)return e;t=r.path}for(var n,s="/"===t.charAt(0),a=t.split(/\/+/),c=0,u=a.length-1;u>=0;u--)n=a[u],
"."===n?a.splice(u,1):".."===n?c++:c>0&&(""===n?(a.splice(u+1,c),c=0):(a.splice(u,2),c--));return t=a.join("/"),""===t&&(t=s?"/":"."),r?(r.path=t,o(r)):t}function a(e,t){var r=i(t),n=i(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),o(r);if(r||t.match(m))return t;if(n&&!n.host&&!n.path)return n.host=t,o(n);var a="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=a,o(n)):a}function c(e){return"$"+e}function u(e){return e.substr(1)}function l(e,t){e=e.replace(/\/$/,"");var r=i(e);return"/"==t.charAt(0)&&r&&"/"==r.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t}function h(e,t){var r=e||"",n=t||"";return(r>n)-(n>r)}function p(e,t,r){var n;return(n=h(e.source,t.source))?n:(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,n||r?n:(n=h(e.name,t.name))?n:(n=e.generatedLine-t.generatedLine,n?n:e.generatedColumn-t.generatedColumn))}function f(e,t,r){var n;return(n=e.generatedLine-t.generatedLine)?n:(n=e.generatedColumn-t.generatedColumn,n||r?n:(n=h(e.source,t.source))?n:(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,n?n:h(e.name,t.name)))}t.getArg=n;var d=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,m=/^data:.+\,.+$/;t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=a,t.toSetString=c,t.fromSetString=u,t.relative=l,t.compareByOriginalPositions=p,t.compareByGeneratedPositions=f}),t=e(r,"./array-set"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(){this._array=[],this._set={}}var i=e("./util");n.fromArray=function(e,t){for(var r=new n,i=0,o=e.length;o>i;i++)r.add(e[i],t);return r},n.prototype.add=function(e,t){var r=this.has(e),n=this._array.length;(!r||t)&&this._array.push(e),r||(this._set[i.toSetString(e)]=n)},n.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,i.toSetString(e))},n.prototype.indexOf=function(e){if(this.has(e))return this._set[i.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},n.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},n.prototype.toArray=function(){return this._array.slice()},t.ArraySet=n}),t=e(r,"./base64"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){var n={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){n[e]=t,i[t]=e}),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in n)return n[e];throw new TypeError("Not a valid base 64 digit: "+e)}}),t=e(r,"./base64-vlq"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(e){return 0>e?(-e<<1)+1:(e<<1)+0}function i(e){var t=1===(1&e),r=e>>1;return t?-r:r}var o=e("./base64"),s=5,a=1<<s,c=a-1,u=a;t.encode=function(e){var t,r="",i=n(e);do t=i&c,i>>>=s,i>0&&(t|=u),r+=o.encode(t);while(i>0);return r},t.decode=function(e){var t,r,n=0,a=e.length,l=0,h=0;do{if(n>=a)throw new Error("Expected more digits in base 64 VLQ value.");r=o.decode(e.charAt(n++)),t=!!(r&u),r&=c,l+=r<<h,h+=s}while(t);return{value:i(l),rest:e.slice(n)}}}),t=e(r,"./binary-search"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(e,t,r,i,o){var s=Math.floor((t-e)/2)+e,a=o(r,i[s],!0);return 0===a?i[s]:a>0?t-s>1?n(s,t,r,i,o):i[s]:s-e>1?n(e,s,r,i,o):0>e?null:i[e]}t.search=function(e,t,r){return t.length>0?n(-1,t.length,e,t,r):null}}),t=e(r,"./source-map-generator"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._sources=new s,this._names=new s,this._mappings=[],this._sourcesContents=null}var i=e("./base64-vlq"),o=e("./util"),s=e("./array-set").ArraySet;n.prototype._version=3,n.fromSourceMap=function(e){var t=e.sourceRoot,r=new n({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};e.source&&(n.source=e.source,t&&(n.source=o.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},e.name&&(n.name=e.name)),r.addMapping(n)}),e.sources.forEach(function(t){var n=e.sourceContentFor(t);n&&r.setSourceContent(t,n)}),r},n.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),r=o.getArg(e,"original",null),n=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._validateMapping(t,r,n,i),n&&!this._sources.has(n)&&this._sources.add(n),i&&!this._names.has(i)&&this._names.add(i),this._mappings.push({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},n.prototype.setSourceContent=function(e,t){var r=e;this._sourceRoot&&(r=o.relative(this._sourceRoot,r)),null!==t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(r)]=t):(delete this._sourcesContents[o.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},n.prototype.applySourceMap=function(e,t,r){if(!t){if(!e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');t=e.file}var n=this._sourceRoot;n&&(t=o.relative(n,t));var i=new s,a=new s;this._mappings.forEach(function(s){if(s.source===t&&s.originalLine){var c=e.originalPositionFor({line:s.originalLine,column:s.originalColumn});null!==c.source&&(s.source=c.source,r&&(s.source=o.join(r,s.source)),n&&(s.source=o.relative(n,s.source)),s.originalLine=c.line,s.originalColumn=c.column,null!==c.name&&null!==s.name&&(s.name=c.name))}var u=s.source;u&&!i.has(u)&&i.add(u);var l=s.name;l&&!a.has(l)&&a.add(l)},this),this._sources=i,this._names=a,e.sources.forEach(function(t){var i=e.sourceContentFor(t);i&&(r&&(t=o.join(r,t)),n&&(t=o.relative(n,t)),this.setSourceContent(t,i))},this)},n.prototype._validateMapping=function(e,t,r,n){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},n.prototype._serializeMappings=function(){var e,t=0,r=1,n=0,s=0,a=0,c=0,u="";this._mappings.sort(o.compareByGeneratedPositions);for(var l=0,h=this._mappings.length;h>l;l++){if(e=this._mappings[l],e.generatedLine!==r)for(t=0;e.generatedLine!==r;)u+=";",r++;else if(l>0){if(!o.compareByGeneratedPositions(e,this._mappings[l-1]))continue;u+=","}u+=i.encode(e.generatedColumn-t),t=e.generatedColumn,e.source&&(u+=i.encode(this._sources.indexOf(e.source)-c),c=this._sources.indexOf(e.source),u+=i.encode(e.originalLine-1-s),s=e.originalLine-1,u+=i.encode(e.originalColumn-n),n=e.originalColumn,e.name&&(u+=i.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return u},n.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;t&&(e=o.relative(t,e));var r=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},n.prototype.toJSON=function(){var e={version:this._version,file:this._file,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},n.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=n}),t=e(r,"./source-map-consumer"),"function"!=typeof t)var t=require("amdefine")(module,require);if(t(function(e,t,r){function n(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=i.getArg(t,"version"),n=i.getArg(t,"sources"),o=i.getArg(t,"names",[]),a=i.getArg(t,"sourceRoot",null),c=i.getArg(t,"sourcesContent",null),u=i.getArg(t,"mappings"),l=i.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);this._names=s.fromArray(o,!0),this._sources=s.fromArray(n,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=u,this.file=l}var i=e("./util"),o=e("./binary-search"),s=e("./array-set").ArraySet,a=e("./base64-vlq");n.fromSourceMap=function(e){var t=Object.create(n.prototype);return t._names=s.fromArray(e._names.toArray(),!0),t._sources=s.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.slice().sort(i.compareByGeneratedPositions),t.__originalMappings=e._mappings.slice().sort(i.compareByOriginalPositions),t},n.prototype._version=3,Object.defineProperty(n.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return this.sourceRoot?i.join(this.sourceRoot,e):e},this)}}),n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),n.prototype._parseMappings=function(e,t){for(var r,n,o=1,s=0,c=0,u=0,l=0,h=0,p=/^[,;]/,f=e;f.length>0;)if(";"===f.charAt(0))o++,f=f.slice(1),s=0;else if(","===f.charAt(0))f=f.slice(1);else{if(r={},r.generatedLine=o,n=a.decode(f),r.generatedColumn=s+n.value,s=r.generatedColumn,f=n.rest,f.length>0&&!p.test(f.charAt(0))){if(n=a.decode(f),r.source=this._sources.at(l+n.value),l+=n.value,f=n.rest,0===f.length||p.test(f.charAt(0)))throw new Error("Found a source, but no line and column");if(n=a.decode(f),r.originalLine=c+n.value,c=r.originalLine,r.originalLine+=1,f=n.rest,0===f.length||p.test(f.charAt(0)))throw new Error("Found a source and line, but no column");n=a.decode(f),r.originalColumn=u+n.value,u=r.originalColumn,f=n.rest,f.length>0&&!p.test(f.charAt(0))&&(n=a.decode(f),r.name=this._names.at(h+n.value),h+=n.value,f=n.rest)}this.__generatedMappings.push(r),"number"==typeof r.originalLine&&this.__originalMappings.push(r)}this.__generatedMappings.sort(i.compareByGeneratedPositions),this.__originalMappings.sort(i.compareByOriginalPositions)},n.prototype._findMapping=function(e,t,r,n,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return o.search(e,t,i)},n.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositions);if(r&&r.generatedLine===t.generatedLine){var n=i.getArg(r,"source",null);return n&&this.sourceRoot&&(n=i.join(this.sourceRoot,n)),{source:n,line:i.getArg(r,"originalLine",null),column:i.getArg(r,"originalColumn",null),name:i.getArg(r,"name",null)}}return{source:null,line:null,column:null,name:null}},n.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(this.sourceRoot&&(e=i.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(this.sourceRoot&&(t=i.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},n.prototype.generatedPositionFor=function(e){var t={source:i.getArg(e,"source"),originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")};this.sourceRoot&&(t.source=i.relative(this.sourceRoot,t.source));var r=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions);return r?{line:i.getArg(r,"generatedLine",null),column:i.getArg(r,"generatedColumn",null)}:{line:null,column:null}},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.prototype.eachMapping=function(e,t,r){var o,s=t||null,a=r||n.GENERATED_ORDER;switch(a){case n.GENERATED_ORDER:o=this._generatedMappings;break;case n.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var c=this.sourceRoot;o.map(function(e){var t=e.source;return t&&c&&(t=i.join(c,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,s)},t.SourceMapConsumer=n}),t=e(r,"./source-node"),"function"!=typeof t)var t=require("amdefine")(module,require);t(function(e,t,r){function n(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=void 0===e?null:e,this.column=void 0===t?null:t,this.source=void 0===r?null:r,this.name=void 0===i?null:i,null!=n&&this.add(n)}var i=e("./source-map-generator").SourceMapGenerator,o=e("./util"),s=/(\r?\n)/g,a=/\r\n|[\s\S]/g;n.fromStringWithSourceMap=function(e,t){function r(e,t){null===e||void 0===e.source?i.add(t):i.add(new n(e.originalLine,e.originalColumn,e.source,t,e.name))}var i=new n,o=e.split(s),a=function(){var e=o.shift(),t=o.shift()||"";return e+t},c=1,u=0,l=null;return t.eachMapping(function(e){if(null!==l){if(!(c<e.generatedLine)){var t=o[0],n=t.substr(0,e.generatedColumn-u);return o[0]=t.substr(e.generatedColumn-u),u=e.generatedColumn,r(l,n),void(l=e)}var n="";r(l,a()),c++,u=0}for(;c<e.generatedLine;)i.add(a()),c++;if(u<e.generatedColumn){var t=o[0];i.add(t.substr(0,e.generatedColumn)),o[0]=t.substr(e.generatedColumn),u=e.generatedColumn}l=e},this),o.length>0&&(l&&r(l,a()),i.add(o.join(""))),t.sources.forEach(function(e){var r=t.sourceContentFor(e);r&&i.setSourceContent(e,r)}),i},n.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!(e instanceof n||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},n.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!(e instanceof n||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},n.prototype.walk=function(e){for(var t,r=0,i=this.children.length;i>r;r++)t=this.children[r],t instanceof n?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},n.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;n-1>r;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},n.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r instanceof n?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},n.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},n.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;r>t;t++)this.children[t]instanceof n&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,r=i.length;r>t;t++)e(o.fromSetString(i[t]),this.sourceContents[i[t]])},n.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},n.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new i(e),n=!1,o=null,c=null,u=null,l=null;return this.walk(function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?((o!==i.source||c!==i.line||u!==i.column||l!==i.name)&&r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,c=i.line,u=i.column,l=i.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,n=!1),e.match(a).forEach(function(e,a,c){s.test(e)?(t.line++,t.column=0,a+1===c.length?(o=null,n=!1):n&&r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column+=e.length})}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}},t.SourceNode=n});var n=r["./source-map-generator"].SourceMapGenerator,i=r["./source-map-consumer"].SourceMapConsumer,o=r["./source-node"].SourceNode,s=r["./util"].join;return{get SourceMapGenerator(){return n},get SourceMapConsumer(){return i},get SourceNode(){return o},get join(){return s}}}),System.register("traceur@0.0.72/src/outputgeneration/toSource",[],function(){"use strict";function e(e){var i=arguments[1],o=void 0!==arguments[2]?arguments[2]:"<toSourceOutput>",s=arguments[3],a=i&&i.sourceMapGenerator,c=i&&i.sourceMaps;!a&&c&&(a=new n({file:o,sourceRoot:s}));var u;return u=a?new t(a,s,i):new r(i),u.visitAny(e),[u.toString(),a&&a.toString()]}var t=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeMapWriter").ParseTreeMapWriter,r=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeWriter").ParseTreeWriter,n=System.get("traceur@0.0.72/src/outputgeneration/SourceMapIntegration").SourceMapGenerator;return{get toSource(){return e}}}),System.register("traceur@0.0.72/src/outputgeneration/TreeWriter",[],function(){"use strict";function e(e){var r=arguments[1],n=void 0!==arguments[2]?arguments[2]:"<TreeWriter-output>",i=arguments[3],o=t(e,r,n,i),s=o[0],a=o[1];return a&&(r.generatedSourceMap=a),s}var t=System.get("traceur@0.0.72/src/outputgeneration/toSource").toSource,r=function(){};return $traceurRuntime.createClass(r,{},{}),r.write=e,{get write(){return e},get TreeWriter(){return r}}}),System.register("traceur@0.0.72/src/syntax/ParseTreeValidator",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").NewExpression,t=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,r=System.get("traceur@0.0.72/src/outputgeneration/TreeWriter").TreeWriter,n=System.get("traceur@0.0.72/src/syntax/TokenType"),i=n.AMPERSAND,o=n.AMPERSAND_EQUAL,s=n.AND,a=n.BAR,c=n.BAR_EQUAL,u=n.CARET,l=n.CARET_EQUAL,h=n.CLOSE_ANGLE,p=n.EQUAL,f=n.EQUAL_EQUAL,d=n.EQUAL_EQUAL_EQUAL,m=n.GREATER_EQUAL,g=n.IDENTIFIER,y=n.IN,v=n.INSTANCEOF,b=n.LEFT_SHIFT,S=n.LEFT_SHIFT_EQUAL,w=n.LESS_EQUAL,_=n.MINUS,T=n.MINUS_EQUAL,E=n.NOT_EQUAL,C=n.NOT_EQUAL_EQUAL,x=n.NUMBER,R=n.OPEN_ANGLE,A=n.OR,O=n.PERCENT,j=n.PERCENT_EQUAL,k=n.PLUS,P=n.PLUS_EQUAL,I=n.RIGHT_SHIFT,L=n.RIGHT_SHIFT_EQUAL,N=n.SLASH,D=n.SLASH_EQUAL,M=n.STAR,F=n.STAR_EQUAL,B=n.STAR_STAR,H=n.STAR_STAR_EQUAL,$=n.STRING,V=n.UNSIGNED_RIGHT_SHIFT,U=n.UNSIGNED_RIGHT_SHIFT_EQUAL,z=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),W=z.ARRAY_PATTERN,G=z.ASSIGNMENT_ELEMENT,q=z.BINDING_ELEMENT,Y=z.BINDING_IDENTIFIER,X=z.BLOCK,K=z.CASE_CLAUSE,Q=z.CATCH,J=z.CLASS_DECLARATION,Z=z.COMPUTED_PROPERTY_NAME,ee=z.DEFAULT_CLAUSE,te=z.EXPORT_DEFAULT,re=z.EXPORT_SPECIFIER,ne=z.EXPORT_SPECIFIER_SET,ie=z.EXPORT_STAR,oe=z.FINALLY,se=z.FORMAL_PARAMETER,ae=z.FORMAL_PARAMETER_LIST,ce=z.FUNCTION_BODY,ue=z.FUNCTION_DECLARATION,le=z.GET_ACCESSOR,he=z.IDENTIFIER_EXPRESSION,pe=z.IMPORTED_BINDING,fe=z.LITERAL_PROPERTY_NAME,de=z.MODULE_DECLARATION,me=z.MODULE_SPECIFIER,ge=z.NAMED_EXPORT,ye=z.OBJECT_PATTERN,ve=z.OBJECT_PATTERN_FIELD,be=z.PROPERTY_METHOD_ASSIGNMENT,Se=z.PROPERTY_NAME_ASSIGNMENT,we=z.PROPERTY_NAME_SHORTHAND,_e=z.REST_PARAMETER,Te=z.SET_ACCESSOR,Ee=z.TEMPLATE_LITERAL_PORTION,Ce=z.TEMPLATE_SUBSTITUTION,xe=z.VARIABLE_DECLARATION_LIST,Re=z.VARIABLE_STATEMENT,Ae=System.get("traceur@0.0.72/src/util/assert").assert,Oe=function(e,t){this.tree=e,this.message=t};$traceurRuntime.createClass(Oe,{},{},Error);var je=function(){$traceurRuntime.defaultSuperCall(this,ke.prototype,arguments)},ke=je;return $traceurRuntime.createClass(je,{fail_:function(e,t){throw new Oe(e,t)},check_:function(e,t,r){e||this.fail_(t,r)},checkVisit_:function(e,t,r){this.check_(e,t,r),this.visitAny(t)},checkType_:function(e,t,r){this.checkVisit_(t.type===e,t,r)},visitArgumentList:function(e){for(var t=0;t<e.args.length;t++){var r=e.args[t];this.checkVisit_(r.isAssignmentOrSpread(),r,"assignment or spread expected")}},visitArrayLiteralExpression:function(e){for(var t=0;t<e.elements.length;t++){var r=e.elements[t];this.checkVisit_(null===r||r.isAssignmentOrSpread(),r,"assignment or spread expected")}},visitArrayPattern:function(e){for(var t=0;t<e.elements.length;t++){var r=e.elements[t];this.checkVisit_(null===r||r.type===q||r.type==G||r.isLeftHandSideExpression()||r.isPattern()||r.isSpreadPatternElement(),r,"null, sub pattern, left hand side expression or spread expected"),r&&r.isSpreadPatternElement()&&this.check_(t===e.elements.length-1,r,"spread in array patterns must be the last element")}},visitBinaryExpression:function(e){switch(e.operator.type){case p:case F:case H:case D:case j:case P:case T:case S:case L:case U:case o:case l:case c:this.check_(e.left.isLeftHandSideExpression()||e.left.isPattern(),e.left,"left hand side expression or pattern expected"),this.check_(e.right.isAssignmentExpression(),e.right,"assignment expression expected");break;case s:case A:case a:case u:case i:case f:case E:case d:case C:case R:case h:case m:case w:case v:case y:case b:case I:case V:case k:case _:case M:case N:case O:case B:this.check_(e.left.isAssignmentExpression(),e.left,"assignment expression expected"),this.check_(e.right.isAssignmentExpression(),e.right,"assignment expression expected");break;default:this.fail_(e,"unexpected binary operator")}this.visitAny(e.left),this.visitAny(e.right)},visitBindingElement:function(e){var t=e.binding;this.checkVisit_(t.type==Y||t.type==ye||t.type==W,t,"expected valid binding element"),this.visitAny(e.initializer)},visitAssignmentElement:function(e){var t=e.assignment;this.checkVisit_(t.type==ye||t.type==W||t.isLeftHandSideExpression(),t,"expected valid assignment element"),this.visitAny(e.initializer)},visitBlock:function(e){for(var t=0;t<e.statements.length;t++){var r=e.statements[t];this.checkVisit_(r.isStatementListItem(),r,"statement or function declaration expected")}},visitCallExpression:function(t){this.check_(t.operand.isMemberExpression(),t.operand,"member expression expected"),t.operand instanceof e&&this.check_(null!==t.operand.args,t.operand,"new args expected"),this.visitAny(t.operand),this.visitAny(t.args)},visitCaseClause:function(e){this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected");for(var t=0;t<e.statements.length;t++){var r=e.statements[t];this.checkVisit_(r.isStatement(),r,"statement expected")}},visitCatch:function(e){this.checkVisit_(e.binding.isPattern()||e.binding.type==Y,e.binding,"binding identifier expected"),this.checkVisit_(e.catchBody.type===X,e.catchBody,"block expected")},visitClassDeclaration:function(e){for(var t=0;t<e.elements.length;t++){var r=e.elements[t];switch(r.type){case le:case Te:case be:break;default:this.fail_(r,"class element expected")}this.visitAny(r)}},visitCommaExpression:function(e){for(var t=0;t<e.expressions.length;t++){var r=e.expressions[t];this.checkVisit_(r.isAssignmentExpression(),r,"expression expected")}},visitConditionalExpression:function(e){this.checkVisit_(e.condition.isAssignmentExpression(),e.condition,"expression expected"),this.checkVisit_(e.left.isAssignmentExpression(),e.left,"expression expected"),this.checkVisit_(e.right.isAssignmentExpression(),e.right,"expression expected")},visitCoverFormals:function(e){this.fail_(e,"CoverFormals should have been removed")},visitCoverInitializedName:function(e){this.fail_(e,"CoverInitializedName should have been removed")},visitDefaultClause:function(e){for(var t=0;t<e.statements.length;t++){var r=e.statements[t];this.checkVisit_(r.isStatement(),r,"statement expected")}},visitDoWhileStatement:function(e){this.checkVisit_(e.body.isStatement(),e.body,"statement expected"),this.checkVisit_(e.condition.isExpression(),e.condition,"expression expected")},visitExportDeclaration:function(e){var t=e.declaration.type;this.checkVisit_(t==Re||t==ue||t==de||t==J||t==ge||t==te,e.declaration,"expected valid export tree")},visitNamedExport:function(e){e.moduleSpecifier&&this.checkVisit_(e.moduleSpecifier.type==me,e.moduleSpecifier,"module expression expected");var t=e.specifierSet.type;this.checkVisit_(t==ne||t==ie,e.specifierSet,"specifier set or identifier expected")},visitExportSpecifierSet:function(e){this.check_(e.specifiers.length>0,e,"expected at least one identifier");for(var t=0;t<e.specifiers.length;t++){var r=e.specifiers[t];this.checkVisit_(r.type==re||r.type==he,r,"expected valid export specifier")}},visitExpressionStatement:function(e){this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected")},visitFinally:function(e){this.checkVisit_(e.block.type===X,e.block,"block expected")},visitForOfStatement:function(e){this.checkVisit_(e.initializer.isPattern()||e.initializer.type===he||e.initializer.type===xe&&1===e.initializer.declarations.length,e.initializer,"for-each statement may not have more than one variable declaration"),this.checkVisit_(e.collection.isExpression(),e.collection,"expression expected"),this.checkVisit_(e.body.isStatement(),e.body,"statement expected")},visitForInStatement:function(e){e.initializer.type===xe?this.checkVisit_(e.initializer.declarations.length<=1,e.initializer,"for-in statement may not have more than one variable declaration"):this.checkVisit_(e.initializer.isPattern()||e.initializer.isExpression(),e.initializer,"variable declaration, expression or pattern expected"),this.checkVisit_(e.collection.isExpression(),e.collection,"expression expected"),this.checkVisit_(e.body.isStatement(),e.body,"statement expected")},visitFormalParameterList:function(e){for(var t=0;t<e.parameters.length;t++){var r=e.parameters[t];switch(Ae(r.type===se),r=r.parameter,r.type){case q:break;case _e:this.checkVisit_(t===e.parameters.length-1,r,"rest parameters must be the last parameter in a parameter list"),this.checkType_(Y,r.identifier,"binding identifier expected");break;default:this.fail_(r,"parameters must be identifiers or rest parameters. Found: "+r.type)}this.visitAny(r)}},visitForStatement:function(e){null!==e.initializer&&this.checkVisit_(e.initializer.isExpression()||e.initializer.type===xe,e.initializer,"variable declaration list or expression expected"),null!==e.condition&&this.checkVisit_(e.condition.isExpression(),e.condition,"expression expected"),null!==e.increment&&this.checkVisit_(e.increment.isExpression(),e.increment,"expression expected"),this.checkVisit_(e.body.isStatement(),e.body,"statement expected")},visitFunctionBody:function(e){for(var t=0;t<e.statements.length;t++){var r=e.statements[t];this.checkVisit_(r.isStatementListItem(),r,"statement expected")}},visitFunctionDeclaration:function(e){this.checkType_(Y,e.name,"binding identifier expected"),this.visitFunction_(e)},visitFunctionExpression:function(e){null!==e.name&&this.checkType_(Y,e.name,"binding identifier expected"),this.visitFunction_(e)},visitFunction_:function(e){this.checkType_(ae,e.parameterList,"formal parameters expected"),this.checkType_(ce,e.body,"function body expected")},visitGetAccessor:function(e){this.checkPropertyName_(e.name),this.checkType_(ce,e.body,"function body expected")},visitIfStatement:function(e){this.checkVisit_(e.condition.isExpression(),e.condition,"expression expected"),this.checkVisit_(e.ifClause.isStatement(),e.ifClause,"statement expected"),null!==e.elseClause&&this.checkVisit_(e.elseClause.isStatement(),e.elseClause,"statement expected")},visitImportSpecifier:function(e){this.checkType_(pe,e.binding,"ImportedBinding expected")},visitImportedBinding:function(e){this.checkType_(Y,e.binding,"binding identifier expected")},visitLabelledStatement:function(e){this.checkVisit_(e.statement.isStatement(),e.statement,"statement expected")},visitMemberExpression:function(t){this.check_(t.operand.isMemberExpression(),t.operand,"member expression expected"),t.operand instanceof e&&this.check_(null!==t.operand.args,t.operand,"new args expected"),this.visitAny(t.operand)},visitMemberLookupExpression:function(t){this.check_(t.operand.isMemberExpression(),t.operand,"member expression expected"),t.operand instanceof e&&this.check_(null!==t.operand.args,t.operand,"new args expected"),this.visitAny(t.operand)},visitSyntaxErrorTree:function(e){this.fail_(e,"parse tree contains SyntaxError: "+e.message)},visitModuleSpecifier:function(e){this.check_(e.token.type==$||e.moduleName,"string or identifier expected")},visitModuleDeclaration:function(e){this.checkType_(pe,e.binding,"ImportedBinding expected"),this.checkType_(me,e.expression,"module expression expected")},visitNewExpression:function(e){this.checkVisit_(e.operand.isMemberExpression(),e.operand,"member expression expected"),this.visitAny(e.args)},visitObjectLiteralExpression:function(e){for(var t=0;t<e.propertyNameAndValues.length;t++){var r=e.propertyNameAndValues[t];switch(r.type){case le:case Te:case be:this.check_(!r.isStatic,r,"static is not allowed in object literal expression");case Se:case we:break;default:this.fail_(r,"accessor, property name assignment or property method assigment expected")}this.visitAny(r)}},visitObjectPattern:function(e){for(var t=0;t<e.fields.length;t++){var r=e.fields[t];this.checkVisit_(r.type===ve||r.type===G||r.type===q,r,"object pattern field expected")}},visitObjectPatternField:function(e){this.checkPropertyName_(e.name),this.checkVisit_(e.element.type===G||e.element.type===q||e.element.isPattern()||e.element.isLeftHandSideExpression(),e.element,"binding element expected")},visitParenExpression:function(e){e.expression.isPattern()?this.visitAny(e.expression):this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected")},visitPostfixExpression:function(e){this.checkVisit_(e.operand.isAssignmentExpression(),e.operand,"assignment expression expected")},visitPredefinedType:function(e){},visitScript:function(e){for(var t=0;t<e.scriptItemList.length;t++){var r=e.scriptItemList[t];this.checkVisit_(r.isScriptElement(),r,"global script item expected")}},checkPropertyName_:function(e){this.checkVisit_(e.type===fe||e.type===Z,e,"property name expected")},visitPropertyNameAssignment:function(e){this.checkPropertyName_(e.name),this.checkVisit_(e.value.isAssignmentExpression(),e.value,"assignment expression expected")},visitPropertyNameShorthand:function(e){this.check_(e.name.type===g,e,"identifier token expected")},visitLiteralPropertyName:function(e){var t=e.literalToken.type;this.check_(e.literalToken.isKeyword()||t===g||t===x||t===$,e,"Unexpected token in literal property name")},visitTemplateLiteralExpression:function(e){e.operand&&this.checkVisit_(e.operand.isMemberExpression(),e.operand,"member or call expression expected");for(var t=0;t<e.elements.length;t++){var r=e.elements[t];t%2?this.checkType_(Ce,r,"Template literal substitution expected"):this.checkType_(Ee,r,"Template literal portion expected")}},visitReturnStatement:function(e){null!==e.expression&&this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected")},visitSetAccessor:function(e){this.checkPropertyName_(e.name),this.checkType_(ce,e.body,"function body expected")},visitSpreadExpression:function(e){this.checkVisit_(e.expression.isAssignmentExpression(),e.expression,"assignment expression expected")},visitStateMachine:function(e){this.fail_(e,"State machines are never valid outside of the GeneratorTransformer pass.")},visitSwitchStatement:function(e){this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected");for(var t=0,r=0;r<e.caseClauses.length;r++){var n=e.caseClauses[r];n.type===ee?(++t,this.checkVisit_(1>=t,n,"no more than one default clause allowed")):this.checkType_(K,n,"case or default clause expected");
}},visitThrowStatement:function(e){null!==e.value&&this.checkVisit_(e.value.isExpression(),e.value,"expression expected")},visitTryStatement:function(e){this.checkType_(X,e.body,"block expected"),null!==e.catchBlock&&this.checkType_(Q,e.catchBlock,"catch block expected"),null!==e.finallyBlock&&this.checkType_(oe,e.finallyBlock,"finally block expected"),null===e.catchBlock&&null===e.finallyBlock&&this.fail_(e,"either catch or finally must be present")},visitTypeName:function(e){},visitUnaryExpression:function(e){this.checkVisit_(e.operand.isAssignmentExpression(),e.operand,"assignment expression expected")},visitVariableDeclaration:function(e){this.checkVisit_(e.lvalue.isPattern()||e.lvalue.type==Y,e.lvalue,"binding identifier expected, found: "+e.lvalue.type),null!==e.initializer&&this.checkVisit_(e.initializer.isAssignmentExpression(),e.initializer,"assignment expression expected")},visitWhileStatement:function(e){this.checkVisit_(e.condition.isExpression(),e.condition,"expression expected"),this.checkVisit_(e.body.isStatement(),e.body,"statement expected")},visitWithStatement:function(e){this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected"),this.checkVisit_(e.body.isStatement(),e.body,"statement expected")},visitYieldExpression:function(e){null!==e.expression&&this.checkVisit_(e.expression.isExpression(),e.expression,"expression expected")}},{},t),je.validate=function(e){var t=new je;try{t.visitAny(e)}catch(n){if(!(n instanceof Oe))throw n;var i=null;null!==n.tree&&(i=n.tree.location),null===i&&(i=e.location);var o=null!==i?i.start.toString():"(unknown)";throw new Error("Parse tree validation failure '"+n.message+"' at "+o+":\n\n"+r.write(e,{highlighted:n.tree,showLineNumbers:!0})+"\n")}},{get ParseTreeValidator(){return je}}}),System.register("traceur@0.0.72/src/codegeneration/MultiTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/ParseTreeValidator").ParseTreeValidator,t=function(e,t){this.reporter_=e,this.validate_=t,this.treeTransformers_=[]};return $traceurRuntime.createClass(t,{append:function(e){this.treeTransformers_.push(e)},transform:function(t){var r=this.reporter_,n=this.validate_;return this.treeTransformers_.every(function(i){return t=i(t),r.hadError()?!1:(n&&e.validate(t),!0)}),t}},{}),{get MultiTransformer(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/NumericLiteralTransformer",[],function(){"use strict";function e(e){return e.type===a&&/^0[bBoO]/.test(e.value)}function t(e){return new s(a,String(e.processedValue),e.location)}var r=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,n=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),i=n.LiteralExpression,o=n.LiteralPropertyName,s=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,a=System.get("traceur@0.0.72/src/syntax/TokenType").NUMBER,c=function(){$traceurRuntime.defaultSuperCall(this,u.prototype,arguments)},u=c;return $traceurRuntime.createClass(c,{transformLiteralExpression:function(r){var n=r.literalToken;return e(n)?new i(r.location,t(n)):r},transformLiteralPropertyName:function(r){var n=r.literalToken;return e(n)?new o(r.location,t(n)):r}},{},r),{get NumericLiteralTransformer(){return c}}}),System.register("traceur@0.0.72/src/codegeneration/ObjectLiteralTransformer",[],function(){"use strict";function e(e){return"__proto__"===T(e)}var t=System.get("traceur@0.0.72/src/codegeneration/FindVisitor").FindVisitor,r=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),n=r.FunctionExpression,i=r.IdentifierExpression,o=r.LiteralExpression,s=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,a=System.get("traceur@0.0.72/src/syntax/TokenType").IDENTIFIER,c=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),u=c.COMPUTED_PROPERTY_NAME,l=c.LITERAL_PROPERTY_NAME,h=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),p=h.createAssignmentExpression,f=h.createCommaExpression,d=h.createDefineProperty,m=h.createEmptyParameterList,g=h.createFunctionExpression,y=h.createIdentifierExpression,v=h.createObjectCreate,b=h.createObjectLiteralExpression,S=h.createParenExpression,w=h.createPropertyNameAssignment,_=h.createStringLiteral,T=System.get("traceur@0.0.72/src/staticsemantics/PropName").propName,E=System.get("traceur@0.0.72/src/Options").transformOptions,C=function(e){this.protoExpression=null,$traceurRuntime.superCall(this,x.prototype,"constructor",[e,!0])},x=C;$traceurRuntime.createClass(C,{visitPropertyNameAssignment:function(t){e(t.name)?this.protoExpression=t.value:$traceurRuntime.superCall(this,x.prototype,"visitPropertyNameAssignment",[t])},visitComputedPropertyName:function(e){E.computedPropertyNames&&(this.found=!0)}},{},t);var R=function(e){$traceurRuntime.superCall(this,A.prototype,"constructor",[e]),this.protoExpression=null,this.needsAdvancedTransform=!1,this.seenAccessors=null},A=R;return $traceurRuntime.createClass(R,{findSeenAccessor_:function(e){if(e.type===u)return null;var t=T(e);return this.seenAccessors[t]},removeSeenAccessor_:function(e){if(e.type!==u){var t=T(e);delete this.seenAccessors[t]}},addSeenAccessor_:function(e,t){if(e.type!==u){var r=T(e);this.seenAccessors[r]=t}},createProperty_:function(e,t){var r;if(r=e.type===l?this.needsAdvancedTransform?this.getPropertyName_(e):e:e.expression,t.get||t.set){var n=this.findSeenAccessor_(e);if(n)return n.get=t.get||n.get,n.set=t.set||n.set,this.removeSeenAccessor_(e),null;this.addSeenAccessor_(e,t)}return[r,t]},getPropertyName_:function(e){var t=e.literalToken;switch(t.type){case a:return _(t.value);default:return t.isKeyword()?_(t.type):new o(t.location,t)}},transformClassDeclaration:function(e){return e},transformClassExpression:function(e){return e},transformObjectLiteralExpression:function(e){var t=this.needsAdvancedTransform,r=this.seenAccessors;try{var n=new C(e);if(!n.found)return this.needsAdvancedTransform=!1,$traceurRuntime.superCall(this,A.prototype,"transformObjectLiteralExpression",[e]);this.needsAdvancedTransform=!0,this.seenAccessors=Object.create(null);var i=this.transformList(e.propertyNameAndValues);i=i.filter(function(e){return e});var o,s=this.addTempVar(),a=y(s),c=i.map(function(e){var t=e[0],r=e[1];return d(a,t,r)}),u=this.transformAny(n.protoExpression);return o=u?v(u):b([]),c.unshift(p(a,o)),c.push(a),S(f(c))}finally{this.needsAdvancedTransform=t,this.seenAccessors=r}},transformPropertyNameAssignment:function(t){return this.needsAdvancedTransform?e(t.name)?null:this.createProperty_(t.name,{value:this.transformAny(t.value),configurable:!0,enumerable:!0,writable:!0}):$traceurRuntime.superCall(this,A.prototype,"transformPropertyNameAssignment",[t])},transformGetAccessor:function(e){if(!this.needsAdvancedTransform)return $traceurRuntime.superCall(this,A.prototype,"transformGetAccessor",[e]);var t=this.transformAny(e.body),r=g(m(),t);return this.createProperty_(e.name,{get:r,configurable:!0,enumerable:!0})},transformSetAccessor:function(e){if(!this.needsAdvancedTransform)return $traceurRuntime.superCall(this,A.prototype,"transformSetAccessor",[e]);var t=this.transformAny(e.body),r=this.transformAny(e.parameterList),n=g(r,t);return this.createProperty_(e.name,{set:n,configurable:!0,enumerable:!0})},transformPropertyMethodAssignment:function(e){var t=new n(e.location,null,e.functionKind,this.transformAny(e.parameterList),e.typeAnnotation,[],this.transformAny(e.body));if(!this.needsAdvancedTransform)return w(e.name,t);this.transformAny(e.name);return this.createProperty_(e.name,{value:t,configurable:!0,enumerable:!0,writable:!0})},transformPropertyNameShorthand:function(e){if(!this.needsAdvancedTransform)return $traceurRuntime.superCall(this,A.prototype,"transformPropertyNameShorthand",[e]);this.transformAny(e.name);return this.createProperty_(e.name,{value:new i(e.location,e.name.identifierToken),configurable:!0,enumerable:!1,writable:!0})}},{},s),{get ObjectLiteralTransformer(){return R}}}),System.register("traceur@0.0.72/src/codegeneration/PropertyNameShorthandTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),t=e.IdentifierExpression,r=e.LiteralPropertyName,n=e.PropertyNameAssignment,i=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,o=function(){$traceurRuntime.defaultSuperCall(this,s.prototype,arguments)},s=o;return $traceurRuntime.createClass(o,{transformPropertyNameShorthand:function(e){return new n(e.location,new r(e.location,e.name),new t(e.location,e.name))}},{},i),{get PropertyNameShorthandTransformer(){return o}}}),System.register("traceur@0.0.72/src/outputgeneration/regexpuRewritePattern",[],function(){"use strict";function e(e){return E?T?g.UNICODE_IGNORE_CASE[e]:g.UNICODE[e]:g.REGULAR[e]}function t(e,t){return v.call(e,t)}function r(e,t){for(var r in t)e[r]=t[r]}function n(e,t){var n=d(t,"");switch(n.type){case"characterClass":case"group":case"value":break;default:n=i(n,t)}r(e,n)}function i(e,t){return{type:"group",behavior:"ignore",body:[e],raw:"(?:"+t+")"}}function o(e){return t(m,e)?m[e]:!1}function s(t){var r=p();t.body.forEach(function(t){switch(t.type){case"value":if(r.add(t.codePoint),T&&E){var n=o(t.codePoint);n&&r.add(n)}break;case"characterClassRange":var i=t.min.codePoint,s=t.max.codePoint;r.addRange(i,s),T&&E&&r.iuAddRange(i,s);break;case"characterClassEscape":r.add(e(t.value));break;default:throw Error("Unknown term type: "+t.type)}});return t.negative&&(r=(E?b:S).clone().remove(r)),n(t,r.toString()),t}function a(t){switch(t.type){case"dot":n(t,(E?w:_).toString());break;case"characterClass":t=s(t);break;case"characterClassEscape":n(t,e(t.value).toString());break;case"alternative":case"disjunction":case"group":case"quantifier":t.body=t.body.map(a);break;case"value":var r=t.codePoint,i=p(r);if(T&&E){var c=o(r);c&&i.add(c)}n(t,i.toString());break;case"anchor":case"empty":case"group":case"reference":break;default:throw Error("Unknown term type: "+t.type)}return t}var c={},u={},l=u.exports={},h=function(e){return c[e]};!function(e){var t="object"==typeof l&&l,r="object"==typeof u&&u&&u.exports==t&&u,n="object"==typeof global&&global;(n.global===n||n.window===n)&&(e=n);var i={rangeOrder:"A rangeâs `stop` value must be greater than or equal to the `start` value.",codePointRange:"Invalid code point value. Code points range from U+000000 to U+10FFFF."},o=55296,s=56319,a=56320,c=57343,h=/\\x00([^0123456789]|$)/g,p={},f=p.hasOwnProperty,d=function(e,t){var r;for(r in t)f.call(t,r)&&(e[r]=t[r]);return e},m=function(e,t){for(var r=-1,n=e.length;++r<n;)t(e[r],r)},g=p.toString,y=function(e){return"[object Array]"==g.call(e)},v=function(e){return"number"==typeof e||"[object Number]"==g.call(e)},b="0000",S=function(e,t){var r=String(e);return r.length<t?(b+r).slice(-t):r},w=function(e){return Number(e).toString(16).toUpperCase()},_=[].slice,T=function(e){for(var t,r=-1,n=e.length,i=n-1,o=[],s=!0,a=0;++r<n;)if(t=e[r],s)o.push(t),a=t,s=!1;else if(t==a+1){if(r!=i){a=t;continue}s=!0,o.push(t+1)}else o.push(a+1,t),a=t;return s||o.push(t+1),o},E=function(e,t){for(var r,n,i=0,o=e.length;o>i;){if(r=e[i],n=e[i+1],t>=r&&n>t)return t==r?n==r+1?(e.splice(i,2),e):(e[i]=t+1,e):t==n-1?(e[i+1]=t,e):(e.splice(i,2,r,t,t+1,n),e);i+=2}return e},C=function(e,t,r){if(t>r)throw Error(i.rangeOrder);for(var n,o,s=0;s<e.length;){if(n=e[s],o=e[s+1]-1,n>r)return e;if(n>=t&&r>=o)e.splice(s,2);else{if(t>=n&&o>r)return t==n?(e[s]=r+1,e[s+1]=o+1,e):(e.splice(s,2,n,t,r+1,o+1),e);if(t>=n&&o>=t)e[s+1]=t;else if(r>=n&&o>=r)return e[s]=r+1,e;s+=2}}return e},x=function(e,t){var r,n,o=0,s=null,a=e.length;if(0>t||t>1114111)throw RangeError(i.codePointRange);for(;a>o;){if(r=e[o],n=e[o+1],t>=r&&n>t)return e;if(t==r-1)return e[o]=t,e;if(r>t)return e.splice(null!=s?s+2:0,0,t,t+1),e;if(t==n)return t+1==e[o+2]?(e.splice(o,4,r,e[o+3]),e):(e[o+1]=t+1,e);s=o,o+=2}return e.push(t,t+1),e},R=function(e,t){for(var r,n,i=0,o=e.slice(),s=t.length;s>i;)r=t[i],n=t[i+1]-1,o=r==n?x(o,r):O(o,r,n),i+=2;return o},A=function(e,t){for(var r,n,i=0,o=e.slice(),s=t.length;s>i;)r=t[i],n=t[i+1]-1,o=r==n?E(o,r):C(o,r,n),i+=2;return o},O=function(e,t,r){if(t>r)throw Error(i.rangeOrder);if(0>t||t>1114111||0>r||r>1114111)throw RangeError(i.codePointRange);for(var n,o,s=0,a=!1,c=e.length;c>s;){if(n=e[s],o=e[s+1],a){if(n==r+1)return e.splice(s-1,2),e;if(n>r)return e;n>=t&&r>=n&&(o>t&&r>=o-1?(e.splice(s,2),s-=2):(e.splice(s-1,2),s-=2))}else{if(n==r+1)return e[s]=t,e;if(n>r)return e.splice(s,0,t,r+1),e;if(t>=n&&o>t&&o>=r+1)return e;t>=n&&o>t||o==t?(e[s+1]=r+1,a=!0):n>=t&&r+1>=o&&(e[s]=t,e[s+1]=r+1,a=!0)}s+=2}return a||e.push(t,r+1),e},j=function(e,t){for(var r,n,i=0,o=e.length;o>i;){if(r=e[i],n=e[i+1],t>=r&&n>t)return!0;i+=2}return!1},k=function(e,t){for(var r,n=0,i=t.length,o=[];i>n;)r=t[n],j(e,r)&&o.push(r),++n;return T(o)},P=function(e){return!e.length},I=function(e){return 2==e.length&&e[0]+1==e[1]},L=function(e){for(var t,r,n=0,i=[],o=e.length;o>n;){for(t=e[n],r=e[n+1];r>t;)i.push(t),++t;n+=2}return i},N=Math.floor,D=function(e){return parseInt(N((e-65536)/1024)+o,10)},M=function(e){return parseInt((e-65536)%1024+a,10)},F=String.fromCharCode,B=function(e){var t;return t=9==e?"\\t":10==e?"\\n":12==e?"\\f":13==e?"\\r":92==e?"\\\\":36==e||e>=40&&43>=e||45==e||46==e||63==e||e>=91&&94>=e||e>=123&&125>=e?"\\"+F(e):e>=32&&126>=e?F(e):255>=e?"\\x"+S(w(e),2):"\\u"+S(w(e),4)},H=function(e){var t,r=e.length,n=e.charCodeAt(0);return n>=o&&s>=n&&r>1?(t=e.charCodeAt(1),1024*(n-o)+t-a+65536):n},$=function(e){var t,r,n="",i=0,o=e.length;if(I(e))return B(e[0]);for(;o>i;)t=e[i],r=e[i+1]-1,n+=t==r?B(t):t+1==r?B(t)+B(r):B(t)+"-"+B(r),i+=2;return"["+n+"]"},V=function(e){for(var t,r,n=[],i=[],a=[],c=0,u=e.length;u>c;)t=e[c],r=e[c+1]-1,65535>=t&&65535>=r?t>=o&&s>=t?s>=r?n.push(t,r+1):(n.push(t,s+1),i.push(s+1,r+1)):r>=o&&s>=r?(i.push(t,o),n.push(o,r+1)):o>t&&r>s?(i.push(t,o,s+1,r+1),n.push(o,s+1)):i.push(t,r+1):65535>=t&&r>65535?(t>=o&&s>=t?(n.push(t,s+1),i.push(s+1,65536)):o>t?(i.push(t,o,s+1,65536),n.push(o,s+1)):i.push(t,65536),a.push(65536,r+1)):a.push(t,r+1),c+=2;return{loneHighSurrogates:n,bmp:i,astral:a}},U=function(e){for(var t,r,n,i,o,s,a=[],c=[],u=!1,l=-1,h=e.length;++l<h;)if(t=e[l],r=e[l+1]){for(n=t[0],i=t[1],o=r[0],s=r[1],c=i;o&&n[0]==o[0]&&n[1]==o[1];)c=I(s)?x(c,s[0]):O(c,s[0],s[1]-1),++l,t=e[l],n=t[0],i=t[1],r=e[l+1],o=r&&r[0],s=r&&r[1],u=!0;a.push([n,u?c:i]),u=!1}else a.push(t);return z(a)},z=function(e){if(1==e.length)return e;for(var t=-1,r=-1;++t<e.length;){var n=e[t],i=n[1],o=i[0],s=i[1];for(r=t;++r<e.length;){var a=e[r],c=a[1],u=c[0],l=c[1];o==u&&s==l&&(I(a[0])?n[0]=x(n[0],a[0][0]):n[0]=O(n[0],a[0][0],a[0][1]-1),e.splice(r,1),--r)}}return e},W=function(e){if(!e.length)return[];for(var t,r,n,i,o,s,u=0,l=0,h=0,p=[],f=e.length;f>u;){t=e[u],r=e[u+1]-1,n=D(t),i=M(t),o=D(r),s=M(r);var d=i==a,m=s==c,g=!1;n==o||d&&m?(p.push([[n,o+1],[i,s+1]]),g=!0):p.push([[n,n+1],[i,c+1]]),!g&&o>n+1&&(m?(p.push([[n+1,o+1],[a,s+1]]),g=!0):p.push([[n+1,o],[a,c+1]])),g||p.push([[o,o+1],[a,s+1]]),l=n,h=o,u+=2}return U(p)},G=function(e){var t=[];return m(e,function(e){var r=e[0],n=e[1];t.push($(r)+$(n))}),t.join("|")},q=function(e){var t=[],r=V(e),n=r.loneHighSurrogates,i=r.bmp,o=r.astral,s=!P(r.astral),a=!P(n),c=W(o);return!s&&a&&(i=R(i,n)),P(i)||t.push($(i)),c.length&&t.push(G(c)),s&&a&&t.push($(n)),t.join("|")},Y=function(e){return arguments.length>1&&(e=_.call(arguments)),this instanceof Y?(this.data=[],e?this.add(e):this):(new Y).add(e)};Y.version="1.0.1";var X=Y.prototype;d(X,{add:function(e){var t=this;return null==e?t:e instanceof Y?(t.data=R(t.data,e.data),t):(arguments.length>1&&(e=_.call(arguments)),y(e)?(m(e,function(e){t.add(e)}),t):(t.data=x(t.data,v(e)?e:H(e)),t))},remove:function(e){var t=this;return null==e?t:e instanceof Y?(t.data=A(t.data,e.data),t):(arguments.length>1&&(e=_.call(arguments)),y(e)?(m(e,function(e){t.remove(e)}),t):(t.data=E(t.data,v(e)?e:H(e)),t))},addRange:function(e,t){var r=this;return r.data=O(r.data,v(e)?e:H(e),v(t)?t:H(t)),r},removeRange:function(e,t){var r=this,n=v(e)?e:H(e),i=v(t)?t:H(t);return r.data=C(r.data,n,i),r},intersection:function(e){var t=this,r=e instanceof Y?L(e.data):e;return t.data=k(t.data,r),t},contains:function(e){return j(this.data,v(e)?e:H(e))},clone:function(){var e=new Y;return e.data=this.data.slice(0),e},toString:function(){var e=q(this.data);return e.replace(h,"\\0$1")},toRegExp:function(e){return RegExp(this.toString(),e||"")},valueOf:function(){return L(this.data)}}),X.toArray=X.valueOf,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Y}):t&&!t.nodeType?r?r.exports=Y:t.regenerate=Y:e.regenerate=Y}(this),c.regenerate=u.exports||window.regenerate,function(){function e(){var e,t,r=16384,n=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||0>a||a>1114111||C(a)!=a)throw RangeError("Invalid code point: "+a);65535>=a?n.push(a):(a-=65536,e=(a>>10)+55296,t=a%1024+56320,n.push(e,t)),(i+1==o||n.length>r)&&(s+=E.apply(null,n),n.length=0)}return s}function t(e,r){if(-1==r.indexOf("|")){if(e==r)return;throw Error("Invalid node type: "+e)}if(r=t.hasOwnProperty(r)?t[r]:t[r]=RegExp("^(?:"+r+")$"),!r.test(e))throw Error("Invalid node type: "+e)}function r(e){var t=e.type;if(r.hasOwnProperty(t)&&"function"==typeof r[t])return r[t](e);throw Error("Invalid node type: "+t)}function n(e){t(e.type,"alternative");var r=e.body,n=r?r.length:0;if(1==n)return y(r[0]);for(var i=-1,o="";++i<n;)o+=y(r[i]);return o}function i(e){switch(t(e.type,"anchor"),e.kind){case"start":return"^";case"end":return"$";case"boundary":return"\\b";case"not-boundary":return"\\B";default:throw Error("Invalid assertion")}}function o(e){return t(e.type,"anchor|characterClass|characterClassEscape|dot|group|reference|value"),r(e)}function s(e){t(e.type,"characterClass");var r=e.body,n=r?r.length:0,i=-1,o="[";for(e.negative&&(o+="^");++i<n;)o+=h(r[i]);return o+="]"}function a(e){return t(e.type,"characterClassEscape"),"\\"+e.value}function c(e){t(e.type,"characterClassRange");var r=e.min,n=e.max;if("characterClassRange"==r.type||"characterClassRange"==n.type)throw Error("Invalid character class range");return h(r)+"-"+h(n)}function h(e){return t(e.type,"anchor|characterClassEscape|characterClassRange|dot|value"),r(e)}function p(e){t(e.type,"disjunction");var n=e.body,i=n?n.length:0;if(0==i)throw Error("No body");if(1==i)return r(n[0]);for(var o=-1,s="";++o<i;)0!=o&&(s+="|"),s+=r(n[o]);return s}function f(e){return t(e.type,"dot"),"."}function d(e){t(e.type,"group");var n="(";switch(e.behavior){case"normal":break;case"ignore":n+="?:";break;case"lookahead":n+="?=";break;case"negativeLookahead":n+="?!";break;default:throw Error("Invalid behaviour: "+e.behaviour)}var i=e.body,o=i?i.length:0;if(1==o)n+=r(i[0]);else for(var s=-1;++s<o;)n+=r(i[s]);return n+=")"}function m(e){t(e.type,"quantifier");var r="",n=e.min,i=e.max;switch(i){case void 0:case null:switch(n){case 0:r="*";break;case 1:r="+";break;default:r="{"+n+",}"}break;default:r=n==i?"{"+n+"}":0==n&&1==i?"?":"{"+n+","+i+"}"}return e.greedy||(r+="?"),o(e.body[0])+r}function g(e){return t(e.type,"reference"),"\\"+e.matchIndex}function y(e){return t(e.type,"anchor|characterClass|characterClassEscape|empty|group|quantifier|reference|value"),r(e)}function v(r){t(r.type,"value");var n=r.kind,i=r.codePoint;switch(n){case"controlLetter":return"\\c"+e(i+64);case"hexadecimalEscape":return"\\x"+("00"+i.toString(16).toUpperCase()).slice(-2);case"identifier":return"\\"+e(i);case"null":return"\\"+i;case"octal":return"\\"+i.toString(8);case"singleEscape":switch(i){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r";default:throw Error("Invalid codepoint: "+i)}case"symbol":return e(i);case"unicodeEscape":return"\\u"+("0000"+i.toString(16).toUpperCase()).slice(-4);case"unicodeCodePointEscape":return"\\u{"+i.toString(16).toUpperCase()+"}";default:throw Error("Unsupported node kind: "+n)}}var b={"function":!0,object:!0},S=b[typeof window]&&window||this,w=b[typeof l]&&l,_=b[typeof u]&&u&&!u.nodeType&&u,T=w&&_&&"object"==typeof global&&global;!T||T.global!==T&&T.window!==T&&T.self!==T||(S=T);var E=String.fromCharCode,C=Math.floor;r.alternative=n,r.anchor=i,r.characterClass=s,r.characterClassEscape=a,r.characterClassRange=c,r.disjunction=p,r.dot=f,r.group=d,r.quantifier=m,r.reference=g,r.value=v,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return{generate:r}}):w&&_?w.generate=r:S.regjsgen={generate:r}}.call(this),c.regjsgen={generate:l.generate||window.regjsgen},function(){function e(e,t){function r(t){return t.raw=e.substring(t.range[0],t.range[1]),t}function n(e,t){return e.range[0]=t,r(e)}function i(e,t){return r({type:"anchor",kind:e,range:[q-t,q]})}function o(e,t,n,i){return r({type:"value",kind:e,codePoint:t,range:[n,i]})}function s(e,t,r,n){return n=n||0,o(e,t,q-(r.length+n),q)}function a(e){var t=e[0],r=t.charCodeAt(0);if(G){var n;if(1===t.length&&r>=55296&&56319>=r&&(n=w().charCodeAt(0),n>=56320&&57343>=n))return q++,o("symbol",1024*(r-55296)+n-56320+65536,q-2,q)}return o("symbol",r,q-1,q)}function c(e,t,n){return r({type:"disjunction",body:e,range:[t,n]})}function u(){return r({type:"dot",range:[q-1,q]})}function l(e){return r({type:"characterClassEscape",value:e,range:[q-2,q]})}function h(e){return r({type:"reference",matchIndex:parseInt(e,10),range:[q-1-e.length,q]})}function p(e,t,n,i){return r({type:"group",behavior:e,body:t,range:[n,i]})}function f(e,t,n,i){return null==i&&(n=q-1,i=q),r({type:"quantifier",min:e,max:t,greedy:!0,body:null,range:[n,i]})}function d(e,t,n){return r({type:"alternative",body:e,range:[t,n]})}function m(e,t,n,i){return r({type:"characterClass",body:e,negative:t,range:[n,i]})}function g(e,t,n,i){if(e.codePoint>t.codePoint)throw SyntaxError("invalid range in character class");return r({type:"characterClassRange",min:e,max:t,range:[n,i]})}function y(e){return"alternative"===e.type?e.body:[e]}function v(t){t=t||1;var r=e.substring(q,q+t);return q+=t||1,r}function b(e){if(!S(e))throw SyntaxError("character: "+e)}function S(t){return e.indexOf(t,q)===q?v(t.length):void 0}function w(){return e[q]}function _(t){return e.indexOf(t,q)===q}function T(t){return e[q+1]===t}function E(t){var r=e.substring(q),n=r.match(t);return n&&(n.range=[],n.range[0]=q,v(n[0].length),n.range[1]=q),n}function C(){var e=[],t=q;for(e.push(x());S("|");)e.push(x());return 1===e.length?e[0]:c(e,t,q)}function x(){for(var e,t=[],r=q;e=R();)t.push(e);return 1===t.length?t[0]:d(t,r,q)}function R(){if(q>=e.length||_("|")||_(")"))return null;var t=O();if(t)return t;var r=k();if(!r)throw SyntaxError("Expected atom");var i=j()||!1;return i?(i.body=y(r),n(i,r.range[0]),i):r}function A(e,t,r,n){var i=null,o=q;if(S(e))i=t;else{if(!S(r))return!1;i=n}var s=C();if(!s)throw SyntaxError("Expected disjunction");b(")");var a=p(i,y(s),o,q);return"normal"==i&&Y++,a}function O(){return S("^")?i("start",1):S("$")?i("end",1):S("\\b")?i("boundary",2):S("\\B")?i("not-boundary",2):A("(?=","lookahead","(?!","negativeLookahead")}function j(){var e,t,r,n;if(S("*"))t=f(0);else if(S("+"))t=f(1);else if(S("?"))t=f(0,1);else if(e=E(/^\{([0-9]+)\}/))r=parseInt(e[1],10),t=f(r,r,e.range[0],e.range[1]);else if(e=E(/^\{([0-9]+),\}/))r=parseInt(e[1],10),t=f(r,void 0,e.range[0],e.range[1]);else if(e=E(/^\{([0-9]+),([0-9]+)\}/)){if(r=parseInt(e[1],10),n=parseInt(e[2],10),r>n)throw SyntaxError("numbers out of order in {} quantifier");t=f(r,n,e.range[0],e.range[1])}return t&&S("?")&&(t.greedy=!1,t.range[1]+=1),t}function k(){var e;if(e=E(/^[^^$\\.*+?(){[|]/))return a(e);if(S("."))return u();if(S("\\")){if(e=L(),!e)throw SyntaxError("atomEscape");return e}return(e=B())?e:A("(?:","ignore","(","normal")}function P(e){if(G){var t,n;if("unicodeEscape"==e.kind&&(t=e.codePoint)>=55296&&56319>=t&&_("\\")&&T("u")){var i=q;q++;var o=I();"unicodeEscape"==o.kind&&(n=o.codePoint)>=56320&&57343>=n?(e.range[1]=o.range[1],e.codePoint=1024*(t-55296)+n-56320+65536,e.type="value",e.kind="unicodeCodePointEscape",r(e)):q=i}}return e}function I(){return L(!0)}function L(e){var t;if(t=N())return t;if(e){if(S("b"))return s("singleEscape",8,"\\b");if(S("B"))throw SyntaxError("\\B not possible inside of CharacterClass")}return t=D()}function N(){var e,t;if(e=E(/^(?!0)\d+/)){t=e[0];var r=parseInt(e[0],10);return Y>=r?h(e[0]):(v(-e[0].length),(e=E(/^[0-7]{1,3}/))?s("octal",parseInt(e[0],8),e[0],1):(e=a(E(/^[89]/)),n(e,e.range[0]-1)))}return(e=E(/^[0-7]{1,3}/))?(t=e[0],/^0{1,3}$/.test(t)?s("null",0,"0",t.length+1):s("octal",parseInt(t,8),t,1)):(e=E(/^[dDsSwW]/))?l(e[0]):!1}function D(){var e;if(e=E(/^[fnrtv]/)){var t=0;switch(e[0]){case"t":t=9;break;case"n":t=10;break;case"v":t=11;break;case"f":t=12;break;case"r":t=13}return s("singleEscape",t,"\\"+e[0])}return(e=E(/^c([a-zA-Z])/))?s("controlLetter",e[1].charCodeAt(0)%32,e[1],2):(e=E(/^x([0-9a-fA-F]{2})/))?s("hexadecimalEscape",parseInt(e[1],16),e[1],2):(e=E(/^u([0-9a-fA-F]{4})/))?P(s("unicodeEscape",parseInt(e[1],16),e[1],2)):G&&(e=E(/^u\{([0-9a-fA-F]{1,6})\}/))?s("unicodeCodePointEscape",parseInt(e[1],16),e[1],4):F()}function M(e){var t=new RegExp("[ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Ì-Í´Í¶Í·Íº-Í½Í¿ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-ÒÒ-Ô¯Ô±-ÕÕÕ¡-ÖÖ-Ö½Ö¿××××××-×ª×°-×²Ø-ØØ -Ù©Ù®-ÛÛ-ÛÛ-Û¨Ûª-Û¼Û¿Ü-ÝÝ-Þ±ß-ßµßºà -à ­à¡-à¡à¢ -à¢²à£¤-à¥£à¥¦-à¥¯à¥±-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦¼-à§à§à§à§-à§à§à§à§à§-à§£à§¦-à§±à¨-à¨à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à¨¼à¨¾-à©à©à©à©-à©à©à©-à©à©à©¦-à©µàª-àªàª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª¼-à«à«-à«à«-à«à«à« -à«£à«¦-à«¯à¬-à¬à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬¼-à­à­à­à­-à­à­à­à­à­à­-à­£à­¦-à­¯à­±à®à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à®¾-à¯à¯-à¯à¯-à¯à¯à¯à¯¦-à¯¯à°-à°à°-à°à°-à°à°-à°¨à°ª-à°¹à°½-à±à±-à±à±-à±à±à±à±à±à± -à±£à±¦-à±¯à²-à²à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²¼-à³à³-à³à³-à³à³à³à³à³ -à³£à³¦-à³¯à³±à³²à´-à´à´-à´à´-à´à´-à´ºà´½-àµàµ-àµàµ-àµàµàµ -àµ£àµ¦-àµ¯àµº-àµ¿à¶à¶à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à·à·-à·à·à·-à·à·¦-à·¯à·²à·³à¸-à¸ºà¹-à¹à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº¹àº»-àº½à»-à»à»à»-à»à»-à»à»-à»à¼à¼à¼à¼ -à¼©à¼µà¼·à¼¹à¼¾-à½à½-à½¬à½±-à¾à¾-à¾à¾-à¾¼à¿á-áá-áá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á¸á-áá-áá -á´á-áá -á¬á®-á°á²á³á-ááááá -á©á -á á -á á  -á¡·á¢-á¢ªá¢°-á£µá¤-á¤á¤ -á¤«á¤°-á¤»á¥-á¥­á¥°-á¥´á¦-á¦«á¦°-á§á§-á§á¨-á¨á¨ -á©á© -á©¼á©¿-áªáª-áªáª§áª°-áª½á¬-á­á­-á­á­«-á­³á®-á¯³á°-á°·á±-á±á±-á±½á³-á³á³-á³¶á³¸á³¹á´-á·µá·¼-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼âââ¿âââ±â¿â-ââ-ââ¡â¥-â°âââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³³â´-â´¥â´§â´­â´°-âµ§âµ¯âµ¿-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â· -â·¿â¸¯ã-ãã¡-ã¯ã±-ãµã¸-ã¼ã-ãããã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-ê«ê-ê¯ê´-ê½ê¿-êê-ê±ê-êê¢-êê-êê-ê­ê°ê±ê·-ê §ê¡-ê¡³ê¢-ê£ê£-ê£ê£ -ê£·ê£»ê¤-ê¤­ê¤°-ê¥ê¥ -ê¥¼ê¦-ê§ê§-ê§ê§ -ê§¾ê¨-ê¨¶ê©-ê©ê©-ê©ê© -ê©¶ê©º-ê«ê«-ê«ê« -ê«¯ê«²-ê«¶ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­ê­-ê­ê­¤ê­¥ê¯-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¸-ï¸ï¸ -ï¸­ï¸³ï¸´ï¹-ï¹ï¹°-ï¹´ï¹¶-ï»¼ï¼-ï¼ï¼¡-ï¼ºï¼¿ï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]");return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&t.test(String.fromCharCode(e))}function F(){var e,t="â",r="â";return M(w())?S(t)?s("identifier",8204,t):S(r)?s("identifier",8205,r):null:(e=v(),s("identifier",e.charCodeAt(0),e,1))}function B(){var e,t=q;return(e=E(/^\[\^/))?(e=H(),b("]"),m(e,!0,t,q)):S("[")?(e=H(),b("]"),m(e,!1,t,q)):null}function H(){var e;if(_("]"))return[];if(e=V(),!e)throw SyntaxError("nonEmptyClassRanges");return e}function $(e){var t,r,n;if(_("-")&&!T("]")){if(b("-"),n=z(),!n)throw SyntaxError("classAtom");r=q;var i=H();if(!i)throw SyntaxError("classRanges");return t=e.range[0],"empty"===i.type?[g(e,n,t,r)]:[g(e,n,t,r)].concat(i)}if(n=U(),!n)throw SyntaxError("nonEmptyClassRangesNoDash");return[e].concat(n)}function V(){var e=z();if(!e)throw SyntaxError("classAtom");return _("]")?[e]:$(e)}function U(){var e=z();if(!e)throw SyntaxError("classAtom");return _("]")?e:$(e)}function z(){return S("-")?a("-"):W()}function W(){var e;if(e=E(/^[^\\\]-]/))return a(e[0]);if(S("\\")){if(e=I(),!e)throw SyntaxError("classEscape");return P(e)}}var G=-1!==(t||"").indexOf("u"),q=0,Y=0;e=String(e),""===e&&(e="(?:)");var X=C();if(X.range[1]!==e.length)throw SyntaxError("Could not parse entire input - got stuck: "+e);return X}var t={parse:e};"undefined"!=typeof u&&u.exports?u.exports=t:window.regjsparser=t}(),c.regjsparser=u.exports||window.regjsparser,c["./data/iu-mappings.json"]={75:8490,83:383,107:8490,115:383,181:924,197:8491,383:83,452:453,453:452,455:456,456:455,458:459,459:458,497:498,498:497,837:8126,914:976,917:1013,920:1012,921:8126,922:1008,924:181,928:982,929:1009,931:962,934:981,937:8486,962:931,976:914,977:1012,981:934,982:928,1008:922,1009:929,1012:[920,977],1013:917,7776:7835,7835:7776,8126:[837,921],8486:937,8490:75,8491:197,66560:66600,66561:66601,66562:66602,66563:66603,66564:66604,66565:66605,66566:66606,66567:66607,66568:66608,66569:66609,66570:66610,66571:66611,66572:66612,66573:66613,66574:66614,66575:66615,66576:66616,66577:66617,66578:66618,66579:66619,66580:66620,66581:66621,66582:66622,66583:66623,66584:66624,66585:66625,66586:66626,66587:66627,66588:66628,66589:66629,66590:66630,66591:66631,66592:66632,66593:66633,66594:66634,66595:66635,66596:66636,66597:66637,66598:66638,66599:66639,66600:66560,66601:66561,66602:66562,66603:66563,66604:66564,66605:66565,66606:66566,66607:66567,66608:66568,66609:66569,66610:66570,66611:66571,66612:66572,66613:66573,66614:66574,66615:66575,66616:66576,66617:66577,66618:66578,66619:66579,66620:66580,66621:66581,66622:66582,66623:66583,66624:66584,66625:66585,66626:66586,66627:66587,66628:66588,66629:66589,66630:66590,66631:66591,66632:66592,66633:66593,66634:66594,66635:66595,66636:66596,66637:66597,66638:66598,66639:66599,71840:71872,71841:71873,71842:71874,71843:71875,71844:71876,71845:71877,71846:71878,71847:71879,71848:71880,71849:71881,71850:71882,71851:71883,71852:71884,71853:71885,71854:71886,71855:71887,71856:71888,71857:71889,71858:71890,71859:71891,71860:71892,71861:71893,71862:71894,71863:71895,71864:71896,71865:71897,71866:71898,71867:71899,71868:71900,71869:71901,71870:71902,71871:71903,71872:71840,71873:71841,71874:71842,71875:71843,71876:71844,71877:71845,71878:71846,71879:71847,71880:71848,71881:71849,71882:71850,71883:71851,71884:71852,71885:71853,71886:71854,71887:71855,71888:71856,71889:71857,71890:71858,71891:71859,71892:71860,71893:71861,71894:71862,71895:71863,71896:71864,71897:71865,71898:71866,71899:71867,71900:71868,71901:71869,71902:71870,71903:71871};var p=h("regenerate");l.REGULAR={d:p().addRange(48,57),D:p().addRange(0,47).addRange(58,65535),s:p(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:p().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,65535),w:p(95).addRange(48,57).addRange(65,90).addRange(97,122),W:p(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,65535)},l.UNICODE={d:p().addRange(48,57),D:p().addRange(0,47).addRange(58,1114111),s:p(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:p().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111),w:p(95).addRange(48,57).addRange(65,90).addRange(97,122),W:p(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)},l.UNICODE_IGNORE_CASE={d:p().addRange(48,57),D:p().addRange(0,47).addRange(58,1114111),s:p(32,160,5760,6158,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233),S:p().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,6157).addRange(6159,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111),w:p(95,383,8490).addRange(48,57).addRange(65,90).addRange(97,122),W:p(75,83,96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)},c["./data/character-class-escape-sets.js"]={REGULAR:l.REGULAR,UNICODE:l.UNICODE,UNICODE_IGNORE_CASE:l.UNICODE_IGNORE_CASE};var f=h("regjsgen").generate,d=h("regjsparser").parse,p=h("regenerate"),m=h("./data/iu-mappings.json"),g=h("./data/character-class-escape-sets.js"),y={},v=y.hasOwnProperty,b=p().addRange(0,1114111),S=p().addRange(0,65535),w=b.clone().remove(10,13,8232,8233),_=w.clone().intersection(S);p.prototype.iuAddRange=function(e,t){var r=this;do{
var n=o(e);n&&r.add(n)}while(++e<=t);return r};var T=!1,E=!1;u.exports=function(e,t){var n=d(e,t);return T=t?t.indexOf("i")>-1:!1,E=t?t.indexOf("u")>-1:!1,r(n,a(n)),f(n)};var C=u.exports;return{get regexpuRewritePattern(){return C}}}),System.register("traceur@0.0.72/src/codegeneration/RegularExpressionTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").LiteralExpression,r=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,n=System.get("traceur@0.0.72/src/syntax/TokenType").REGULAR_EXPRESSION,i=System.get("traceur@0.0.72/src/outputgeneration/regexpuRewritePattern").regexpuRewritePattern,o=function(){$traceurRuntime.defaultSuperCall(this,s.prototype,arguments)},s=o;return $traceurRuntime.createClass(o,{transformLiteralExpression:function(e){var o=e.literalToken;if(o.type===n){var s=o.value,a=s.lastIndexOf("/"),c=s.slice(1,a),u=s.slice(a+1);if(-1!==u.indexOf("u")){var l="/"+i(c,u)+"/"+u.replace("u","");return new t(e.location,new r(n,l,o.location))}}return e}},{},e),{get RegularExpressionTransformer(){return o}}}),System.register("traceur@0.0.72/src/codegeneration/RestParameterTransformer",[],function(){"use strict";function e(e){var t=e.parameters;return t.length>0&&t[t.length-1].isRestParameter()}function t(e){var t=e.parameters;return t[t.length-1].parameter.identifier.identifierToken}var r=Object.freeze(Object.defineProperties(["\n            for (var "," = [], "," = ",";\n                 "," < arguments.length; ","++)\n              ","["," - ","] = arguments[","];"],{raw:{value:Object.freeze(["\n            for (var "," = [], "," = ",";\n                 "," < arguments.length; ","++)\n              ","["," - ","] = arguments[","];"])}})),n=Object.freeze(Object.defineProperties(["\n            for (var "," = [], "," = 0;\n                 "," < arguments.length; ","++)\n              ","[","] = arguments[","];"],{raw:{value:Object.freeze(["\n            for (var "," = [], "," = 0;\n                 "," < arguments.length; ","++)\n              ","[","] = arguments[","];"])}})),i=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").FormalParameterList,o=System.get("traceur@0.0.72/src/codegeneration/ParameterTransformer").ParameterTransformer,s=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory").createIdentifierToken,a=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement,c=function(){$traceurRuntime.defaultSuperCall(this,u.prototype,arguments)},u=c;return $traceurRuntime.createClass(c,{transformFormalParameterList:function(o){var c=$traceurRuntime.superCall(this,u.prototype,"transformFormalParameterList",[o]);if(e(c)){var l,h=new i(c.location,c.parameters.slice(0,-1)),p=c.parameters.length-1,f=s(this.getTempIdentifier()),d=t(c);return l=p?a(r,d,f,p,f,f,d,f,p,f):a(n,d,f,f,f,d,f,f),this.parameterStatements.push(l),h}return c}},{},o),{get RestParameterTransformer(){return c}}}),System.register("traceur@0.0.72/src/codegeneration/SpreadTransformer",[],function(){"use strict";function e(e){return e.some(function(e){return e&&e.type==l})}var t=Object.freeze(Object.defineProperties(["$traceurRuntime.spread(",")"],{raw:{value:Object.freeze(["$traceurRuntime.spread(",")"])}})),r=System.get("traceur@0.0.72/src/syntax/PredefinedName"),n=r.APPLY,i=r.BIND,o=r.FUNCTION,s=r.PROTOTYPE,a=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),c=a.MEMBER_EXPRESSION,u=a.MEMBER_LOOKUP_EXPRESSION,l=a.SPREAD_EXPRESSION,h=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,p=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),f=p.createArgumentList,d=p.createArrayLiteralExpression,m=p.createAssignmentExpression,g=p.createCallExpression,y=p.createEmptyArgumentList,v=p.createIdentifierExpression,b=p.createMemberExpression,S=p.createMemberLookupExpression,w=p.createNewExpression,_=p.createNullLiteral,T=p.createParenExpression,E=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,C=function(){$traceurRuntime.defaultSuperCall(this,x.prototype,arguments)},x=C;return $traceurRuntime.createClass(C,{createArrayFromElements_:function(e){for(var r,n=e.length,i=[],o=0;n>o;o++)e[o]&&e[o].type===l?(r&&(i.push(d(r)),r=null),i.push(this.transformAny(e[o].expression))):(r||(r=[]),r.push(this.transformAny(e[o])));return r&&i.push(d(r)),E(t,f(i))},desugarCallSpread_:function(e){var t,r,i=this.transformAny(e.operand);if(this.pushTempScope(),i.type==c){var o=v(this.addTempVar()),s=T(m(o,i.operand)),a=i.memberName;r=o,t=b(s,a)}else if(e.operand.type==u){var o=v(this.addTempVar()),s=T(m(o,i.operand)),l=this.transformAny(i.memberExpression);r=o,t=S(s,l)}else r=_(),t=i;this.popTempScope();var h=this.createArrayFromElements_(e.args.args);return g(b(t,n),f([r,h]))},desugarNewSpread_:function(e){var t=$traceurRuntime.spread([_()],e.args.args);return t=this.createArrayFromElements_(t),w(T(g(b(o,s,i,n),f([this.transformAny(e.operand),t]))),y())},transformArrayLiteralExpression:function(t){return e(t.elements)?this.createArrayFromElements_(t.elements):$traceurRuntime.superCall(this,x.prototype,"transformArrayLiteralExpression",[t])},transformCallExpression:function(t){return e(t.args.args)?this.desugarCallSpread_(t):$traceurRuntime.superCall(this,x.prototype,"transformCallExpression",[t])},transformNewExpression:function(t){return null!=t.args&&e(t.args.args)?this.desugarNewSpread_(t):$traceurRuntime.superCall(this,x.prototype,"transformNewExpression",[t])}},{},h),{get SpreadTransformer(){return C}}}),System.register("traceur@0.0.72/src/codegeneration/SymbolTransformer",[],function(){"use strict";function e(e){switch(e.operator.type){case w:case _:case E:case C:return!0}return!1}function t(e){return e.type===y&&e.operator.type===R}function r(e){if(e.type!==g)return!1;var t=e.literalToken.processedValue;switch(t){case"symbol":case"object":return!1}return!0}var n=Object.freeze(Object.defineProperties(["$traceurRuntime.toProperty(",") in ",""],{raw:{value:Object.freeze(["$traceurRuntime.toProperty(",") in ",""])}})),i=Object.freeze(Object.defineProperties(["","[$traceurRuntime.toProperty(",")]"],{raw:{value:Object.freeze(["","[$traceurRuntime.toProperty(",")]"])}})),o=Object.freeze(Object.defineProperties(["(typeof "," === 'undefined' ?\n          'undefined' : ",")"],{raw:{value:Object.freeze(["(typeof "," === 'undefined' ?\n          'undefined' : ",")"])}})),s=Object.freeze(Object.defineProperties(["$traceurRuntime.typeof(",")"],{raw:{value:Object.freeze(["$traceurRuntime.typeof(",")"])}})),a=Object.freeze(Object.defineProperties(["if (!$traceurRuntime.isSymbolString(",")) ",""],{raw:{value:Object.freeze(["if (!$traceurRuntime.isSymbolString(",")) ",""])}})),c=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),u=c.BinaryExpression,l=c.MemberLookupExpression,h=c.ForInStatement,p=c.UnaryExpression,f=System.get("traceur@0.0.72/src/codegeneration/ExplodeExpressionTransformer").ExplodeExpressionTransformer,d=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),m=d.IDENTIFIER_EXPRESSION,g=d.LITERAL_EXPRESSION,y=d.UNARY_EXPRESSION,v=d.VARIABLE_DECLARATION_LIST,b=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,S=System.get("traceur@0.0.72/src/syntax/TokenType"),w=S.EQUAL_EQUAL,_=S.EQUAL_EQUAL_EQUAL,T=S.IN,E=S.NOT_EQUAL,C=S.NOT_EQUAL_EQUAL,x=S.STRING,R=S.TYPEOF,A=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),O=A.parseExpression,j=A.parseStatement,k=function(){$traceurRuntime.defaultSuperCall(this,P.prototype,arguments)},P=k;$traceurRuntime.createClass(k,{transformArrowFunctionExpression:function(e){return e},transformClassExpression:function(e){return e},transformFunctionBody:function(e){return e}},{},f);var I=function(){$traceurRuntime.defaultSuperCall(this,L.prototype,arguments)},L=I;return $traceurRuntime.createClass(I,{transformTypeofOperand_:function(e){var t=this.transformAny(e.operand);return new p(e.location,e.operator,t)},transformBinaryExpression:function(i){if(i.operator.type===T){var o=this.transformAny(i.left),s=this.transformAny(i.right);return o.type===g?new u(i.location,o,i.operator,s):O(n,o,s)}if(e(i)){if(t(i.left)&&r(i.right)){var a=this.transformTypeofOperand_(i.left),c=i.right;return new u(i.location,a,i.operator,c)}if(t(i.right)&&r(i.left)){var a=i.left,c=this.transformTypeofOperand_(i.right);return new u(i.location,a,i.operator,c)}}return $traceurRuntime.superCall(this,L.prototype,"transformBinaryExpression",[i])},transformMemberLookupExpression:function(e){var t=this.transformAny(e.operand),r=this.transformAny(e.memberExpression);return r.type===g&&r.literalToken.type!==x?new l(e.location,t,r):O(i,t,r)},transformUnaryExpression:function(e){if(e.operator.type!==R)return $traceurRuntime.superCall(this,L.prototype,"transformUnaryExpression",[e]);var t=this.transformAny(e.operand),r=this.getRuntimeTypeof(t);return t.type===m?O(o,t,r):r},getRuntimeTypeof:function(e){return O(s,e)},transformForInStatement:function(e){var t,r=this.transformAny(e.initializer),n=this.transformAny(e.collection),i=this.transformAny(e.body);if(t=r.type===v?r.declarations[0].lvalue.identifierToken:r.identifierToken,!t)throw new Error("Not implemented");return i=j(a,t,i),new h(e.location,r,n,i)}},{},b),{get SymbolTransformer(){return I}}}),System.register("traceur@0.0.72/src/codegeneration/TemplateLiteralTransformer",[],function(){"use strict";function e(e){var t=e.elements,n=i(t),o=r(t);return I(a,n,o)}function t(e,t){var r=e.length;r&&e[r-1].type===p||t.push(P(""))}function r(e){for(var r=[],n=0;n<e.length;n+=2){var i=e[n].value.value;i=i.replace(/\r\n?/g,"\n"),i=JSON.stringify(i),i=o(i);var s=e[n].location,a=new d(s,new g(E,i,s));r.push(a)}return t(e,r),R(r)}function n(e){var t=s(e.value.value),r=e.location;return new d(r,new g(E,t,r))}function i(e){for(var r=[],i=0;i<e.length;i+=2)r.push(n(e[i]));return t(e,r),R(r)}function o(e){return e.replace(/\u2028|\u2029/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("Not reachable")}})}function s(e){for(var t,r,n=['"'],i=0,o=1;i<e.length;)switch(t=e[i++]){case"\\":switch(r=e[i++]){case"\n":case"\u2028":case"\u2029":break;case"\r":"\n"===e[i+1]&&i++;break;default:n[o++]=t,n[o++]=r}break;case'"':n[o++]='\\"';break;case"\n":n[o++]="\\n";break;case"\r":"\n"===e[i]&&i++,n[o++]="\\n";break;case"	":n[o++]="\\t";break;case"\f":n[o++]="\\f";break;case"\b":n[o++]="\\b";break;case"\u2028":n[o++]="\\u2028";break;case"\u2029":n[o++]="\\u2029";break;default:n[o++]=t}return n[o++]='"',n.join("")}var a=Object.freeze(Object.defineProperties(["Object.freeze(Object.defineProperties(",", {\n    raw: {\n      value: Object.freeze(",")\n    }\n  }))"],{raw:{value:Object.freeze(["Object.freeze(Object.defineProperties(",", {\n    raw: {\n      value: Object.freeze(",")\n    }\n  }))"])}})),c=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),u=c.BINARY_EXPRESSION,l=c.COMMA_EXPRESSION,h=c.CONDITIONAL_EXPRESSION,p=c.TEMPLATE_LITERAL_PORTION,f=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),d=f.LiteralExpression,m=f.ParenExpression,g=System.get("traceur@0.0.72/src/syntax/LiteralToken").LiteralToken,y=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,v=System.get("traceur@0.0.72/src/codegeneration/TempVarTransformer").TempVarTransformer,b=System.get("traceur@0.0.72/src/syntax/TokenType"),S=b.PERCENT,w=b.PLUS,_=b.SLASH,T=b.STAR,E=b.STRING,C=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),x=C.createArgumentList,R=C.createArrayLiteralExpression,A=C.createBinaryExpression,O=C.createCallExpression,j=C.createIdentifierExpression,k=C.createOperatorToken,P=C.createStringLiteral,I=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseExpression,L=function(){$traceurRuntime.defaultSuperCall(this,N.prototype,arguments)},N=L;return $traceurRuntime.createClass(L,{transformFunctionBody:function(e){return y.prototype.transformFunctionBody.call(this,e)},transformTemplateLiteralExpression:function(t){if(!t.operand)return this.createDefaultTemplateLiteral(t);for(var r=this.transformAny(t.operand),n=t.elements,i=e(t),o=this.addTempVar(i),s=[j(o)],a=1;a<n.length;a+=2)s.push(this.transformAny(n[a]));return O(r,x(s))},transformTemplateSubstitution:function(e){var t=this.transformAny(e.expression);switch(t.type){case u:switch(t.operator.type){case T:case S:case _:return t}case l:case h:return new m(null,t)}return t},transformTemplateLiteralPortion:function(e){return n(e)},createDefaultTemplateLiteral:function(e){var t=e.elements.length;if(0===t){var r=e.location;return new d(r,new g(E,'""',r))}var n=""===e.elements[0].value.value?-1:0,i=this.transformAny(e.elements[0]);if(1==t)return i;for(var o=k(w),s=1;t>s;s++){var a=e.elements[s];if(a.type===p){if(""===a.value.value)continue;0>n&&2===s&&(i=i.right)}var c=this.transformAny(e.elements[s]);i=A(i,o,c)}return new m(null,i)}},{},v),{get TemplateLiteralTransformer(){return L}}}),System.register("traceur@0.0.72/src/codegeneration/TypeAssertionTransformer",[],function(){"use strict";var e=Object.freeze(Object.defineProperties(["assert.type(",", ",")"],{raw:{value:Object.freeze(["assert.type(",", ",")"])}})),t=Object.freeze(Object.defineProperties(["assert.argumentTypes(",")"],{raw:{value:Object.freeze(["assert.argumentTypes(",")"])}})),r=Object.freeze(Object.defineProperties(["return assert.returnType((","), ",")"],{raw:{value:Object.freeze(["return assert.returnType((","), ",")"])}})),n=Object.freeze(Object.defineProperties(["$traceurRuntime.type.any"],{raw:{value:Object.freeze(["$traceurRuntime.type.any"])}})),i=System.get("traceur@0.0.72/src/syntax/trees/ParseTreeType"),o=i.BINDING_ELEMENT,s=i.REST_PARAMETER,a=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),c=a.ImportDeclaration,u=a.ImportSpecifier,l=a.ImportSpecifierSet,h=a.Module,p=a.ModuleSpecifier,f=a.Script,d=a.VariableDeclaration,m=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),g=m.createArgumentList,y=m.createIdentifierExpression,v=m.createImportedBinding,b=m.createStringLiteralToken,S=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),w=S.parseExpression,_=S.parseStatement,T=System.get("traceur@0.0.72/src/codegeneration/ParameterTransformer").ParameterTransformer,E=System.get("traceur@0.0.72/src/Options").options,C=function(e){$traceurRuntime.superCall(this,x.prototype,"constructor",[e]),this.returnTypeStack_=[],this.parametersStack_=[],this.assertionAdded_=!1},x=C;return $traceurRuntime.createClass(C,{transformScript:function(e){return this.prependAssertionImport_($traceurRuntime.superCall(this,x.prototype,"transformScript",[e]),f)},transformModule:function(e){return this.prependAssertionImport_($traceurRuntime.superCall(this,x.prototype,"transformModule",[e]),h)},transformVariableDeclaration:function(t){if(t.typeAnnotation&&t.initializer){var r=w(e,t.initializer,t.typeAnnotation);t=new d(t.location,t.lvalue,t.typeAnnotation,r),this.assertionAdded_=!0}return $traceurRuntime.superCall(this,x.prototype,"transformVariableDeclaration",[t])},transformFormalParameterList:function(e){this.parametersStack_.push({atLeastOneParameterTyped:!1,arguments:[]});var r=$traceurRuntime.superCall(this,x.prototype,"transformFormalParameterList",[e]),n=this.parametersStack_.pop();if(n.atLeastOneParameterTyped){var i=g(n.arguments),o=_(t,i);this.parameterStatements.push(o),this.assertionAdded_=!0}return r},transformFormalParameter:function(e){var t=$traceurRuntime.superCall(this,x.prototype,"transformFormalParameter",[e]);switch(t.parameter.type){case o:this.transformBindingElementParameter_(t.parameter,t.typeAnnotation);break;case s:}return t},transformGetAccessor:function(e){return this.pushReturnType_(e.typeAnnotation),e=$traceurRuntime.superCall(this,x.prototype,"transformGetAccessor",[e]),this.popReturnType_(),e},transformPropertyMethodAssignment:function(e){return this.pushReturnType_(e.typeAnnotation),e=$traceurRuntime.superCall(this,x.prototype,"transformPropertyMethodAssignment",[e]),this.popReturnType_(),e},transformFunctionDeclaration:function(e){return this.pushReturnType_(e.typeAnnotation),e=$traceurRuntime.superCall(this,x.prototype,"transformFunctionDeclaration",[e]),this.popReturnType_(),e},transformFunctionExpression:function(e){return this.pushReturnType_(e.typeAnnotation),e=$traceurRuntime.superCall(this,x.prototype,"transformFunctionExpression",[e]),this.popReturnType_(),e},transformReturnStatement:function(e){return e=$traceurRuntime.superCall(this,x.prototype,"transformReturnStatement",[e]),this.returnType_&&e.expression?(this.assertionAdded_=!0,_(r,e.expression,this.returnType_)):e},transformBindingElementParameter_:function(e,t){return e.binding.isPattern()?void 0:(t?this.paramTypes_.atLeastOneParameterTyped=!0:t=w(n),void this.paramTypes_.arguments.push(y(e.binding.identifierToken),t))},pushReturnType_:function(e){this.returnTypeStack_.push(this.transformAny(e))},prependAssertionImport_:function(e,t){if(!this.assertionAdded_||null===E.typeAssertionModule)return e;var r=v("assert"),n=new c(null,new l(null,[new u(null,r,null)]),new p(null,b(E.typeAssertionModule)));return e=new t(e.location,$traceurRuntime.spread([n],e.scriptItemList),e.moduleName)},popReturnType_:function(){return this.returnTypeStack_.pop()},get returnType_(){return this.returnTypeStack_.length>0?this.returnTypeStack_[this.returnTypeStack_.length-1]:null},get paramTypes_(){return this.parametersStack_[this.parametersStack_.length-1]}},{},T),{get TypeAssertionTransformer(){return C}}}),System.register("traceur@0.0.72/src/codegeneration/TypeToExpressionTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/codegeneration/ParseTreeFactory"),r=t.createIdentifierExpression,n=t.createMemberExpression,i=function(){$traceurRuntime.defaultSuperCall(this,o.prototype,arguments)},o=i;return $traceurRuntime.createClass(i,{transformTypeName:function(e){return r(e.name)},transformPredefinedType:function(e){return n("$traceurRuntime","type",e.typeToken)}},{},e),{get TypeToExpressionTransformer(){return i}}}),System.register("traceur@0.0.72/src/codegeneration/TypeTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),t=e.FormalParameter,r=e.FunctionDeclaration,n=e.FunctionExpression,i=e.GetAccessor,o=e.PropertyMethodAssignment,s=e.VariableDeclaration,a=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,c=function(){$traceurRuntime.defaultSuperCall(this,u.prototype,arguments)},u=c;return $traceurRuntime.createClass(c,{transformVariableDeclaration:function(e){return e.typeAnnotation&&(e=new s(e.location,e.lvalue,null,e.initializer)),$traceurRuntime.superCall(this,u.prototype,"transformVariableDeclaration",[e])},transformFormalParameter:function(e){return null!==e.typeAnnotation?new t(e.location,e.parameter,null,[]):e},transformFunctionDeclaration:function(e){return e.typeAnnotation&&(e=new r(e.location,e.name,e.functionKind,e.parameterList,null,e.annotations,e.body)),$traceurRuntime.superCall(this,u.prototype,"transformFunctionDeclaration",[e])},transformFunctionExpression:function(e){return e.typeAnnotation&&(e=new n(e.location,e.name,e.functionKind,e.parameterList,null,e.annotations,e.body)),$traceurRuntime.superCall(this,u.prototype,"transformFunctionExpression",[e])},transformPropertyMethodAssignment:function(e){return e.typeAnnotation&&(e=new o(e.location,e.isStatic,e.functionKind,e.name,e.parameterList,null,e.annotations,e.body)),$traceurRuntime.superCall(this,u.prototype,"transformPropertyMethodAssignment",[e])},transformGetAccessor:function(e){return e.typeAnnotation&&(e=new i(e.location,e.isStatic,e.name,null,e.annotations,e.body)),$traceurRuntime.superCall(this,u.prototype,"transformGetAccessor",[e])}},{},a),{get TypeTransformer(){return c}}}),System.register("traceur@0.0.72/src/codegeneration/UnicodeEscapeSequenceTransformer",[],function(){"use strict";function e(e){return"0000".slice(e.length)+e}function t(e){return e.type===o&&s.test(e.value)}function r(t){return t.value.replace(s,function(t,r,n){var i=r.length%2===1;if(i)return t;var o,s=parseInt(n,16);if(65535>=s)o="\\u"+e(s.toString(16).toUpperCase());else{var a=Math.floor((s-65536)/1024)+55296,c=(s-65536)%1024+56320;o="\\u"+a.toString(16).toUpperCase()+"\\u"+c.toString(16).toUpperCase()}return r+o})}var n=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,i=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").LiteralExpression,o=System.get("traceur@0.0.72/src/syntax/TokenType").STRING,s=/(\\*)\\u{([0-9a-fA-F]+)}/g,a=function(){$traceurRuntime.defaultSuperCall(this,c.prototype,arguments)},c=a;return $traceurRuntime.createClass(a,{transformLiteralExpression:function(e){var n=e.literalToken;return t(n)?new i(e.location,r(n)):e}},{},n),{get UnicodeEscapeSequenceTransformer(){return a}}}),System.register("traceur@0.0.72/src/codegeneration/UniqueIdentifierGenerator",[],function(){"use strict";var e=function(){this.identifierIndex=0};return $traceurRuntime.createClass(e,{generateUniqueIdentifier:function(){return"$__"+this.identifierIndex++}},{}),{get UniqueIdentifierGenerator(){return e}}}),System.register("traceur@0.0.72/src/codegeneration/FromOptionsTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/AmdTransformer").AmdTransformer,t=System.get("traceur@0.0.72/src/codegeneration/AnnotationsTransformer").AnnotationsTransformer,r=System.get("traceur@0.0.72/src/codegeneration/ArrayComprehensionTransformer").ArrayComprehensionTransformer,n=System.get("traceur@0.0.72/src/codegeneration/ArrowFunctionTransformer").ArrowFunctionTransformer,i=System.get("traceur@0.0.72/src/codegeneration/BlockBindingTransformer").BlockBindingTransformer,o=System.get("traceur@0.0.72/src/codegeneration/ClassTransformer").ClassTransformer,s=System.get("traceur@0.0.72/src/codegeneration/CommonJsModuleTransformer").CommonJsModuleTransformer,a=System.get("traceur@0.0.72/src/codegeneration/ExponentiationTransformer").ExponentiationTransformer,c=System.get("traceur@0.0.72/src/semantics/ConstChecker").validate,u=System.get("traceur@0.0.72/src/codegeneration/DefaultParametersTransformer").DefaultParametersTransformer,l=System.get("traceur@0.0.72/src/codegeneration/DestructuringTransformer").DestructuringTransformer,h=System.get("traceur@0.0.72/src/codegeneration/ForOfTransformer").ForOfTransformer,p=System.get("traceur@0.0.72/src/semantics/FreeVariableChecker").validate,f=System.get("traceur@0.0.72/src/codegeneration/GeneratorComprehensionTransformer").GeneratorComprehensionTransformer,d=System.get("traceur@0.0.72/src/codegeneration/GeneratorTransformPass").GeneratorTransformPass,m=System.get("traceur@0.0.72/src/codegeneration/InlineModuleTransformer").InlineModuleTransformer,g=System.get("traceur@0.0.72/src/codegeneration/ModuleTransformer").ModuleTransformer,y=System.get("traceur@0.0.72/src/codegeneration/MultiTransformer").MultiTransformer,v=System.get("traceur@0.0.72/src/codegeneration/NumericLiteralTransformer").NumericLiteralTransformer,b=System.get("traceur@0.0.72/src/codegeneration/ObjectLiteralTransformer").ObjectLiteralTransformer,S=System.get("traceur@0.0.72/src/codegeneration/PropertyNameShorthandTransformer").PropertyNameShorthandTransformer,w=System.get("traceur@0.0.72/src/codegeneration/InstantiateModuleTransformer").InstantiateModuleTransformer,_=System.get("traceur@0.0.72/src/codegeneration/RegularExpressionTransformer").RegularExpressionTransformer,T=System.get("traceur@0.0.72/src/codegeneration/RestParameterTransformer").RestParameterTransformer,E=System.get("traceur@0.0.72/src/codegeneration/SpreadTransformer").SpreadTransformer,C=System.get("traceur@0.0.72/src/codegeneration/SymbolTransformer").SymbolTransformer,x=System.get("traceur@0.0.72/src/codegeneration/TemplateLiteralTransformer").TemplateLiteralTransformer,R=System.get("traceur@0.0.72/src/codegeneration/TypeTransformer").TypeTransformer,A=System.get("traceur@0.0.72/src/codegeneration/TypeAssertionTransformer").TypeAssertionTransformer,O=System.get("traceur@0.0.72/src/codegeneration/TypeToExpressionTransformer").TypeToExpressionTransformer,j=System.get("traceur@0.0.72/src/codegeneration/UnicodeEscapeSequenceTransformer").UnicodeEscapeSequenceTransformer,k=System.get("traceur@0.0.72/src/codegeneration/UniqueIdentifierGenerator").UniqueIdentifierGenerator,P=System.get("traceur@0.0.72/src/Options"),I=P.options,L=P.transformOptions,N=function(y){var P=void 0!==arguments[1]?arguments[1]:new k,N=this;$traceurRuntime.superCall(this,D.prototype,"constructor",[y,I.validate]);var M=function(e){N.append(function(t){return new e(P,y).transformAny(t)})};if(L.blockBinding&&this.append(function(e){return c(e,y),e}),I.freeVariableChecker&&this.append(function(e){return p(e,y),e}),L.exponentiation&&M(a),L.numericLiterals&&M(v),L.unicodeExpressions&&M(_),L.templateLiterals&&M(x),I.types&&M(O),L.unicodeEscapeSequences&&M(j),L.annotations&&M(t),I.typeAssertions&&M(A),L.propertyNameShorthand&&M(S),L.modules)switch(L.modules){case"commonjs":M(s);break;case"amd":M(e);break;case"inline":M(m);break;case"instantiate":M(w);break;case"register":M(g);break;default:throw new Error("Invalid modules transform option")}L.arrowFunctions&&M(n),L.classes&&M(o),(L.propertyMethods||L.computedPropertyNames)&&M(b),L.generatorComprehension&&M(f),L.arrayComprehension&&M(r),L.forOf&&M(h),L.restParameters&&M(T),L.defaultParameters&&M(u),L.destructuring&&M(l),L.types&&M(R),L.spread&&M(E),L.blockBinding&&this.append(function(e){var t=new i(P,y,e);return t.transformAny(e)}),(L.generators||L.asyncFunctions)&&M(d),L.symbols&&M(C)},D=N;return $traceurRuntime.createClass(N,{},{},y),{get FromOptionsTransformer(){return N}}}),System.register("traceur@0.0.72/src/codegeneration/PureES6Transformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/AnnotationsTransformer").AnnotationsTransformer,t=System.get("traceur@0.0.72/src/semantics/FreeVariableChecker").validate,r=System.get("traceur@0.0.72/src/codegeneration/MultiTransformer").MultiTransformer,n=System.get("traceur@0.0.72/src/codegeneration/TypeTransformer").TypeTransformer,i=System.get("traceur@0.0.72/src/codegeneration/UniqueIdentifierGenerator").UniqueIdentifierGenerator,o=System.get("traceur@0.0.72/src/Options").options,s=function(r){var s=void 0!==arguments[1]?arguments[1]:new i,c=this;$traceurRuntime.superCall(this,a.prototype,"constructor",[r,o.validate]);var u=function(e){c.append(function(t){return new e(s,r).transformAny(t)})};o.freeVariableChecker&&this.append(function(e){return t(e,r),e}),u(e),u(n)},a=s;return $traceurRuntime.createClass(s,{},{},r),{get PureES6Transformer(){return s}}}),System.register("traceur@0.0.72/src/codegeneration/module/AttachModuleNameTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),r=t.Module,n=t.Script,i=function(e){this.moduleName_=e};return $traceurRuntime.createClass(i,{transformModule:function(e){return new r(e.location,e.scriptItemList,this.moduleName_)},transformScript:function(e){return new n(e.location,e.scriptItemList,this.moduleName_)}},{},e),{get AttachModuleNameTransformer(){return i}}}),System.register("traceur@0.0.72/src/Compiler",[],function(){"use strict";function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t]});var t=e.modules;"undefined"!=typeof t&&(r.modules=t)}),r}function t(e){if(!e)return null;var t=e.lastIndexOf("/");return 0>t?null:e.substring(0,t+1)}var r=System.get("traceur@0.0.72/src/codegeneration/module/AttachModuleNameTransformer").AttachModuleNameTransformer,n=System.get("traceur@0.0.72/src/codegeneration/FromOptionsTransformer").FromOptionsTransformer,i=System.get("traceur@0.0.72/src/syntax/Parser").Parser,o=System.get("traceur@0.0.72/src/codegeneration/PureES6Transformer").PureES6Transformer,s=System.get("traceur@0.0.72/src/syntax/SourceFile").SourceFile,a=System.get("traceur@0.0.72/src/util/CollectingErrorReporter").CollectingErrorReporter,c=System.get("traceur@0.0.72/src/Options"),u=c.Options,l=c.options,h=c.versionLockedOptions,p=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeMapWriter").ParseTreeMapWriter,f=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeWriter").ParseTreeWriter,d=System.get("traceur@0.0.72/src/outputgeneration/SourceMapIntegration").SourceMapGenerator,m=function(){var e=void 0!==arguments[0]?arguments[0]:{};this.options_=new u(this.defaultOptions()),this.options_.setFromObject(e),this.sourceMapGenerator_=null},g=m;return $traceurRuntime.createClass(m,{compile:function(e){var t=void 0!==arguments[1]?arguments[1]:"<compileSource>",r=void 0!==arguments[2]?arguments[2]:"<compileOutput>",n=arguments[3];t=this.normalize(t),r=this.normalize(r);var i=this.parse(e,t),o=this.options_.moduleName;return o&&"string"!=typeof o&&(o=t.replace(/\.js$/,"")),i=this.transform(i,o),this.write(i,r,n)},throwIfErrors:function(e){if(e.hadError())throw e.errors},parse:function(e){var t=void 0!==arguments[1]?arguments[1]:"<compiler-parse-input>";t=this.normalize(t),this.sourceMapGenerator_=null,l.setFromObject(this.options_);var r=new a,n=new s(t,e),o=new i(n,r),c=this.options_.script?o.parseScript():o.parseModule();return this.throwIfErrors(r),c},transform:function(e){var t,i=arguments[1];if(i){var t=new r(i);e=t.transformAny(e)}var s=new a;t="es6"===this.options_.outputLanguage.toLowerCase()?new o(s):new n(s);var c=t.transform(e);return this.throwIfErrors(s),c},createSourceMapGenerator_:function(e){var r=arguments[1];if(this.options_.sourceMaps){var r=r||t(e);return new d({file:e,sourceRoot:r})}},getSourceMap:function(){return this.sourceMapGenerator_?this.sourceMapGenerator_.toString():void 0},write:function(e){var t=arguments[1],r=arguments[2];t=this.normalize(t),r=this.normalize(r);var n;this.sourceMapGenerator_=this.createSourceMapGenerator_(t,r),n=this.sourceMapGenerator_?new p(this.sourceMapGenerator_,r,this.options_):new f(this.options_),n.visitAny(e);var i=n.toString(e);if(this.sourceMapGenerator_){var o=this.sourceMappingURL(t);i+="\n//# sourceMappingURL="+o+"\n"}return i},sourceName:function(e){return e},sourceMappingURL:function(e){return"inline"===this.options_.sourceMaps&&Reflect.global.btoa?"data:application/json;base64,"+btoa(unescape(encodeURIComponent(this.getSourceMap()))):e.split("/").pop().replace(/\.js$/,".map")},sourceNameFromTree:function(e){return e.location.start.source.name},defaultOptions:function(){return h},normalize:function(e){return e&&e.replace(/\\/g,"/")}},{script:function(e){var t=void 0!==arguments[1]?arguments[1]:{};return t=new u(t),t.script=!0,new g(t).compile(e)},module:function(e){var t=void 0!==arguments[1]?arguments[1]:{};return t=new u(t),t.modules="register",new g(t).compile(e)},amdOptions:function(){var t=void 0!==arguments[0]?arguments[0]:{},r={modules:"amd",sourceMaps:!1,moduleName:!1};return e(r,t)},commonJSOptions:function(){var t=void 0!==arguments[0]?arguments[0]:{},r={modules:"commonjs",sourceMaps:!1,moduleName:!1};return e(r,t)}}),{get Compiler(){return m}}}),System.register("traceur@0.0.72/src/codegeneration/module/ValidationVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/module/ModuleVisitor").ModuleVisitor,t=function(){$traceurRuntime.defaultSuperCall(this,r.prototype,arguments)},r=t;return $traceurRuntime.createClass(t,{checkExport_:function(e,t){var r=this.validatingModuleDescription_;if(r&&!r.getExport(t)){var n=r.normalizedName;this.reportError(e,"'"+t+"' is not exported by '"+n+"'")}},checkImport_:function(e,t){
var r=this.moduleSymbol.getImport(t);r?this.reportError(e,"'"+t+"' was previously imported at "+r.location.start):this.moduleSymbol.addImport(t,e)},visitAndValidate_:function(e,t){var r=this.validatingModuleDescription_;this.validatingModuleDescription_=e,this.visitAny(t),this.validatingModuleDescription_=r},visitNamedExport:function(e){if(e.moduleSpecifier){var t=e.moduleSpecifier.token.processedValue,r=this.getExportsListForModuleSpecifier(t);this.visitAndValidate_(r,e.specifierSet)}},visitExportSpecifier:function(e){this.checkExport_(e,e.lhs.value)},visitImportDeclaration:function(e){var t=e.moduleSpecifier.token.processedValue,r=this.getExportsListForModuleSpecifier(t);this.visitAndValidate_(r,e.importClause)},visitImportSpecifier:function(e){var t=e.binding.getStringValue(),r=e.name?e.name.value:t;this.checkImport_(e,t),this.checkExport_(e,r)},visitImportedBinding:function(e){var t=e.binding.getStringValue();this.checkImport_(e,t),this.checkExport_(e,"default")}},{},e),{get ValidationVisitor(){return t}}}),System.register("traceur@0.0.72/src/codegeneration/module/ExportListBuilder",[],function(){"use strict";function e(e,i,o){function s(t){for(var r=0;r<e.length;r++){var n=new t(o,i,e[r]);n.visitAny(e[r].tree)}}function a(t){for(var r=e.length-1;r>=0;r--){var n=new t(o,i,e[r]);n.visitAny(e[r].tree)}}n.modules&&(a(t),s(r))}var t=System.get("traceur@0.0.72/src/codegeneration/module/ExportVisitor").ExportVisitor,r=System.get("traceur@0.0.72/src/codegeneration/module/ValidationVisitor").ValidationVisitor,n=System.get("traceur@0.0.72/src/Options").transformOptions;return{get buildExportList(){return e}}}),System.register("traceur@0.0.72/src/codegeneration/module/ModuleSpecifierVisitor",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/syntax/ParseTreeVisitor").ParseTreeVisitor,t=System.get("traceur@0.0.72/src/Options").options,r=function(){$traceurRuntime.superCall(this,n.prototype,"constructor",[]),this.moduleSpecifiers_=Object.create(null)},n=r;return $traceurRuntime.createClass(r,{get moduleSpecifiers(){return Object.keys(this.moduleSpecifiers_)},visitModuleSpecifier:function(e){this.moduleSpecifiers_[e.token.processedValue]=!0},visitVariableDeclaration:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitVariableDeclaration",[e])},visitFormalParameter:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitFormalParameter",[e])},visitGetAccessor:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitGetAccessor",[e])},visitPropertyMethodAssignment:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitPropertyMethodAssignment",[e])},visitFunctionDeclaration:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitFunctionDeclaration",[e])},visitFunctionExpression:function(e){return this.addTypeAssertionDependency_(e.typeAnnotation),$traceurRuntime.superCall(this,n.prototype,"visitFunctionExpression",[e])},addTypeAssertionDependency_:function(e){null!==e&&null!==t.typeAssertionModule&&(this.moduleSpecifiers_[t.typeAssertionModule]=!0)}},{},e),{get ModuleSpecifierVisitor(){return r}}}),System.register("traceur@0.0.72/src/runtime/system-map",[],function(){"use strict";function e(e,t){var r=t.split("/"),n=e.split("/");if(r.length>n.length)return 0;for(var i=0;i<r.length;i++)if(n[i]!=r[i])return 0;return r.length}function t(t,r,n){var i,o,s=0,a=0;if(n){var c;Object.getOwnPropertyNames(t).some(function(u){var l=t[u];if(l&&"object"==typeof l){if(e(n,u)<=a)return;Object.getOwnPropertyNames(l).forEach(function(t){e(r,t)>s&&(i=t,s=t.split("/").length,o=u,a=u.split("/").length)})}if(i){var h=r.split("/").splice(s).join("/");return c=t[o][i]+(h?"/"+h:"")}})}if(c)return c;if(Object.getOwnPropertyNames(t).forEach(function(n){var o=t[n];o&&"string"==typeof o&&e(r,n)>s&&(i=n,s=n.split("/").length)}),!i)return r;var u=r.split("/").splice(s).join("/");return t[i]+(u?"/"+u:"")}var r={applyMap:t};return{get systemjs(){return r}}}),System.register("traceur@0.0.72/src/util/url",[],function(){"use strict";var e=$traceurRuntime.canonicalizeUrl,t=$traceurRuntime.isAbsolute,r=$traceurRuntime.removeDotSegments,n=$traceurRuntime.resolveUrl;return{get canonicalizeUrl(){return e},get isAbsolute(){return t},get removeDotSegments(){return r},get resolveUrl(){return n}}}),System.register("traceur@0.0.72/src/runtime/LoaderCompiler",[],function(){"use strict";var e=(System.get("traceur@0.0.72/src/codegeneration/module/AttachModuleNameTransformer").AttachModuleNameTransformer,System.get("traceur@0.0.72/src/codegeneration/FromOptionsTransformer").FromOptionsTransformer,System.get("traceur@0.0.72/src/codegeneration/module/ExportListBuilder").buildExportList),t=System.get("traceur@0.0.72/src/util/CollectingErrorReporter").CollectingErrorReporter,r=System.get("traceur@0.0.72/src/Compiler").Compiler,n=System.get("traceur@0.0.72/src/codegeneration/module/ModuleSpecifierVisitor").ModuleSpecifierVisitor,i=System.get("traceur@0.0.72/src/codegeneration/module/ModuleSymbol").ModuleSymbol,o=(System.get("traceur@0.0.72/src/syntax/Parser").Parser,System.get("traceur@0.0.72/src/Options").options,System.get("traceur@0.0.72/src/syntax/SourceFile").SourceFile,System.get("traceur@0.0.72/src/runtime/system-map").systemjs,System.get("traceur@0.0.72/src/outputgeneration/toSource").toSource,System.get("traceur@0.0.72/src/codegeneration/UniqueIdentifierGenerator").UniqueIdentifierGenerator),s=System.get("traceur@0.0.72/src/util/url"),a=(s.isAbsolute,s.resolveUrl,System.get("traceur@0.0.72/src/util/assert").assert),c=3,u=(new o,0),l=function(){};return $traceurRuntime.createClass(l,{getModuleSpecifiers:function(e){this.parse(e),e.state=c;var t=new n;return t.visit(e.metadata.tree),t.moduleSpecifiers},parse:function(e){a(!e.metadata.tree);var t=e.metadata,n=t.traceurOptions;"script"===e.type&&(n.script=!0),t.compiler=new r(n);var i=e.metadata.sourceName=e.address||String(++u);t.tree=t.compiler.parse(e.source,i)},transform:function(e){var t=e.metadata;t.transformedTree=t.compiler.transform(t.tree,e.normalizedName)},write:function(e){var t=e.metadata,r=t.outputName||"<loaderOutput>";t.sourceRoot;t.transcoded=t.compiler.write(t.transformedTree,r),t.sourceMap=t.compiler.getSourceMap(),e.address&&t.transcoded&&(t.transcoded+="//# sourceURL="+e.address)},evaluateCodeUnit:function(e){var t=("global",eval)(e.metadata.transcoded);return e.metadata.transformedTree=null,t},analyzeDependencies:function(t,r){for(var n=[],o=0;o<t.length;o++){var s=t[o];if(a(s.state>=c),s.state==c){var u=s.metadata.moduleSymbol=new i(s.metadata.tree,s.normalizedName);n.push(u)}}this.checkForErrors(function(t){return e(n,r,t)})},checkForErrors:function(e){var r=new t,n=e(r);if(r.hadError())throw r.toError();return n}},{}),{get LoaderCompiler(){return l}}}),System.register("traceur@0.0.72/src/runtime/InternalLoader",[],function(){"use strict";function e(e){var t=[];return e.forEach(function(e){t.push(e)}),t}var t=System.get("traceur@0.0.72/src/util/assert").assert,r=System.get("traceur@0.0.72/src/runtime/LoaderCompiler").LoaderCompiler,n=System.get("traceur@0.0.72/src/codegeneration/module/ModuleSymbol").ExportsList,i=System.get("traceur@0.0.72/src/runtime/polyfills/Map").Map,o=System.get("traceur@0.0.72/src/util/url"),s=o.isAbsolute,a=(o.resolveUrl,System.get("traceur@0.0.72/src/Options").Options),c=0,u=1,l=2,h=3,p=4,f=5,d=6,m=7,g=function(e,t){this.message=e,this.tree=t,this.name="LoaderError"};$traceurRuntime.createClass(g,{},{},Error);var y=function(e,t,r,n,i,o,s){var a=this;this.promise=new Promise(function(u,l){a.loaderCompiler=e,a.normalizedName=t,a.type=r,a.name_=i,a.referrerName_=o,a.address=s,a.state_=n||c,a.error=null,a.result=null,a.metadata_={},a.dependencies=[],a.resolve=u,a.reject=l})};$traceurRuntime.createClass(y,{get state(){return this.state_},set state(e){if(e<this.state_)throw new Error("Invalid state change");this.state_=e},get metadata(){return this.metadata_},set metadata(e){t(e),this.metadata_=e},nameTrace:function(){var e=this.specifiedAs();return s(this.name_)?e+"An absolute name.\n":this.referrerName_?e+this.importedBy()+this.normalizesTo():e+this.normalizesTo()},specifiedAs:function(){return"Specified as "+this.name_+".\n"},importedBy:function(){return"Imported by "+this.referrerName_+".\n"},normalizesTo:function(){return"Normalizes to "+this.normalizedName+"\n"}},{});var v=function(e,t,r,n,i,o){$traceurRuntime.superCall(this,b.prototype,"constructor",[e,t,"module",d,r,n,i]),this.result=o,this.resolve(this.result)},b=v;$traceurRuntime.createClass(v,{},{},y);var S=function(e,t,r,n,i,o,s){$traceurRuntime.superCall(this,w.prototype,"constructor",[e,t,"module",f,r,n,i]),this.deps=o,this.execute=s},w=S;$traceurRuntime.createClass(S,{getModuleSpecifiers:function(){return this.deps},evaluate:function(){var e=this,t=this.deps.map(function(t){return e.loader_.normalize(t)}),r=this.execute.apply(Reflect.global,t);return System.set(this.normalizedName,r),r}},{},y);var _=function(){$traceurRuntime.defaultSuperCall(this,T.prototype,arguments)},T=_;$traceurRuntime.createClass(_,{getModuleSpecifiers:function(){return this.loaderCompiler.getModuleSpecifiers(this)},evaluate:function(){return this.loaderCompiler.evaluateCodeUnit(this)}},{},y);var E=function(e,t,r,n,i){$traceurRuntime.superCall(this,C.prototype,"constructor",[e,t,"module",c,r,n,i])},C=E;$traceurRuntime.createClass(E,{},{},_);var x=function(e,t){var r=void 0!==arguments[2]?arguments[2]:"script",n=arguments[3],i=arguments[4],o=arguments[5];$traceurRuntime.superCall(this,R.prototype,"constructor",[e,n,r,l,null,i,o]),this.source=t},R=x;$traceurRuntime.createClass(x,{},{},_);var A=function(e,r){t(r),this.loader_=e,this.loaderCompiler=r,this.cache=new i,this.urlToKey=Object.create(null),this.sync_=!1};$traceurRuntime.createClass(A,{defaultMetadata_:function(){var e=void 0!==arguments[0]?arguments[0]:{};return e.traceurOptions=e.traceurOptions||new a,e},defaultModuleMetadata_:function(){var e=void 0!==arguments[0]?arguments[0]:{},e=this.defaultMetadata_(e);return e.traceurOptions.script=!1,e},load:function(e){var t=void 0!==arguments[1]?arguments[1]:this.loader_.baseURL,r=arguments[2],n=void 0!==arguments[3]?arguments[3]:{};n=this.defaultMetadata_(n);var i=this.getOrCreateCodeUnit_(e,t,r,n);return this.load_(i),i.promise.then(function(){return i})},load_:function(e){var t=this;if(e.state===m)return e;if(e.state===f)this.handleCodeUnitLoaded(e);else{if(e.state!==c)return e;e.state=u,e.address=this.loader_.locate(e),this.loader_.fetch(e).then(function(t){return e.source=t,e}).then(function(e){return t.loader_.translate(e)}).then(function(r){return e.source=r,e.state=l,t.handleCodeUnitLoaded(e),e})["catch"](function(r){try{e.state=m,e.error=r,t.handleCodeUnitLoadError(e)}catch(n){console.error("Internal Error "+(n.stack||n))}})}return e},module:function(e,t,r,n){var i=new x(this.loaderCompiler,e,"module",null,t,r);return i.metadata=this.defaultMetadata_(n),this.cache.set({},i),this.handleCodeUnitLoaded(i),i.promise},define:function(e,t,r,n){var i=new x(this.loaderCompiler,t,"module",e,null,r),o=this.getKey(e,"module");return i.metadata=this.defaultMetadata_(n),this.cache.set(o,i),this.handleCodeUnitLoaded(i),i.promise},script:function(e,t,r,n,i){var o=System.normalize(t||"",r,n),s=new x(this.loaderCompiler,e,"script",o,r,n),a={};return t&&(a=this.getKey(o,"script")),s.metadata=this.defaultMetadata_(i),this.cache.set(a,s),this.handleCodeUnitLoaded(s),s.promise},sourceMapInfo:function(e,t){var r=this.getKey(e,t),n=this.cache.get(r),i=n&&n.metadata;return{sourceMap:i.sourceMap,sourceName:i.sourceName}},getKey:function(e,t){var r=t+":"+e;return r in this.urlToKey?this.urlToKey[r]:this.urlToKey[r]={}},getCodeUnit_:function(e,t){var r=this.getKey(e,t),n=this.cache.get(r);return{key:r,codeUnit:n}},getOrCreateCodeUnit_:function(e,r,n,i){var o=System.normalize(e,r,n),s="module";i&&i.traceurOptions&&i.traceurOptions.script&&(s="script");var a=this.getCodeUnit_(o,s),c=a.key,u=a.codeUnit;if(!u){t(i&&i.traceurOptions);var l=this.loader_.get(o);if(l)u=new v(this.loaderCompiler,o,e,r,n,l),u.type="module";else{var h=this.loader_.bundledModule(e);h?u=new S(this.loaderCompiler,o,e,r,n,h.deps,h.execute):(u=new E(this.loaderCompiler,o,e,r,n),u.type=s)}u.metadata={traceurOptions:i.traceurOptions},this.cache.set(c,u)}return u},areAll:function(t){return e(this.cache).every(function(e){return e.state>=t})},getCodeUnitForModuleSpecifier:function(e,t){var r=this.loader_.normalize(e,t);return this.getCodeUnit_(r,"module").codeUnit},getExportsListForModuleSpecifier:function(e,t){var r=this.getCodeUnitForModuleSpecifier(e,t),i=r.metadata.moduleSymbol;if(!i){if(!r.result)throw new Error("InternalError: "+e+" is not a module, required by "+t);i=new n(r.normalizedName),i.addExportsFromModule(r.result)}return i},handleCodeUnitLoaded:function(e){var t=this,r=e.normalizedName;try{var n=e.getModuleSpecifiers();if(!n)return void this.abortAll("No module specifiers in "+r);e.dependencies=n.sort().map(function(n){return t.getOrCreateCodeUnit_(n,r,null,t.defaultModuleMetadata_(e.metadata))})}catch(i){return void this.rejectOneAndAll(e,i)}if(e.dependencies.forEach(function(e){t.load_(e)}),this.areAll(h))try{this.analyze(),this.transform(),this.evaluate()}catch(i){this.rejectOneAndAll(e,i)}},rejectOneAndAll:function(e,t){e.state.ERROR,e.error=t,e.reject(t),this.abortAll(t)},handleCodeUnitLoadError:function(e){var t=e.error?String(e.error)+"\n":"Failed to load '"+e.address+"'.\n";t+=e.nameTrace()+this.loader_.nameTrace(e),this.rejectOneAndAll(e,new Error(t))},abortAll:function(e){this.cache.forEach(function(t){t.state!==m&&t.reject(e)})},analyze:function(){this.loaderCompiler.analyzeDependencies(e(this.cache),this)},transform:function(){this.transformDependencies_(e(this.cache))},transformDependencies_:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!(n.state>=f)){if(n.state===p){var i=n.normalizedName,o=t;return void this.rejectOneAndAll(n,new Error("Unsupported circular dependency between "+i+" and "+o))}n.state=p;try{this.transformCodeUnit_(n)}catch(s){return void this.rejectOneAndAll(n,s)}}}},transformCodeUnit_:function(e){this.transformDependencies_(e.dependencies,e.normalizedName),e.state!==m&&(this.loaderCompiler.transform(e),e.state=f,this.loaderCompiler.write(e),this.loader_.instantiate(e))},orderDependencies:function(){function e(n){t.has(n)||(t.set(n,!0),n.dependencies.forEach(e),r.push(n))}var t=new i,r=[];return this.cache.forEach(e),r},evaluate:function(){for(var e=this.orderDependencies(),t=0;t<e.length;t++){var r=e[t];if(!(r.state>=d)){var n;try{n=r.evaluate()}catch(i){return void this.rejectOneAndAll(r,i)}r.result=n,r.source=null}}for(var t=0;t<e.length;t++){var r=e[t];r.state>=d||(r.state=d,r.resolve(r.result))}}},{});var O={CodeUnit:y,EvalCodeUnit:x,LoadCodeUnit:E,LoaderCompiler:r};return{get InternalLoader(){return A},get internals(){return O}}}),System.register("traceur@0.0.72/src/runtime/Loader",[],function(){"use strict";function e(){throw new Error("Unimplemented Loader function, see extended class")}var t=System.get("traceur@0.0.72/src/runtime/InternalLoader").InternalLoader,r=function(e){this.internalLoader_=new t(this,e),this.loaderCompiler_=e};return $traceurRuntime.createClass(r,{"import":function(e){var t=void 0!==arguments[1]?arguments[1]:{},r=t.referrerName,n=t.address,i=t.metadata,o=this;return this.internalLoader_.load(e,r,n,i).then(function(e){return o.get(e.normalizedName)})},module:function(e){var t=void 0!==arguments[1]?arguments[1]:{},r=t.referrerName,n=t.address,i=t.metadata;return this.internalLoader_.module(e,r,n,i)},define:function(e,t){var r=void 0!==arguments[2]?arguments[2]:{},n=r.address,i=r.metadata,i=r.metadata;return this.internalLoader_.define(e,t,n,i)},get:function(t){e()},set:function(t,r){e()},normalize:function(t,r,n){e()},locate:function(t){e()},fetch:function(t){e()},translate:function(t){e()},instantiate:function(t){e()}},{}),{get Loader(){return r},get LoaderCompiler(){return LoaderCompiler}}}),System.register("traceur@0.0.72/src/runtime/TraceurLoader",[],function(){"use strict";var e="traceur@0.0.72/src/runtime/TraceurLoader",t=System.get("traceur@0.0.72/src/util/url"),r=t.isAbsolute,n=t.resolveUrl,i=System.get("traceur@0.0.72/src/runtime/Loader").Loader,o=System.get("traceur@0.0.72/src/runtime/LoaderCompiler").LoaderCompiler,s=System.get("traceur@0.0.72/src/runtime/system-map").systemjs,a=e.slice(0,e.indexOf("/")),c=0,u=function(e,t){var r=void 0!==arguments[2]?arguments[2]:new o;$traceurRuntime.superCall(this,l.prototype,"constructor",[r]),this.fileLoader_=e,this.baseURL_=t&&String(t),this.moduleStore_=$traceurRuntime.ModuleStore},l=u;return $traceurRuntime.createClass(u,{get baseURL(){return this.baseURL_},set baseURL(e){this.baseURL_=String(e)},get:function(e){return this.moduleStore_.get(e)},set:function(e,t){this.moduleStore_.set(e,t)},normalize:function(e,t,r){var n=this.moduleStore_.normalize(e,t,r);return"undefined"!=typeof s&&System.map?s.applyMap(System.map,n,t):n},locate:function(e){var t=e.normalizedName;e.metadata.traceurOptions=e.metadata.traceurOptions||{};var i,o=e.metadata.traceurOptions;i=o&&o.script?t:t+".js";var s=e.metadata&&e.metadata.baseURL;s=s||this.baseURL;var a=o&&o.referrer;if(a){for(var c=Math.min(a.length,s.length),u=0,l=0;c>l;l++){var h=a[a.length-1-l];if(h!==s[s.length-1-l])break;u++}if(u){var p=a.slice(0,-u),f=s.slice(0,-u);0===i.indexOf(p)&&(i=i.replace(p,f))}}return r(i)||s&&(e.metadata.baseURL=s,i=n(s,i)),i},sourceName:function(e){var t=e.metadata.traceurOptions,r=e.address;if(t.sourceMaps){var n=this.baseURL;r?n&&0===r.indexOf(n)&&(r=r.substring(n.length)):r=this.baseURL+String(c++)}return e.metadata.sourceRoot=this.baseURL,r},nameTrace:function(e){var t="";e.metadata.locateMap&&(t+=this.locateMapTrace(e));var r=e.metadata.baseURL||this.baseURL;return t+=r?this.baseURLTrace(r):"No baseURL\n"},locateMapTrace:function(e){var t=e.metadata.locateMap;return"locate found '"+t.pattern+"' -> '"+t.replacement+"'\n"},baseURLTrace:function(e){return"locate resolved against base '"+e+"'\n"},fetch:function(e){var t=this;return new Promise(function(r,n){e?e.address&&"string"==typeof e.address?t.fileLoader_.load(e.address,r,n):n(new TypeError("fetch({address}) missing required string.")):n(new TypeError("fetch requires argument object"))})},translate:function(e){return e.source},instantiate:function(e){var t=e;t.name,t.metadata,t.address,t.source,t.sourceMap;return new Promise(function(e,t){e(void 0)})},bundledModule:function(e){return this.moduleStore_.bundleStore[e]},importAll:function(e){var t=void 0!==arguments[1]?arguments[1]:{},r=t.referrerName,n=t.address,i=t.metadata,o=this;return Promise.all(e.map(function(e){return o["import"](e,{referrerName:r,address:n,metadata:i})}))},loadAsScript:function(e){var t,r=void 0!==arguments[1]?arguments[1]:{},n=r.referrerName,i=r.address,o=void 0===(t=r.metadata)?{}:t;return o.traceurOptions=o.traceurOptions||{},o.traceurOptions.script=!0,this.internalLoader_.load(e,n,i,o).then(function(e){return e.result})},loadAsScriptAll:function(e){var t=void 0!==arguments[1]?arguments[1]:{},r=t.referrerName,n=t.address,i=t.metadata,o=this;return Promise.all(e.map(function(e){return o.loadAsScript(e,{referrerName:r,address:n,metadata:i})}))},script:function(e){var t=void 0!==arguments[1]?arguments[1]:{},r=t.name,n=t.referrerName,i=t.address,o=t.metadata;return this.internalLoader_.script(e,r,n,i,o)},semVerRegExp_:function(){return/^(\d+)\.(\d+)\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?(?:\+[0-9A-Za-z-]+)?$/},semverMap:function(e){var t=e.indexOf("/"),r=e.slice(0,t),n=r.indexOf("@");if(-1!==n){var i=r.slice(n+1),o=this.semVerRegExp_().exec(i);if(o){var s=o[1],a=o[2],c=r.slice(0,n),u=Object.create(null);u[c]=r,u[c+"@"+s]=r,u[c+"@"+s+"."+a]=r}}return u},get version(){return a},sourceMapInfo:function(e,t){return this.internalLoader_.sourceMapInfo(e,t)},register:function(e,t,r){$traceurRuntime.ModuleStore.register(e,t,r)}},{},i),{get TraceurLoader(){return u}}}),System.register("traceur@0.0.72/src/runtime/webLoader",[],function(){"use strict";var e={load:function(e,t,r){var n=new XMLHttpRequest;return n.onload=function(){if(200==n.status||0==n.status)t(n.responseText);else{var i;i=404===n.status?"File not found '"+e+"'":n.status+n.statusText,r(i)}n=null},n.onerror=function(e){r(e)},n.open("GET",e,!0),n.send(),function(){n&&n.abort()}}};return{get webLoader(){return e}}}),System.register("traceur@0.0.72/src/WebPageTranscoder",[],function(){"use strict";var e=(System.get("traceur@0.0.72/src/runtime/Loader").Loader,System.get("traceur@0.0.72/src/runtime/TraceurLoader").TraceurLoader),t=System.get("traceur@0.0.72/src/util/ErrorReporter").ErrorReporter,r=System.get("traceur@0.0.72/src/runtime/webLoader").webLoader,n=function(e){this.url=e,this.numPending_=0,this.numberInlined_=0};return $traceurRuntime.createClass(n,{asyncLoad_:function(e,t,n){var i=this;this.numPending_++,r.load(e,function(r){r?t(r):console.warn("Failed to load",e),--i.numPending_<=0&&n()},function(t){console.error("WebPageTranscoder FAILED to load "+e,t.stack||t)})},addFileFromScriptElement:function(e,t,r){var n,i=traceur.options,o={address:t,referrerName:window.location.href,name:t,metadata:{traceurOptions:i}};n="module"===e.type?this.loader.module(r,o):this.loader.script(r,o),n["catch"](function(e){console.error(e.stack||e)})},nextInlineScriptName_:function(){if(this.numberInlined_+=1,!this.inlineScriptNameBase_){var e=this.url.split(".");e.pop(),this.inlineScriptNameBase_=e.join(".")}return this.inlineScriptNameBase_+"_"+this.numberInlined_+".js"},addFilesFromScriptElements:function(e,t){for(var r=0,n=e.length;n>r;r++){var i=e[r];if(i.src){var o=i.src;this.asyncLoad_(o,this.addFileFromScriptElement.bind(this,i,o),t)}else{var o=this.nextInlineScriptName_(),s=i.textContent;this.addFileFromScriptElement(i,o,s)}}this.numPending_<=0&&t()},get reporter(){return this.reporter_||(this.reporter_=new t),this.reporter_},get loader(){return this.loader_||(this.loader_=new e(r,this.url)),this.loader_},putFile:function(e){var t=document.createElement("script");t.setAttribute("data-traceur-src-url",e.name),t.textContent=e.generatedSource;var r=e.scriptElement.parentNode;r.insertBefore(t,e.scriptElement||null)},selectAndProcessScripts:function(e){var t='script[type="module"],script[type="text/traceur"]',r=document.querySelectorAll(t);return r.length?void this.addFilesFromScriptElements(r,function(){e()}):void e()},run:function(){var e=void 0!==arguments[0]?arguments[0]:function(){},t=this,r=document.readyState;"complete"===r||"loaded"===r?this.selectAndProcessScripts(e):document.addEventListener("DOMContentLoaded",function(){return t.selectAndProcessScripts(e)},!1)}},{}),{get WebPageTranscoder(){return n}}}),System.register("traceur@0.0.72/src/codegeneration/CloneTreeTransformer",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/codegeneration/ParseTreeTransformer").ParseTreeTransformer,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees"),r=t.BindingIdentifier,n=t.BreakStatement,i=t.ContinueStatement,o=t.DebuggerStatement,s=t.EmptyStatement,a=t.ExportSpecifier,c=t.ExportStar,u=t.IdentifierExpression,l=t.LiteralExpression,h=t.ModuleSpecifier,p=t.PredefinedType,f=t.PropertyNameShorthand,d=t.TemplateLiteralPortion,m=t.SuperExpression,g=t.ThisExpression,y=function(){$traceurRuntime.defaultSuperCall(this,v.prototype,arguments)},v=y;return $traceurRuntime.createClass(y,{transformBindingIdentifier:function(e){return new r(e.location,e.identifierToken)},transformBreakStatement:function(e){return new n(e.location,e.name)},transformContinueStatement:function(e){return new i(e.location,e.name)},transformDebuggerStatement:function(e){return new o(e.location)},transformEmptyStatement:function(e){return new s(e.location)},transformExportSpecifier:function(e){return new a(e.location,e.lhs,e.rhs)},transformExportStar:function(e){return new c(e.location)},transformIdentifierExpression:function(e){return new u(e.location,e.identifierToken)},transformList:function(e){return e?0==e.length?[]:$traceurRuntime.superCall(this,v.prototype,"transformList",[e]):null},transformLiteralExpression:function(e){return new l(e.location,e.literalToken)},transformModuleSpecifier:function(e){return new h(e.location,e.token)},transformPredefinedType:function(e){return new p(e.location,e.typeToken)},transformPropertyNameShorthand:function(e){return new f(e.location,e.name)},transformTemplateLiteralPortion:function(e){return new d(e.location,e.value)},transformSuperExpression:function(e){return new m(e.location)},transformThisExpression:function(e){return new g(e.location)}},{},e),y.cloneTree=function(e){return(new y).transformAny(e)},{get CloneTreeTransformer(){return y}}}),System.register("traceur@0.0.72/src/codegeneration/module/createModuleEvaluationStatement",[],function(){"use strict";function e(e){return r(t,e)}var t=Object.freeze(Object.defineProperties(["System.get("," +'')"],{raw:{value:Object.freeze(["System.get("," +'')"])}})),r=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser").parseStatement;return{get createModuleEvaluationStatement(){return e}}}),System.register("traceur@0.0.72/src/runtime/InlineLoaderCompiler",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/runtime/LoaderCompiler").LoaderCompiler,t=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").Script,r=function(e){$traceurRuntime.superCall(this,n.prototype,"constructor",[]),this.elements=e},n=r;return $traceurRuntime.createClass(r,{evaluateCodeUnit:function(e){var t,r=e.metadata.transformedTree;(t=this.elements).push.apply(t,$traceurRuntime.spread(r.scriptItemList))},toTree:function(){return new t(null,this.elements)}},{},e),{get InlineLoaderCompiler(){return r}}}),System.register("traceur@0.0.72/src/runtime/System",[],function(){"use strict";var e,t,r="traceur@0.0.72/src/runtime/System",n=(System.get("traceur@0.0.72/src/util/ErrorReporter").ErrorReporter,System.get("traceur@0.0.72/src/runtime/TraceurLoader").TraceurLoader),i=(System.get("traceur@0.0.72/src/runtime/LoaderCompiler").LoaderCompiler,System.get("traceur@0.0.72/src/runtime/webLoader").webLoader);"undefined"!=typeof window&&window.location&&(e=window.location.href,t=i);var o=new n(t,e);return Reflect.global.System=o,o.map=o.semverMap(r),{get System(){return o}}}),System.register("traceur@0.0.72/src/util/MutedErrorReporter",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/util/ErrorReporter").ErrorReporter,t=function(){$traceurRuntime.defaultSuperCall(this,r.prototype,arguments)},r=t;return $traceurRuntime.createClass(t,{reportMessageInternal:function(e,t,r){}},{},e),{get MutedErrorReporter(){return t}}}),System.register("traceur@0.0.72/src/traceur",[],function(){"use strict";function e(e){return l.get(l.normalize("./"+e,t))}var t="traceur@0.0.72/src/traceur",r=System.get("traceur@0.0.72/src/runtime/System");System.get("traceur@0.0.72/src/util/MutedErrorReporter");var n=System.get("@traceur/src/runtime/ModuleStore"),i=System.get("traceur@0.0.72/src/WebPageTranscoder"),o=System.get("traceur@0.0.72/src/Options"),s=System.get("traceur@0.0.72/src/Options"),a=s.addOptions,c=s.CommandOptions,u=s.Options,l=System.get("@traceur/src/runtime/ModuleStore").ModuleStore,h=System.get("traceur@0.0.72/src/Compiler"),p=System.get("traceur@0.0.72/src/util/ErrorReporter").ErrorReporter,f=System.get("traceur@0.0.72/src/util/CollectingErrorReporter").CollectingErrorReporter,d={addOptions:a,CommandOptions:c,CollectingErrorReporter:f,ErrorReporter:p,Options:u},m=System.get("traceur@0.0.72/src/syntax/Parser").Parser,g=System.get("traceur@0.0.72/src/syntax/Scanner").Scanner,y=System.get("traceur@0.0.72/src/syntax/trees/ParseTrees").Script,v=System.get("traceur@0.0.72/src/syntax/SourceFile").SourceFile,b={Parser:m,Scanner:g,SourceFile:v,trees:{Script:y}},S=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeMapWriter").ParseTreeMapWriter,w=System.get("traceur@0.0.72/src/outputgeneration/ParseTreeWriter").ParseTreeWriter,_=System.get("traceur@0.0.72/src/outputgeneration/regexpuRewritePattern").regexpuRewritePattern,T=System.get("traceur@0.0.72/src/outputgeneration/SourceMapIntegration").SourceMapConsumer,E=System.get("traceur@0.0.72/src/outputgeneration/SourceMapIntegration").SourceMapGenerator,C=System.get("traceur@0.0.72/src/outputgeneration/TreeWriter").TreeWriter,x={ParseTreeMapWriter:S,ParseTreeWriter:w,regexpuRewritePattern:_,SourceMapConsumer:T,SourceMapGenerator:E,TreeWriter:C},R=System.get("traceur@0.0.72/src/codegeneration/module/AttachModuleNameTransformer").AttachModuleNameTransformer,A=System.get("traceur@0.0.72/src/codegeneration/CloneTreeTransformer").CloneTreeTransformer,O=System.get("traceur@0.0.72/src/codegeneration/FromOptionsTransformer").FromOptionsTransformer,j=System.get("traceur@0.0.72/src/codegeneration/PureES6Transformer").PureES6Transformer,k=System.get("traceur@0.0.72/src/codegeneration/module/createModuleEvaluationStatement").createModuleEvaluationStatement,P=System.get("traceur@0.0.72/src/codegeneration/PlaceholderParser"),I=P.parseExpression,L=P.parseModule,N=P.parseScript,D=P.parseStatement,M={CloneTreeTransformer:A,FromOptionsTransformer:O,PureES6Transformer:j,parseExpression:I,parseModule:L,parseScript:N,parseStatement:D,module:{AttachModuleNameTransformer:R,createModuleEvaluationStatement:k}},F=System.get("traceur@0.0.72/src/runtime/Loader").Loader,B=System.get("traceur@0.0.72/src/runtime/LoaderCompiler").LoaderCompiler,H=System.get("traceur@0.0.72/src/runtime/InlineLoaderCompiler").InlineLoaderCompiler,$=System.get("traceur@0.0.72/src/runtime/TraceurLoader").TraceurLoader,V={InlineLoaderCompiler:H,Loader:F,LoaderCompiler:B,TraceurLoader:$};return{get System(){return r.System},get ModuleStore(){return n.ModuleStore},get WebPageTranscoder(){return i.WebPageTranscoder},get options(){return o.options},get get(){return e},get Compiler(){return h.Compiler},get util(){return d},get syntax(){return b},get outputgeneration(){return x},get codegeneration(){return M},get runtime(){return V}}}),System.register("traceur@0.0.72/src/traceur-import",[],function(){"use strict";var e=System.get("traceur@0.0.72/src/traceur");return Reflect.global.traceur=e,$traceurRuntime.ModuleStore.set("traceur@",e),{}}),System.get("traceur@0.0.72/src/traceur-import"),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var e;return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return i(r?r:t)},u,u.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t){var r=e("../lib/decorators/unhandledRejection"),n=r(e("../lib/Promise"));t.exports="undefined"!=typeof global?global.Promise=n:"undefined"!=typeof self?self.Promise=n:n},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":6}],2:[function(t,r){!function(e){"use strict";e(function(e){var t=e("./makePromise"),r=e("./Scheduler"),n=e("./async");return t({scheduler:new r(n)})})}("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"./Scheduler":4,"./async":5,"./makePromise":7}],3:[function(t,r){!function(e){"use strict";e(function(){function e(e){this.head=this.tail=this.length=0,this.buffer=new Array(1<<e)}return e.prototype.push=function(e){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=e,this.tail=this.tail+1&this.buffer.length-1,
++this.length,this.length},e.prototype.shift=function(){var e=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,e},e.prototype._ensureCapacity=function(e){var t,r=this.head,n=this.buffer,i=new Array(e),o=0;if(0===r)for(t=this.length;t>o;++o)i[o]=n[o];else{for(e=n.length,t=this.tail;e>r;++o,++r)i[o]=n[r];for(r=0;t>r;++o,++r)i[o]=n[r]}this.buffer=i,this.head=0,this.tail=this.length},e})}("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],4:[function(t,r){!function(e){"use strict";e(function(e){function t(e){this._async=e,this._queue=new n(15),this._afterQueue=new n(5),this._running=!1;var t=this;this.drain=function(){t._drain()}}function r(e){for(;e.length>0;)e.shift().run()}var n=e("./Queue");return t.prototype.enqueue=function(e){this._add(this._queue,e)},t.prototype.afterQueue=function(e){this._add(this._afterQueue,e)},t.prototype._drain=function(){r(this._queue),this._running=!1,r(this._afterQueue)},t.prototype._add=function(e,t){e.push(t),this._running||(this._running=!0,this._async(this.drain))},t})}("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"./Queue":3}],5:[function(t,r){!function(e){"use strict";e(function(e){var t,r;return t="undefined"!=typeof process&&null!==process&&"function"==typeof process.nextTick?function(e){process.nextTick(e)}:(r="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(e,t){function r(){var e=n;n=void 0,e()}var n,i=e.createElement("div"),o=new t(r);return o.observe(i,{attributes:!0}),function(e){n=e,i.setAttribute("class","x")}}(document,r):function(e){var t;try{t=e("vertx")}catch(r){}if(t){if("function"==typeof t.runOnLoop)return t.runOnLoop;if("function"==typeof t.runOnContext)return t.runOnContext}var n=setTimeout;return function(e){n(e,0)}}(e)})}("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{}],6:[function(t,r){!function(e){"use strict";e(function(e){function t(e){var t="object"==typeof e&&e.stack?e.stack:r(e);return e instanceof Error?t:t+" (WARNING: non-Error used)"}function r(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(e){return t}}function i(e){throw e}function o(){}var s=e("../timer");return function(e){function n(e){e.handled||(f.push(e),l("Potentially unhandled rejection ["+e.id+"] "+t(e.value)))}function a(e){var t=f.indexOf(e);t>=0&&(f.splice(t,1),h("Handled previous rejection ["+e.id+"] "+r(e.value)))}function c(e,t){p.push(e,t),d||(d=!0,d=s.set(u,0))}function u(){for(d=!1;p.length>0;)p.shift()(p.shift())}var l=o,h=o;"undefined"!=typeof console&&(l="undefined"!=typeof console.error?function(e){}:function(e){},h="undefined"!=typeof console.info?function(e){}:function(e){}),e.onPotentiallyUnhandledRejection=function(e){c(n,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){c(a,e)},e.onFatalRejection=function(e){c(i,e.value)};var p=[],f=[],d=!1;return e}})}("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"../timer":8}],7:[function(t,r){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===f?t:r(e)}function r(e){function t(e){i.resolve(e)}function r(e){i.reject(e)}function n(e){i.notify(e)}var i=new m;try{e(t,r,n)}catch(o){r(o)}return i}function n(e){return R(e)?e:new t(f,new g(l(e)))}function i(e){return new t(f,new g(new b(e)))}function o(){return V}function s(){return new t(f,new m)}function a(e){function r(e,t,r){this[e]=t,0===--u&&r.become(new v(this))}var n,i,o,s,a=new m,u=e.length>>>0,l=new Array(u);for(n=0;n<e.length;++n)if(o=e[n],void 0!==o||n in e)if(A(o))if(i=h(o),s=i.state(),0===s)i.fold(r,n,l,a);else{if(!(s>0)){c(e,n+1,i,a);break}l[n]=i.value,--u}else l[n]=o,--u;else--u;return 0===u&&a.become(new v(l)),new t(f,a)}function c(e,t,r,n){n.become(r);var i,o,s;for(i=t;i<e.length;++i)s=e[i],A(s)&&(o=h(s),o!==r&&o.visit(o,void 0,o._unreport))}function u(e){if(Object(e)===e&&0===e.length)return o();var r,n,i,s=new m;for(r=0;r<e.length;++r)if(n=e[r],void 0!==n||r in e){if(i=l(n),0!==i.state()){c(e,r+1,i,s);break}i.visit(s,s.resolve,s.reject)}return new t(f,s)}function l(e){return R(e)?e._handler.join():A(e)?p(e):new v(e)}function h(e){return R(e)?e._handler.join():p(e)}function p(e){try{var t=e.then;return"function"==typeof t?new y(t,e):new v(e)}catch(r){return new b(r)}}function f(){}function d(){}function m(e,r){t.createContext(this,r),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function g(e){this.handler=e}function y(e,t){m.call(this),M.enqueue(new C(e,t,this))}function v(e){t.createContext(this),this.value=e}function b(e){t.createContext(this),this.id=++H,this.value=e,this.handled=!1,this.reported=!1,this._report()}function S(e,t){this.rejection=e,this.context=t}function w(e){this.rejection=e}function _(){return new b(new TypeError("Promise cycle"))}function T(e,t){this.continuation=e,this.handler=t}function E(e,t){this.handler=t,this.value=e}function C(e,t,r){this._then=e,this.thenable=t,this.resolver=r}function x(e,t,r,n,i){try{e.call(t,r,n,i)}catch(o){n(o)}}function R(e){return e instanceof t}function A(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function O(e,r,n,i){return"function"!=typeof e?i.become(r):(t.enterContext(r),P(e,r.value,n,i),void t.exitContext())}function j(e,r,n,i,o){return"function"!=typeof e?o.become(n):(t.enterContext(n),I(e,r,n.value,i,o),void t.exitContext())}function k(e,r,n,i,o){return"function"!=typeof e?o.notify(r):(t.enterContext(n),L(e,r,i,o),void t.exitContext())}function P(e,t,r,n){try{n.become(l(e.call(r,t)))}catch(i){n.become(new b(i))}}function I(e,t,r,n,i){try{e.call(n,t,r,i)}catch(o){i.become(new b(o))}}function L(e,t,r,n){try{n.notify(e.call(r,t))}catch(i){n.notify(i)}}function N(e,t){t.prototype=F(e.prototype),t.prototype.constructor=t}function D(){}var M=e.scheduler,F=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=n,t.reject=i,t.never=o,t._defer=s,t._handler=l,t.prototype.then=function(e,t){var r=this._handler,n=r.join().state();if("function"!=typeof e&&n>0||"function"!=typeof t&&0>n)return new this.constructor(f,r);var i=this._beget(),o=i._handler;return r.chain(o,r.receiver,e,t,arguments.length>2?arguments[2]:void 0),i},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){var e=this._handler,t=new m(e.receiver,e.join().context);return new this.constructor(f,t)},t.all=a,t.race=u,f.prototype.when=f.prototype.become=f.prototype.notify=f.prototype.fail=f.prototype._unreport=f.prototype._report=D,f.prototype._state=0,f.prototype.state=function(){return this._state},f.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},f.prototype.chain=function(e,t,r,n,i){this.when({resolver:e,receiver:t,fulfilled:r,rejected:n,progress:i})},f.prototype.visit=function(e,t,r,n){this.chain(B,e,t,r,n)},f.prototype.fold=function(e,t,r,n){this.visit(n,function(n){e.call(r,t,n,this)},n.reject,n.notify)},N(f,d),d.prototype.become=function(e){e.fail()};var B=new d;N(f,m),m.prototype._state=0,m.prototype.resolve=function(e){this.become(l(e))},m.prototype.reject=function(e){this.resolved||this.become(new b(e))},m.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=_();return e},m.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var r=0;r<e.length;++r)t.when(e[r])},m.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&M.enqueue(this),void 0!==this.context&&e._report(this.context))},m.prototype.when=function(e){this.resolved?M.enqueue(new T(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},m.prototype.notify=function(e){this.resolved||M.enqueue(new E(e,this))},m.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},m.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},m.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},N(f,g),g.prototype.when=function(e){M.enqueue(new T(e,this))},g.prototype._report=function(e){this.join()._report(e)},g.prototype._unreport=function(){this.join()._unreport()},N(m,y),N(f,v),v.prototype._state=1,v.prototype.fold=function(e,t,r,n){j(e,t,this,r,n)},v.prototype.when=function(e){O(e.fulfilled,this,e.receiver,e.resolver)};var H=0;N(f,b),b.prototype._state=-1,b.prototype.fold=function(e,t,r,n){n.become(this)},b.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),O(e.rejected,this,e.receiver,e.resolver)},b.prototype._report=function(e){M.afterQueue(new S(this,e))},b.prototype._unreport=function(){this.handled=!0,M.afterQueue(new w(this))},b.prototype.fail=function(e){t.onFatalRejection(this,void 0===e?this.context:e)},S.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,t.onPotentiallyUnhandledRejection(this.rejection,this.context))},w.prototype.run=function(){this.rejection.reported&&t.onPotentiallyUnhandledRejectionHandled(this.rejection)},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=D;var $=new f,V=new t(f,$);return T.prototype.run=function(){this.handler.join().when(this.continuation)},E.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,r=0;r<e.length;++r)t=e[r],k(t.progress,this.value,this.handler,t.receiver,t.resolver)},C.prototype.run=function(){function e(e){n.resolve(e)}function t(e){n.reject(e)}function r(e){n.notify(e)}var n=this.resolver;x(this._then,this.thenable,e,t,r)},t}})}("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],8:[function(t,r){!function(e){"use strict";e(function(e){var t,r,n,i;t=e;try{r=t("vertx")}catch(o){}return r&&"function"==typeof r.setTimer?(n=function(e,t){return r.setTimer(t,e)},i=r.cancelTimer):(n=function(e,t){return setTimeout(e,0|t)},i=function(e){return clearTimeout(e)}),{set:n,clear:i}})}("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{}]},{},[1])(1)}),function(__global){function __eval(__source,__global,load){var __curRegister=System.register;System.register=function(e,t,r){"string"!=typeof e&&(r=t,t=e),load.declare=r,load.depsList=t};try{eval('(function() { var __moduleName = "'+(load.name||"").replace('"','"')+'"; '+__source+" \n }).call(__global);")}catch(e){throw("SyntaxError"==e.name||"TypeError"==e.name)&&(e.message="Evaluating "+(load.name||load.address)+"\n	"+e.message),e}System.register=__curRegister}$__Object$getPrototypeOf=Object.getPrototypeOf||function(e){return e.__proto__};var $__Object$defineProperty;!function(){try{Object.defineProperty({},"a",{})&&($__Object$defineProperty=Object.defineProperty)}catch(e){$__Object$defineProperty=function(e,t,r){try{e[t]=r.value||r.get.call(e)}catch(n){}}}}(),$__Object$create=Object.create||function(e,t){function r(){}if(r.prototype=e,"object"==typeof t)for(prop in t)t.hasOwnProperty(prop)&&(r[prop]=t[prop]);return new r},function(){function e(e){return{status:"loading",name:e,linkSets:[],dependencies:[],metadata:{}}}function t(e,t,r){return new E(s({step:r.address?"fetch":"locate",loader:e,moduleName:t,moduleMetadata:r&&r.metadata||{},moduleSource:r.source,moduleAddress:r.address}))}function r(t,r,i,o){return new E(function(e){e(t.loaderObj.normalize(r,i,o))}).then(function(r){var i;if(t.modules[r])return i=e(r),i.status="linked",i;for(var o=0,s=t.loads.length;s>o;o++)if(i=t.loads[o],i.name==r)return i;return i=e(r),t.loads.push(i),n(t,i),i})}function n(e,t){i(e,t,E.resolve().then(function(){return e.loaderObj.locate({name:t.name,metadata:t.metadata})}))}function i(e,t,r){o(e,t,r.then(function(r){return"loading"==t.status?(t.address=r,e.loaderObj.fetch({name:t.name,metadata:t.metadata,address:r})):void 0}))}function o(e,t,n){n.then(function(r){return"loading"==t.status?e.loaderObj.translate({name:t.name,metadata:t.metadata,address:t.address,source:r}):void 0}).then(function(r){return"loading"==t.status?(t.source=r,e.loaderObj.instantiate({name:t.name,metadata:t.metadata,address:t.address,source:r})):void 0}).then(function(n){if("loading"==t.status){if(void 0===n)t.address=t.address||"anon"+ ++R,t.isDeclarative=!0,e.loaderObj.parse(t);else{if("object"!=typeof n)throw TypeError("Invalid instantiate return value");t.depsList=n.deps||[],t.execute=n.execute,t.isDeclarative=!1}t.dependencies=[];for(var i=t.depsList,o=[],s=0,a=i.length;a>s;s++)(function(n,i){o.push(r(e,n,t.name,t.address).then(function(e){if(t.dependencies[i]={key:n,value:e.name},"linked"!=e.status)for(var r=t.linkSets.concat([]),o=0,s=r.length;s>o;o++)c(r[o],e)}))})(i[s],s);return E.all(o)}}).then(function(){t.status="loaded";for(var e=t.linkSets.concat([]),r=0,n=e.length;n>r;r++)l(e[r],t)})["catch"](function(e){t.status="failed",t.exception=e;for(var r=t.linkSets.concat([]),n=0,i=r.length;i>n;n++)h(r[n],e)})}function s(t){return function(r){var s=t.loader,c=t.moduleName,u=t.step;if(s.modules[c])throw new TypeError('"'+c+'" already exists in the module table');for(var l=0,h=s.loads.length;h>l;l++)if(s.loads[l].name==c)throw new TypeError('"'+c+'" already loading');var p=e(c);p.metadata=t.moduleMetadata;var f=a(s,p);s.loads.push(p),r(f.done),"locate"==u?n(s,p):"fetch"==u?i(s,p,E.resolve(t.moduleAddress)):(p.address=t.moduleAddress,o(s,p,E.resolve(t.moduleSource)))}}function a(e,t){var r={loader:e,loads:[],startingLoad:t,loadingCount:0};return r.done=new E(function(e,t){r.resolve=e,r.reject=t}),c(r,t),r}function c(e,t){for(var r=0,n=e.loads.length;n>r;r++)if(e.loads[r]==t)return;e.loads.push(t),t.linkSets.push(e),"loaded"!=t.status&&e.loadingCount++;for(var i=e.loader,r=0,n=t.dependencies.length;n>r;r++){var o=t.dependencies[r].value;if(!i.modules[o])for(var s=0,a=i.loads.length;a>s;s++)if(i.loads[s].name==o){c(e,i.loads[s]);break}}}function u(e){try{d(e)}catch(t){return h(e,t),!0}}function l(e,t){if(e.loadingCount--,!(e.loadingCount>0)){var r=e.startingLoad;if(e.loader.loaderObj.execute===!1){for(var n=[].concat(e.loads),i=0,o=n.length;o>i;i++){var t=n[i];t.module=t.isDeclarative?{name:t.name,module:A({}),evaluated:!0}:{module:A({})},t.status="linked",p(e.loader,t)}return e.resolve(r)}var s=u(e);s||e.resolve(r)}}function h(e,t){for(var r=e.loader,n=e.loads.concat([]),i=0,o=n.length;o>i;i++){var s=n[i];r.loaderObj.failed=r.loaderObj.failed||[],-1==C.call(r.loaderObj.failed,s)&&r.loaderObj.failed.push(s);var a=C.call(s.linkSets,e);if(s.linkSets.splice(a,1),0==s.linkSets.length){var c=C.call(e.loader.loads,s);-1!=c&&e.loader.loads.splice(c,1)}}e.reject(t)}function p(e,t){if(e.loaderObj.trace){e.loaderObj.loads||(e.loaderObj.loads={});var r={};t.dependencies.forEach(function(e){r[e.key]=e.value}),e.loaderObj.loads[t.name]={name:t.name,deps:t.dependencies.map(function(e){return e.key}),depMap:r,address:t.address,metadata:t.metadata,source:t.source,kind:t.isDeclarative?"declarative":"dynamic"}}t.name&&(e.modules[t.name]=t.module);var n=C.call(e.loads,t);-1!=n&&e.loads.splice(n,1);for(var i=0,o=t.linkSets.length;o>i;i++)n=C.call(t.linkSets[i].loads,t),-1!=n&&t.linkSets[i].loads.splice(n,1);t.linkSets.splice(0,t.linkSets.length)}function f(e,t,r,n){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==C.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var i=0,o=t.length;o>i;i++)for(var s=t[i],a=0;a<e.dependencies.length;a++)if(s.name==e.dependencies[a].value){var c=e.groupIndex+(s.isDeclarative!=e.isDeclarative);if(void 0===s.groupIndex||s.groupIndex<c){if(s.groupIndex&&(r[s.groupIndex].splice(C.call(r[s.groupIndex],s),1),0==r[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=c}f(s,t,r,n)}}}function d(e){var t=e.loader;if(e.loads.length){var r=[],n=e.loads[0];n.groupIndex=0,f(n,e.loads,r,t);for(var i=n.isDeclarative==r.length%2,o=r.length-1;o>=0;o--){for(var s=r[o],a=0;a<s.length;a++){var c=s[a];if(i)g(c,e.loads,t);else{var u=c.execute();if(!(u&&u instanceof _))throw new TypeError("Execution must define a Module instance");c.module={name:c.name,module:u},c.status="linked"}p(t,c)}i=!i}}}function m(e,t){var r=t.moduleRecords;return r[e]||(r[e]={name:e,dependencies:[],module:new _,importers:[]})}function g(e,t,r){if(!e.module){var n=e.module=m(e.name,r),i=e.module.module,o=e.declare.call(__global,function(e,t){n.locked=!0,i[e]=t;for(var r=0,o=n.importers.length;o>r;r++){var s=n.importers[r];if(!s.locked){var a=C.call(s.dependencies,n);s.setters[a](i)}}return n.locked=!1,t});n.setters=o.setters,n.execute=o.execute;for(var s=0,a=e.dependencies.length;a>s;s++){var c=e.dependencies[s].value,u=r.modules[c];if(!u)for(var l=0;l<t.length;l++)t[l].name==c&&(t[l].module?u=m(c,r):(g(t[l],t,r),u=t[l].module));u.importers?(n.dependencies.push(u),u.importers.push(n)):n.dependencies.push(null),n.setters[s]&&n.setters[s](u.module)}e.status="linked"}}function y(e,t){return b(t.module,[],e),t.module.module}function v(e){try{e.execute.call(__global)}catch(t){return t}}function b(e,t,r){var n=S(e,t,r);if(n)throw n}function S(e,t,r){if(!e.evaluated&&e.dependencies){t.push(e);for(var n,i=e.dependencies,o=0,s=i.length;s>o;o++){var a=i[o];if(a&&-1==C.call(t,a)&&(n=S(a,t,r)))return n+"\n  in module "+a.name}if(e.failed)return new Error("Module failed execution.");if(!e.evaluated)return e.evaluated=!0,n=v(e),n?e.failed=!0:Object.preventExtensions&&Object.preventExtensions(e.module),e.execute=void 0,n}}function w(e){if("object"!=typeof e)throw new TypeError("Options must be an object");e.normalize&&(this.normalize=e.normalize),e.locate&&(this.locate=e.locate),e.fetch&&(this.fetch=e.fetch),e.translate&&(this.translate=e.translate),e.instantiate&&(this.instantiate=e.instantiate),this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}},x(this,"global",{get:function(){return __global}})}function _(){}function T(e,t,r){var n=e._loader.importPromises;return n[t]=r.then(function(e){return n[t]=void 0,e},function(e){throw n[t]=void 0,e})}var E=__global.Promise||require("when/es6-shim/Promise");console.assert=console.assert||function(){};var C=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},x=$__Object$defineProperty,R=0;w.prototype={constructor:w,define:function(e,t,r){if(this._loader.importPromises[e])throw new TypeError("Module is already loading.");return T(this,e,new E(s({step:"translate",loader:this._loader,moduleName:e,moduleMetadata:r&&r.metadata||{},moduleSource:t,moduleAddress:r&&r.address})))},"delete":function(e){return this._loader.modules[e]?delete this._loader.modules[e]:!1},get:function(e){return this._loader.modules[e]?(b(this._loader.modules[e],[],this),this._loader.modules[e].module):void 0},has:function(e){return!!this._loader.modules[e]},"import":function(e,r){var n=this;return E.resolve(n.normalize(e,r&&r.name,r&&r.address)).then(function(e){var i=n._loader;return i.modules[e]?(b(i.modules[e],[],i._loader),i.modules[e].module):i.importPromises[e]||T(n,e,t(i,e,r||{}).then(function(t){return delete i.importPromises[e],y(i,t)}))})},load:function(e){return this._loader.modules[e]?(b(this._loader.modules[e],[],this._loader),E.resolve(this._loader.modules[e].module)):this._loader.importPromises[e]||T(this,e,t(this._loader,e,{}))},module:function(t,r){var n=e();n.address=r&&r.address;var i=a(this._loader,n),s=E.resolve(t),c=this._loader,u=i.done.then(function(){return y(c,n)});return o(c,n,s),u},newModule:function(e){if("object"!=typeof e)throw new TypeError("Expected object");var t=new _;for(var r in e)!function(r){x(t,r,{configurable:!1,enumerable:!0,get:function(){return e[r]}})}(r);return Object.preventExtensions&&Object.preventExtensions(t),t},set:function(e,t){if(!(t instanceof _))throw new TypeError("Loader.set("+e+", module) must be a module");this._loader.modules[e]={module:t}},normalize:function(e){return e},locate:function(e){return e.name},fetch:function(){throw new TypeError("Fetch not implemented")},translate:function(e){return e.source},parse:function(){throw new TypeError("Loader.parse is not implemented")},instantiate:function(){}};var A=w.prototype.newModule;!function(){var e;w.prototype.parse=function(t){if(!e)if("undefined"==typeof window&&"undefined"==typeof WorkerGlobalScope)e=require("traceur");else{if(!__global.traceur)throw new TypeError("Include Traceur for module syntax support");e=__global.traceur}t.isDeclarative=!0;var r=e.options||{};r.modules="instantiate",r.script=!1,r.sourceMaps=!0,r.filename=t.address;var n=new e.Compiler(r),i=n.compile(t.source,r.filename),o=n.getSourceMap();__global.btoa&&o&&(i+="\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(o)))+"\n"),__eval(i,__global,t)}}(),"object"==typeof exports&&(module.exports=w),__global.Reflect=__global.Reflect||{},__global.Reflect.Loader=__global.Reflect.Loader||w,__global.Reflect.global=__global.Reflect.global||__global,__global.LoaderPolyfill=w}(),function(){function e(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function t(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}function r(r,n){return n=e(n||""),r=e(r||""),n&&r?(n.protocol||r.protocol)+(n.protocol||n.authority?n.authority:r.authority)+t(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(r.authority&&!r.pathname?"/":"")+r.pathname.slice(0,r.pathname.lastIndexOf("/")+1)+n.pathname:r.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||r.search)+n.hash:null}function n(){document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1),i()}function i(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t];if("module"==r.type){var n=r.innerHTML;h.module(n)["catch"](function(e){setTimeout(function(){throw e})})}}}var o,s="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,a="undefined"!=typeof window&&!s,c=__global.Promise||require("when/es6-shim/Promise");if("undefined"!=typeof XMLHttpRequest)o=function(e,t,r){function n(){t(o.responseText)}function i(){r(o.statusText+": "+e||"XHR error")}var o=new XMLHttpRequest,s=!0;if(!("withCredentials"in o)){var a=/^(\w+:)?\/\/([^\/]+)/.exec(e);a&&(s=a[2]===window.location.host,a[1]&&(s&=a[1]===window.location.protocol))}s||"undefined"==typeof XDomainRequest||(o=new XDomainRequest,o.onload=n,o.onerror=i,o.ontimeout=i,o.onprogress=function(){},o.timeout=0),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||0==o.status&&o.responseText?n():i())},o.open("GET",e,!0),o.send(null)};else{if("undefined"==typeof require)throw new TypeError("No environment fetch API available.");var u;o=function(e,t,r){return u=u||require("fs"),u.readFile(e,function(e,n){return e?r(e):void t(n+"")})}}var l=function(e){function t(e){if($__Object$getPrototypeOf(t.prototype).constructor.call(this,e||{}),"undefined"!=typeof location&&location.href){var r=__global.location.href.split("#")[0].split("?")[0];this.baseURL=r.substring(0,r.lastIndexOf("/")+1)}else{if("undefined"==typeof process||!process.cwd)throw new TypeError("No environment baseURL");this.baseURL=process.cwd()+"/"}this.paths={"*":"*.js"}}return t.__proto__=null!==e?e:Function.prototype,t.prototype=$__Object$create(null!==e?e.prototype:null),$__Object$defineProperty(t.prototype,"constructor",{value:t}),$__Object$defineProperty(t.prototype,"global",{get:function(){return a?window:s?self:__global},enumerable:!1}),$__Object$defineProperty(t.prototype,"strict",{get:function(){return!0},enumerable:!1}),$__Object$defineProperty(t.prototype,"normalize",{value:function(e,t){if("string"!=typeof e)throw new TypeError("Module name must be a string");var r=e.split("/");if(0==r.length)throw new TypeError("No module name provided");var n=0,i=!1,o=0;if("."==r[0]){if(n++,n==r.length)throw new TypeError('Illegal module name "'+e+'"');i=!0}else{for(;".."==r[n];)if(n++,n==r.length)throw new TypeError('Illegal module name "'+e+'"');n&&(i=!0),o=n}for(var s=n;s<r.length;s++){var a=r[s];if(""==a||"."==a||".."==a)throw new TypeError('Illegal module name "'+e+'"')}if(!i)return e;var c=[],u=(t||"").split("/");return u.length-1-o,c=c.concat(u.splice(0,u.length-1-o)),c=c.concat(r.splice(n,r.length-n)),c.join("/")},enumerable:!1,writable:!0}),$__Object$defineProperty(t.prototype,"locate",{value:function(e){var t,n=e.name,i="";for(var o in this.paths){var s=o.split("*");if(s.length>2)throw new TypeError("Only one wildcard in a path is permitted");if(1==s.length){if(n==o&&o.length>i.length){i=o;break}}else n.substr(0,s[0].length)==s[0]&&n.substr(n.length-s[1].length)==s[1]&&(i=o,t=n.substr(s[0].length,n.length-s[1].length-s[0].length))}var c=this.paths[i];return t&&(c=c.replace("*",t)),a&&(c=c.replace(/#/g,"%23")),r(this.baseURL,c)},enumerable:!1,writable:!0}),$__Object$defineProperty(t.prototype,"fetch",{value:function(e){var t=this;return new c(function(n,i){o(r(t.baseURL,e.address),function(e){n(e)},i)})},enumerable:!1,writable:!0}),t}(__global.LoaderPolyfill),h=new l;if("object"==typeof exports&&(module.exports=h),__global.System=h,a&&"undefined"!=typeof document.getElementsByTagName){var p=document.getElementsByTagName("script");p=p[p.length-1],"complete"===document.readyState?setTimeout(i):document.addEventListener&&(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)),p.getAttribute("data-init")&&window[p.getAttribute("data-init")]()}}()}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:global);